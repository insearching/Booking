var _i_=this._i_||function(){},_r_=this._r_||function(e){return e},_sp_=this._sp_||function(e){B.et.customGoal("cDPPESHbfNFVTAYZSQDZET",1),B.reportError({message:"SPDR function called - "+e},"SPDR")};booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.hotel={loaded:!0,run:!1}),B.hotel=B.hotel||{},Array.prototype.find||(Array.prototype.find=function(e){if(_i_("269:22445bef"),null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return _r_(t);return _r_(void 0)}),B.define("querystring",function(e,n,t){function r(e,t){_i_("269:b1205794");var i=e.split(t);return _r_([i.shift(),i.join(t)])}_i_("269:3ba17652"),n.parseUrl=function(e){_i_("269:d897ad4d");var t={},i=r(e,"#");return t.hash=i[1],i=r(i[0],"?"),t.base=i[0],t.query=n.parse(i[1]),_r_(t)},n.stringify=function(e,t){_i_("269:779bf395");var i=(t=t||{}).sep||"&",n=t.eq||"=",r=t.skipNull,a=t.encodeURIComponent||encodeURIComponent,o=[];function s(e,t){_i_("269:36687cac"),null==t&&(t=""),o.push(e+n+a(t)),_r_()}for(var _ in e){if(null===e[_]&&r)continue;e[_]instanceof Array?e[_].forEach(s.bind(this,_)):s(_,e[_])}return _r_(o.join(i))},n.parse=function(e,r){_i_("269:637f7447");var a={};return e.split(/[\&\;]+/).forEach(function(e){if(_i_("269:20fe34d1"),!e)return _r_();var t=e.split("="),i=t.shift(),n=t.join("=");if(!r)try{n=decodeURIComponent(n.replace(/\+/g,"%20"))}catch(e){}i in a?(Array.isArray(a[i])||(a[i]=[a[i]]),a[i].push(n)):a[i]=n,_r_()}),_r_(a)},n.toArray=function(e){_i_("269:c31586d4");var t,i,n=[];for(t in e)if(e.hasOwnProperty(t))if(i=e[t],Array.isArray(i))for(var r=0,a=i.length;r<a;r++)n.push({key:t,value:i[r]});else n.push({key:t,value:i});return _r_(n)},_r_()}),B.define("lazy-loader-image",function(e,t,i){_i_("269:06938aca"),t.initializeLazyLoaderImage=function(i){_i_("269:dc09bc92");var e=[].slice.call(document.querySelectorAll("img."+i));if("IntersectionObserver"in window){var n=new IntersectionObserver(function(e,t){_i_("269:a5470355"),e.forEach(function(e){if(_i_("269:6ee9b3af"),e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.srcset=t.dataset.srcset,t.classList.remove(i),n.unobserve(t)}_r_()}),_r_()});e.forEach(function(e){_i_("269:77893bc9"),n.observe(e),_r_()})}else{var t=!1,r=function(){_i_("269:3333c6ac"),!1===t&&(t=!0,setTimeout(function(){_i_("269:6e211391"),e.forEach(function(t){_i_("269:bfe1a904"),"none"!==getComputedStyle(t).display&&t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&(t.src=t.getAttribute("data-src"),t.srcset=t.getAttribute("data-srcset"),t.classList.remove(i),0===(e=e.filter(function(e){return _i_("269:3fa4279d"),_r_(e!==t)})).length&&(document.removeEventListener("scroll",r),window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r))),_r_()}),t=!1,_r_()},500)),_r_()};document.addEventListener("scroll",r),window.addEventListener("resize",r),window.addEventListener("orientationchange",r)}_r_()},_r_()}),B.hotel.Events={Gallery:{BEFORE_SLIDE_CHANGE:"hp:gallery_before_slide_change",AFTER_SLIDE_CHANGE:"hp:gallery_after_slide_change",AFTER_SLIDE_CHANGE_PERSISTENT:"hp:gallery_after_slide_change_persistent",SLIDE_SHOW:"hp:gallery_slide_show",INIT:"hp:gallery_init",THUMB_HOVER:"hp:gallery_thumb_hover",NAVIGATE:"hp:gallery_navigate",NAVIGATE_MANUAL:"hp_gallery_navigate_manual",ON_CTA_SLIDE:"hp:gallery_on_cta_slide",OFF_CTA_SLIDE:"hp:gallery_off_cta_slide",MOUSE_IN:"hp:gallery_mouse_in",MOUSE_OUT:"hp:gallery_mouse_out",ROOM_NAME_CLICK:"hp:gallery_room_name_click"},PhotoGrid:{MODAL_DOM_READY:"hp:grid_modal_dom_ready",GRID_ELEMENT_CLICKED:"hp:grid_element_clicked",GRID_SEE_ALL_CLICKED:"hp:grid_see_all_clicked",MODAL_THUMB_CLICKED:"hp:grid_modal_thumb_clicked",MODAL_GROUP_CLICKED:"hp:grid_modal_group_clicked",MODAL_SAW_GENERAL_GROUP:"hp:grid_modal_saw_general_group",MODAL_PICTURE_CHANGED:"hp:grid_modal_picture_changed",MODAL_SHOW_PREVIOUS:"hp:grid_modal_show_precvious",MODAL_SHOW_NEXT:"hp:grid_modal_show_next",MODAL_OPENED:"hp:grid_modal_opened",MODAL_CLOSED:"hp:grid_modal_closed",MODAL_RESERVE_CLICKED:"hp:grid_modal_reserve_clicked",MODAL_VIEW_ALL_PHOTOS:"hp:grid_modal_view_all_photos",MODAL_CLOSE_BUTTON_CLICKED:"hp:grid_modal_close_button_clicked",MODAL_SAW_PERSUASIVE_TAG:"hp:grid_modal_saw_persuasive_tag"},RT:{ROOM_SELECTED:"rt:room_selected",ROOM_CHANGED:"rt:room_changed",NO_ROOM_SELECTED:"rt:no_rooms_selected",NO_ROOM_SELECTED_POSTALERT:"rt:no_rooms_selected_postalert",SUMMARY_CHANGE:"rt:summary_change",SUMMARY_BEFORE_CHANGE:"rt:summary_before_change",SUMMARY_HIDE:"rt:summary_hide",LIGHTBOX_OPEN:"rt-lightbox-open",LIGHTBOX_OPEN_NEW:"rt-lightbox-open-new",LIGHTBOX_LOADED_ASYNC:"rt-lightbox-loaded-async",LIGHTBOX_CLOSE:"rt-lightbox-closed",LIGHTBOX_READY:"rt-lightbox-ready",LIGHTBOX_GALLERY_READY:"rt-lightbox-gallery-ready",STICKY_STUCK:"rt:sticky_stuck",STICKY_RELEASE:"rt:sticky_release",FILTER_APPLIED:"rt:filter:applied",FILTER_MATCHED:"rt:filter:matched"},Reviews:{REVIEWS_FETCHED:"REVIEWS:fetched",RECENT_REVIEWS_FETCHED:"RECENT_REVIEWS:fetched"},ThirdPartyInventory:{TPI_BLOCK_LOADED:"tpi:tpi_block_loaded",TPI_ALL_BLOCKS_LOADED:"tpi:tpi_all_blocks_loaded",TPI_NO_RESULTS_FOUND:"tpi:tpi_no_results_found"},Other:{LOCK_PRICE_DISMISSED:"hp:lock_price_dismissed",REGION_ATTRACTIONS_RENDERED:"hp:region_attractions_rendered",NO_REGION_ATTRACTIONS_RENDERED:"hp:no_region_attractions_rendered",REGION_ATTRACTIONS_MAP_CTA_CLICKED:"hp:region_attractions_map_cta_clicked",GROUP_RECOMMENDATION_CTA_CLICKED:"hp:gr_recommendation_cta_clicked"}},B.hotel.Events.ReviewFloater={FORCE_SLIDE:"hp:gallery_rf_force_slide",MOUSE_ENTER:"hp:gallery_rf_mouse_enter",MOUSE_LEAVE:"hp:gallery_rf_mouse_leave",LOADED:"hp:gallery_rf_loaded",SLIDE:"hp:gallery_rf_slide"},B.hotel.Goals={Gallery:{CLICK_NAVIGATION:"hp:gallery_arrows_clicked",VIEW_ALL_PHOTOS:"hp:gallery_photos_all_viewed",HOVER_THUMB:"hp:gallery_thumbs_used"},RT:{}},B.define("legacy-event-bus",function(e){_i_("269:9e4c9c1d");var t=e("event-emitter");return _r_(new t)}),B.define("component/keyboard",function(e,t,i){_i_("269:d840ae1d");var n=e("component"),r=e("event-emitter"),a={8:"Backspace",46:"Delete",9:"Tab",13:"Enter",32:"Space",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};function o(i,n){return _i_("269:c305199b"),_r_(function(e){_i_("269:89331456");var t="";e.which&&void 0!==a[e.which.toString()]&&(e.originalEvent.altKey&&(t+=":alt"),e.originalEvent.ctrlKey&&(t+=":ctrl"),e.originalEvent.metaKey&&(t+=":meta"),e.originalEvent.shiftKey&&(t+=":shift"),t+=":"+a[e.which],i.trigger(n+t,{keys:n+t,originalEvent:e})),_r_()})}i.exports=n.extend({init:function(){_i_("269:70caa689"),r.extend(this),this.$el.bind("keydown",o(this,"keydown")).bind("keyup",o(this,"keyup")),_r_()}}),_r_()}),B.define("component/company/lp-return-bar/lp-return-bar",function(e,t,i){_i_("269:268ebb2f");var n=e("component");i.exports=n.extend({init:function(){_i_("269:dd70b047"),this.setupHandlers(),_r_()},setupHandlers:function(){_i_("269:09a9ce0d"),this.$el.find('[data-return-bar-dismiss], [data-return-bar-dismiss=""]').bind("click",this.dismiss.bind(this)),_r_()},dismiss:function(e){_i_("269:36cbb736"),("msie"!==B.env.b_browser||9<B.env.b_browser_version)&&(this.$el.empty(),e.preventDefault(),history.replaceState({},document.title,$(e.target).attr("href"))),_r_()}}),_r_()}),B.define("component/tooltip-loc",function(e,t,i){"use strict";_i_("269:0e7aa0e2");var n=e("component"),o=e("jquery");i.exports=n.extend({DEFAULTS:{template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",alignment:"center",trigger:"hover focus",animation:"true"},init:function(){_i_("269:4b79859f"),this._buildOptions(),this._createTooltip(),this._attachEvents(),this.$el.trigger("ready.B.tooltip",[this.$tip]),_r_()},_buildOptions:function(){_i_("269:2003d6d2"),this.options=o.extend({},this.DEFAULTS,this.$el.data()),this.options.intangible="intangible"in this.options,this.options.target&&(this.options.target=o(this.options.target).first()),this.options.content||(this.options.content=this.options.title||this.el.title),_r_()},_createTooltip:function(){_i_("269:f0d24a5f");var e="tooltip-"+this.options.placement+" tooltip-align-"+this.options.alignment;this.options.extraClass&&(e=e+" "+this.options.extraClass),"true"===this.options.animation&&(e+=" tooltip-animate"),this.$tip=o(this.options.template),this.$tip.addClass(e),this._attachContent(),this.$tip.appendTo(o("body")),this.$el.trigger("inserted.B.tooltip",[this.$tip]),_r_()},_attachContent:function(){_i_("269:edb36e3b");var e=this.$tip.find(".tooltip-inner");this.options.target?e.append(this.options.target.clone()):(this.options.target=[],e.text(this.options.content)),_r_()},_positionTooltip:function(){_i_("269:55a3c39d"),this._defineAlignmentVars(),this._placeTooltip(),this._alignTooltip(),this.$tip.css({left:this.left,top:this.top,right:"auto"}),_r_()},_defineAlignmentVars:function(){_i_("269:ba6d432e"),this.elOffset=this.$el.offset(),this.position="left",this.dimension="outerWidth",this.options.placement.match(/top|bottom/)&&(this.position="top",this.dimension="outerHeight"),_r_()},_accountForRTL:function(e){if(_i_("269:3680d328"),!B.env.rtl)return _r_(e);if("left"===e)return _r_("right");if("right"===e)return _r_("left");return _r_(e)},_placeTooltip:function(){_i_("269:eefd1cb5");var e=this._accountForRTL(this.position),t=this.dimension;this._accountForRTL(this.options.placement)===e?this[e]=this.elOffset[e]-this.$tip[t]():this[e]=this.elOffset[e]+this.$el[t](),_r_()},_alignTooltip:function(){var e,t;switch(_i_("269:d3b34b71"),"left"===this.position?(e="top",t="outerHeight"):(e="left",t="outerWidth"),this._accountForRTL(this.options.alignment)){case e:this[e]=this.elOffset[e];break;case"center":this[e]=this.$el[t]()/2+this.elOffset[e]-this.$tip[t]()/2;break;default:this[e]=this.elOffset[e]+this.$el[t]()-this.$tip[t]()}_r_()},_attachEvents:function(){if(_i_("269:f9224418"),this.options.trigger.match(/manual/))return _r_();var e,t,i,n=this.options.trigger.split(" "),r=n.length,a=this.$el.add(this.$tip);for(this.options.intangible&&(a=this.$el);r--;)"click"===(e=n[r])?this.$el.on("click",o.proxy(this.toggle,this)):(t="hover"==e?"mouseenter":"focusin",i="hover"==e?"mouseleave":"focusout",a.on(t,o.proxy(this.show,this)),a.on(i,o.proxy(this.hide,this)));_r_()},_trackTransitionEnd:function(t){_i_("269:7d5873ec");var i=this.$el;this.$tip.one("transitionend",function(e){_i_("269:a241ca33"),i.trigger(t,[this]),_r_()}),_r_()},show:function(){_i_("269:1e6fbd16"),this.$el.trigger("show.B.tooltip",[this.$tip]),this._trackTransitionEnd("shown.B.tooltip"),this.$el.attr("aria-describedby",this.el.id),this._positionTooltip(),this.$tip.addClass("on").removeClass("off"),_r_()},hide:function(){_i_("269:0ab21ba6"),this.$el.trigger("hide.B.tooltip",[this.$tip]),this._trackTransitionEnd("hidden.B.tooltip"),this.$el.removeAttr("aria-describedby"),this.$tip.removeClass("on").addClass("off"),_r_()},toggle:function(){_i_("269:1e6fe6da"),this.$tip.is(".on")?this.hide():this.show(),_r_()}}),_r_()}),B.define("read-data-options",function(e,t,i){_i_("269:b2e7a21d"),i.exports=function(r,a){_i_("269:9b133c1b");var o={};return r.jquery&&(r=r[0]),Object.keys(a).forEach(function(e){_i_("269:dcce8877");var t=a[e],i="data-"+e,n=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!r.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}n=r.getAttribute(i);if(t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}o[e]=n,_r_()}),_r_(o)},_r_()}),B.define("leaving-users-lightbox",function(){_i_("269:ea4ff3b3");var e=function(){},t={customMaskClassName:"b_leaving_users_light_box_mask",messageDelay:600,lightboxRootClass:"b_leaving_users_light_box"};return e.prototype.init=function(e){if(_i_("269:9d5fe773"),"object"!=typeof e||!e.hasOwnProperty("lightboxContentBlock"))throw new Error("leaving-users-lightbox: `params` is not an object or it's missing required property: `lightboxContentBlock`!");if(this.params=$.extend(t,e),this.page_=$(document.documentElement),this.lightboxContentBlock_=$(e.lightboxContentBlock),0===this.lightboxContentBlock_.length)return _r_();this.lastMouseYCoords_=[],this.messageTimeoutId_=0,this.lightbox_=booking.lightbox,this.windowFocused_=!0,this.attachEvents_(),_r_()},e.prototype.isInitiated=function(e){return _i_("269:f3903c0d"),_r_(void 0!==this.lastMouseYCoords_)},e.prototype.attachEvents_=function(){_i_("269:cc42d47c");var t=this;this.page_.bind({"mousemove.LeavingUsersLightbox":function(e){_i_("269:f5739a10"),t.onPageMouseMove_(e),_r_()},"mouseleave.LeavingUsersLightbox":$.proxy(this.onPageMouseLeave_,this)}),$(window).focus(function(){_i_("269:21994453"),t.windowFocused_=!0,_r_()}).blur(function(){_i_("269:bf32ab82"),t.windowFocused_=!1,_r_()}),_r_()},e.prototype.detachEvents_=function(){_i_("269:b98dbd9b"),this.page_.unbind(".LeavingUsersLightbox"),_r_()},e.prototype.onPageMouseMove_=function(e){_i_("269:e847bd65"),clearTimeout(this.messageTimeoutId_),this.writeMouseCoords_(e),_r_()},e.prototype.onPageMouseLeave_=function(e){if(_i_("269:7d2733ea"),!this.wasMouseMoveUpwards_()||!this.strictCheck_(e))return _r_();var t=this;clearTimeout(this.messageTimeoutId_),this.messageTimeoutId_=setTimeout(function(){_i_("269:994297bd"),t.detachEvents_(),t.showLeavingMessage_(),_r_()},t.params.messageDelay),_r_()},e.prototype.showLeavingMessage_=function(){_i_("269:57ae04d3");var e=this;this.lightbox_.hide(),this.lightbox_.show(this.lightboxContentBlock_,{customWrapperClassName:this.params.lightboxRootClass,customMaskClassName:this.params.customMaskClassName,bAnimation:!1,hideCallBack:function(){_i_("269:7463757a"),B.events.emit("leaving-users-lightbox:hide",{lightbox:e.lightbox_,lightboxSelector:e.params.lightboxContentBlock}),_r_()}},function(){_i_("269:aad3515e"),B.events.emit("leaving-users-lightbox:show",{lightbox:e.lightbox_,lightboxSelector:e.params.lightboxContentBlock}),_r_()}),_r_()},e.prototype.writeMouseCoords_=function(e){_i_("269:b775bf8c"),this.lastMouseYCoords_.push(e.pageY),2<this.lastMouseYCoords_.length&&this.lastMouseYCoords_.shift(),_r_()},e.prototype.wasMouseMoveUpwards_=function(){return _i_("269:923f268e"),_r_(2<=this.lastMouseYCoords_.length&&this.lastMouseYCoords_[0]>this.lastMouseYCoords_[1])},e.prototype.strictCheck_=function(e){if(_i_("269:1faa8eb2"),!this.strictCheck)return _r_(!0);return _r_(e.clientY<30)},_r_(new e)}),B.define("component/core/lightbox/trigger",function(e,t,i){_i_("269:65afa432");var n=e("read-data-options"),r=e("lightbox");i.exports=e("component").extend({init:function(){_i_("269:77c342bc");var e=this.$el.data("event")||"click";this.options=n(this.el,{bCloseButton:{name:"close-button",type:Boolean},bCanScroll:{name:"scrollable",type:Boolean},bOverflowVisible:{name:"overflow-visible",type:Boolean},autoWidth:{name:"auto-width",type:Boolean},ajax:{name:"ajax",type:Boolean},iframe:{name:"iframe",type:Boolean},customWrapperClassName:{name:"wrapper-class",type:String},customMaskClassName:{name:"mask-class",type:String},bMaskClick:{name:"mask-click",type:Boolean},trigger:{name:"trigger",type:String},position:{name:"position",type:String},autoCenter:{name:"auto-center",type:Boolean},limitHeight:{name:"limit-height",type:Boolean},cloneElement:{name:"clone-element",type:Boolean},trapFocus:{name:"trap-focus",type:Boolean},modalLabeledById:{name:"modal-labeled-by-id",type:String},bAnimation:{name:"animation",type:Number},addDialogStartEndText:{name:"add-dialog-start-end-text",type:Boolean}}),"page-load"===e?(this.target=this.$el,$(document).ready(function(){_i_("269:55c7125e"),setTimeout(this.open.bind(this),150),_r_()}.bind(this))):(this.target=this.$el.attr("href")||this.$el.data("src")||this.target,this.$el.bind(e,this.open.bind(this))),_r_()},open:function(e){_i_("269:44868de7"),e&&e.preventDefault&&e.preventDefault(),r.show(this.target,this.options),this.options.trigger&&B.events.trigger(this.options.trigger,e,this.target),_r_()}}),_r_()}),B.define("component/clickable-block",function(e,t,i){_i_("269:44ebe8c5");var n=e("component");i.exports=n.extend({init:function(){_i_("269:dba6658f");var r=this.$el,a=r.data("selector")||"a",o=r.data("exclude")||"",s=r.data("target")||"";r.click(function(e){if(_i_("269:7ecc3873"),!$(e.target).closest(a).length||!o||!$(e.target).closest(o).length){e.preventDefault();var t=r.find(a+":first"),i="_blank"==t.attr("target")||"blank"==s||"_blank"==s,n=t.attr("href")||t.data("href");n&&(i?window.open(n):window.location=n)}_r_()}),_r_()}}),_r_()}),B.define("component/reviews/review-helpful-unhelpful",function(e,t,i){_i_("269:11014b83");var r=e("jquery"),n=e("component"),a=e("jstmpl");i.exports=n.extend({init:function(){_i_("269:c8dc55e6");var t=this;this.types=[],this.submitButton=this.$el.find("[type=submit]"),this.submitButton.each(function(){_i_("269:d544d677");var e=r(this).data("type");t.types.indexOf(e)<0&&t.types.push(e),t[e]={},t[e].form=r(this).parents("form.review-helpful__form"),t[e].reviewURL=t[e].form.find("[name=review_url]").val(),t[e].currentCount=t[e].form.data("current-count"),_r_()}),this.feedbackMessage=this.$el.find(".review-helpful__vote-feedback-message:not(.--unhelpful)"),this.feedbackUnhelpfulMessage=this.$el.find(".review-helpful__vote-feedback-message.--unhelpful"),this.helpfulSubmitted=!1,this.unhelpfulSubmitted=!1,this.isAlreadyVoted()?(this.disableSubmit(),this.updateMessage()):this.attachEvents(),_r_()},attachEvents:function(){_i_("269:dbd75e25");for(var e=0;e<this.types.length;e++)this[this.types[e]].form.on("submit",this.formSubmit.bind(this));_r_()},disableSubmit:function(){_i_("269:fc66a543"),this.submitButton.prop("disabled",!0).removeClass("review-helpful__form-submit").addClass("review-helpful__form-submitted").val(a.translations("review_helpful_vote_button_confirmed")+" ✔").hide(),_r_()},enableSubmit:function(){_i_("269:3cdfd500"),this.submitButton.prop("disabled",!1).removeClass("review-helpful__form-submitted").addClass("review-helpful__form-submit").val(a.translations("review_helpful_vote_button_confirmed")).show(),_r_()},updateMessage:function(){_i_("269:a196dc7c");var e=this;if(this.unhelpfulSubmitted)this.feedbackMessage.hide(0),this.feedbackUnhelpfulMessage.queue(function(){_i_("269:120053ca"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("269:3e080ec5"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:f32ca948"),r(this).html('<svg class="bk-icon -iconset-thumbs_down" color="#FF6C6C" fill="#FF6C6C" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M11.4 43.6a12 12 0 0 1 6.7-17A12 12 0 0 1 30 16h50v56l-17 36a8 8 0 0 1-15-4 15.2 15.2 0 0 1 1-4l7.9-20H21a12 12 0 0 1-9.4-19.4 12 12 0 0 1-.2-17zM120 16H88v56h32z"/></svg>'+a.translations("ugcx_reviews_you_voted_helpful_not",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:b511d974"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block");else if(this.helpfulSubmitted){var t=this.helpful.currentCount;this.feedbackUnhelpfulMessage.hide(0),t&&0!==t?this.feedbackMessage.queue(function(){_i_("269:03db97f1"),r(this).fadeOut("fast").dequeue(),_r_()}).queue(function(){_i_("269:d4e303271"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:18f0afd4"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" color="#FEBB02" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+a.translations("review_helpful_vote_you_and_others_bold",t,{number_people:t,start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:661a28d41"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block"):this.feedbackMessage.queue(function(){_i_("269:4fe96ecd"),r(this).hide().dequeue(),_r_()}).queue(function(){_i_("269:d4e30327"),e.submitButton.is(":visible")||r(this).removeClass("review-helpful__vote-others-helpful"),_r_()}).dequeue().queue(function(){_i_("269:d16789ec"),r(this).html('<svg class="bk-icon -iconset-thumbs_up" color="#FEBB02" fill="#FEBB02" height="14" width="14" viewBox="0 0 128 128" role="presentation" aria-hidden="true" focusable="false"><path d="M8 76a12 12 0 0 1 3.6-8.6A12 12 0 0 1 21 48h35.9L49 28a15.2 15.2 0 0 1-1-4 8 8 0 0 1 15-4l17 36v56H30a12 12 0 0 1-12-10.7 12 12 0 0 1-6.6-17A12 12 0 0 1 8 76zm112-20H88v56h32z"/></svg>'+a.translations("review_helpful_vote_you_bold",null,{start_bold:"<strong>",end_bold:"</strong>"})).dequeue(),_r_()}).queue(function(){_i_("269:661a28d4"),r(this).fadeIn("fast").dequeue(),_r_()}).css("display","inline-block")}_r_()},addVoteToCookie:function(e){_i_("269:eab1d738");var t,i=[];if(e&&"helpful"==e)t="rF";else{if(!e||"unhelpful"!=e)return _r_();t="uF"}window.b_cookie=window.b_cookie||{},window.b_cookie[t]&&(i=window.b_cookie[t].split(",")),49<(i=r.grep(i,function(e){return _i_("269:6e80b62c"),_r_(e&&"undefined"!==e)})).length&&(i=i.slice(i.length-49)),i.push(this[e].reviewURL),window.b_cookie[t]=i.toString(),JSON&&JSON.stringify&&(r.cookie("b")||null==r.cookie("b"))&&r.cookie("b",JSON.stringify(window.b_cookie),{expires:30,path:"/",domain:".booking.com"}),_r_()},isAlreadyVoted:function(){_i_("269:3dd73df1"),window.b_cookie=window.b_cookie||r.cookie("b")||{},JSON&&JSON.parse&&"string"==typeof window.b_cookie&&window.b_cookie.length&&(window.b_cookie=JSON.parse(window.b_cookie));for(var e=0;e<this.types.length;e++){var t,i=[];if(this.types[e]&&"helpful"==this.types[e]?t="rF":this.types[e]&&"unhelpful"==this.types[e]&&(t="uF"),window.b_cookie&&window.b_cookie[t])i=window.b_cookie[t].split(",");else if(JSON&&JSON.parse&&r.cookie("b")){var n=JSON.parse(r.cookie("b"));n[this.types[e]]&&(i=n[this.types[e]].split(","))}if(i.length&&-1!==i.indexOf(this[this.types[e]].reviewURL)){if("helpful"==this.types[e]){this.helpfulSubmitted=!0;continue}if("unhelpful"==this.types[e]){this.unhelpfulSubmitted=!0;continue}}}return this.unhelpfulSubmitted||this.helpfulSubmitted?_r_(!0):_r_(!1)},formSubmit:function(e){_i_("269:53c9fc16"),e&&e.preventDefault(),this.disableSubmit(),r.ajax({url:r(e.target).prop("action"),data:r(e.target).serialize(),method:"POST",success:this.success.bind(this),error:this.error.bind(this)}),_r_()},success:function(e){var t;if(_i_("269:28af7625"),e&&e.success)switch(e.success?parseInt(e.success):0){case 1:t="helpful",this.helpfulSubmitted=!0;break;case 4:t="unhelpful",this.unhelpfulSubmitted=!0}this.updateMessage(),this.addVoteToCookie(t),_r_()},error:function(){_i_("269:410802c8"),this.enableSubmit(),_r_()}}),_r_()}),B.define("component/track-location-aware",function(e,t,i){"use strict";_i_("269:d6409d5f");var n=e("component/track");i.exports=n.extend({init:function(){_i_("269:013a7c51");var e=!1,t=this,i=arguments;this.isLocationAware()?n.prototype.init.apply(this,i):B.events&&B.events.on("user_location_aware",function(){_i_("269:2e0dffce"),e||(n.prototype.init.apply(t,i),e=!0),_r_()}),_r_()},isLocationAware:function(){return _i_("269:8db382a9"),_r_(B.browserStorageHandler&&B.browserStorageHandler.isLocalStorageSupported()&&B.browserStorageHandler.getSessionValue("location_aware"))}}),_r_()}),B.define("segment",["events","jquery"],function(t,i){"use strict";_i_("269:4eaa5c22");var n={},r=B.browserStorageHandler&&B.browserStorageHandler.isLocalStorageSupported()&&window.JSON&&window.JSON.stringify||B.storage,a="track_segments",o=function(){if(_i_("269:3ed23794"),!r)return _r_({});var e;if(B.storage)e=B.storage({location:"sessionstorage",key:a});else if(e=B.browserStorageHandler.getSessionValue(a))try{e=i.parseJSON(e)}catch(e){}return _r_(e||{})};function s(){}return s.prototype.init=function(){_i_("269:c185635b"),this.getStored().fired&&(this._fired=!0),_r_()},s.prototype.fire=function(e){if(_i_("269:a47ea579"),this._fired)return _r_();this._fired=!0,this.store(e),t.trigger("track_segment_fire_"+this.name,e),_r_()},s.prototype.getStored=function(){return _i_("269:28517a6f"),_r_(o()[this.name]||{})},s.prototype.store=function(e){_i_("269:f8acdf6c");var t,i=o();i[this.name]=i[this.name]||{},this._fired&&(i[this.name].fired=!0),e&&(i[this.name].data=e),t=i,_i_("269:5e9a0191"),r&&(B.storage?B.storage({location:"sessionstorage",key:a,value:t}):B.browserStorageHandler.addSessionValue(a,window.JSON.stringify(t))),_r_(),_r_()},s.prototype.onFire=function(e){return _i_("269:ea952eec"),this._fired?e():t.on("track_segment_fire_"+this.name,e),_r_(this)},s.getInstance=function(e){return _i_("269:91040b08"),n[e]||(n[e]=new s,n[e].name=e,n[e].init()),_r_(n[e])},s.segmentExists=function(e){return _i_("269:96dde06d"),_r_(!!n[e])},_r_(s)}),B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events","segment"],function(e,t){_i_("269:d9ce6b40");var r=t.getInstance("location-aware"),a={sortByDistance:B.env.b_order&&/^distance.*/.test(B.env.b_order),filterDistricts:n(),searchDistrict:"district"===B.env.b_dest_type};function i(){_i_("269:4adce2c7");var i={},n=0;$.each(a,function(e,t){_i_("269:8a5be24e"),t&&(i[e]=!0,n++),_r_()}),n&&r.fire(i),_r_()}function n(){_i_("269:0e0f8580");var i=!1;return $("#filterbox_options .filterelement.active").each(function(){_i_("269:944b4b8c");var e=$(this).data("name"),t=$(this).data("value");if("di"===e||"bf"===e&&8857<=+t&&+t<=10937)return _r_(!(i=!0));_r_()}),_r_(i)}e.on(e.UI_SORTING_CHANGED,function(e){_i_("269:710290b3"),setTimeout(function(){_i_("269:d6c2bf11"),$(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length&&(a.sortByDistance=!0,i()),_r_()},10),_r_()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:b7593cf3"),n()&&(a.filterDistricts=!0,i()),_r_()}),i(),_r_()}),B.require(["segment","jquery"],function(e,r){_i_("269:d23ccda6");var t=e.getInstance("location-aware-map"),a={openMap:!1};function i(){_i_("269:c76cab4c");var i={},n=0;r.each(a,function(e,t){_i_("269:8a5be24e1"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){_i_("269:c489e5f7");var i=!1;return r("#filterbox_options .filterelement.active").each(function(){_i_("269:bf92fef3");var e=r(this).data("name"),t=r(this).data("value");if("di"===e||"bf"===e&&8857<=+t&&+t<=10937)return _r_(!(i=!0));_r_()}),_r_(i)}_i_("269:495d70a8"),a=Object.assign(a,{sortByDistance:B.env.b_order&&/^distance.*/.test(B.env.b_order),filterDistricts:t(),searchDistrict:"district"===B.env.b_dest_type}),e.on(e.UI_SORTING_CHANGED,function(){_i_("269:68628216"),setTimeout(function(){_i_("269:8f333ba2"),r(".sort_category_distance.selected,.sort_distance_from_landmark.selected").length&&(a.sortByDistance=!0,i()),_r_()},10),_r_()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:1c6e0278"),t()&&(a.filterDistricts=!0,i()),_r_()}),i(),_r_()}),B.when({action:["hotel","searchresults","city","region","country"],events:"ready"}).run(function(){_i_("269:97d88657");r(".show_map").on("click",function(){_i_("269:61f872ec"),a.openMap=!0,i(),_r_()}),-1<location.hash.indexOf("map_opened")&&(a.openMap=!0,i()),_r_()}),_r_()}),B.require(["segment"],function(e){_i_("269:f4deb621");var t=e.getInstance("facilities-aware"),r={};function i(){_i_("269:c76cab4c1");var i={},n=0;$.each(r,function(e,t){_i_("269:8a5be24e2"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){return _i_("269:482140a8"),_r_(0<$("#filterbox_options").find(".filterelement.active ").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length)}_i_("269:dadcbdac"),r=Object.assign(r,{filterFacilities:t()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:036a1078"),t()&&(r.filterFacilities=!0,i()),_r_()}),i(),_r_()}),B.when({action:"hotel",events:"click .hp_nav_facilities_link",condition:!B.env.b_is_tdot_traffic}).run(function(){_i_("269:48b52716"),r.clickFacilitiesTab=!0,i(),_r_()}),_r_()}),B.require(["segment"],function(e){_i_("269:a048ae07");var t=e.getInstance("facilities-filter"),r={};function i(){_i_("269:c76cab4c2");var i={},n=0;$.each(r,function(e,t){_i_("269:8a5be24e3"),t&&(i[e]=!0,n++),_r_()}),n&&t.fire(i),_r_()}B.when({action:"searchresults",events:"ready",condition:!B.env.b_is_tdot_traffic}).require(["searchresults/events"],function(e){function t(){return _i_("269:c8198288"),_r_(0<$("#filterbox_options").find(".filterelement.active").filter('[data-name="hotelfacility"]:first,[data-name="roomfacility"]:first').length)}_i_("269:9f14a770"),r=Object.assign(r,{filterFacilities:t()}),e.on(e.UI_FILTER_CHANGED,function(){_i_("269:1648ea8c"),t()&&(r.filterDistricts=!0,i()),_r_()}),i(),_r_()}),_r_()}),B.define("component/track-segment",function(e,t,i){"use strict";_i_("269:6179fb06");var n=e("component"),r=e("segment"),a=e("et");i.exports=n.extend({init:function(){_i_("269:a2fbe2ad");var i=this;$.each((this.$el.attr("data-segment")||"").split(/ +/),function(e,t){_i_("269:f6befdef"),t&&r.getInstance(t).onFire($.proxy(i.track,i)),_r_()}),_r_()},track:function(){if(_i_("269:4285fd56"),this.isTracked)return _r_();var e=this.$el.attr("data-hash");if(!e)return _r_();var t,i=this.$el.attr("data-track")||"click",n=this.$el.attr("data-segment-custom-goal"),r=this.$el.attr("data-segment-stage");n||r||(n=this.$el.attr("data-custom-goal"),r=this.$el.attr("data-stage")),t="load"===i?a:a.on(i,this.$el),n?t.customGoal(e,n):r?t.stage(e,r):t.track(e),this.isTracked=!0,_r_()}}),_r_()}),B.define("component/onview-animate",function(e,t,i){_i_("269:a9c045a2");var _,n=e("component");_=B.tools&&B.tools.dom&&"function"==typeof B.tools.dom.watchIfBlockVisibleInViewport?B.tools.dom.watchIfBlockVisibleInViewport:e("core/utils/onview").run;var r=n.extend({init:function(){_i_("269:f2ef5786");var i=this.$el,n=i.attr("data-anim-type")||"",r=i.attr("data-onview-cls")||"",a=i.attr("data-onview-cls-remove")||"",o=i.attr("data-rollup-time")||1500;function s(e){_i_("269:078808c1");var t=e&&e.type;switch(n){case"rollover":setTimeout(function(){_i_("269:e5b3a704"),i.addClass("rollover-anim"),setTimeout(function(){_i_("269:377e5cdf"),i.removeClass("rollover-anim"),_r_()},o),_r_()},"string"==typeof t?10:(_i_("269:7e1a7fc5"),_r_(Math.floor(400*Math.random()+300)+500)));break;default:setTimeout(function(){_i_("269:46409f5e"),a.length&&i.removeClass(a),i.addClass(n).addClass(r).trigger("complete.anim"),_r_()},Math.floor(250*Math.random())+500)}_r_()}(i.attr("data-anim-trigger")||"onview").trim().split(/\s+/).forEach(function(e){_i_("269:13420ab3"),function(e){switch(_i_("269:2a8b3b37"),e){case"mouseenter":var t;"rollover"==n?(i.on("mouseenter",function(){_i_("269:d605800b"),clearTimeout(t),t=setTimeout(function(){_i_("269:7b3c01c8"),i.addClass("rollover-anim"),_r_()},100),_r_()}),i.on("mouseleave",function(){_i_("269:a16cbdb7"),clearTimeout(t),t=setTimeout(function(){_i_("269:377e5cdf2"),i.removeClass("rollover-anim"),_r_()},100),_r_()})):i.on("mouseenter",s);break;case"manual":i.on("anim.onview",s);break;case"click":i.on("click",s);break;case"onview":default:_(i,s)}_r_()}(e.trim()),_r_()}),_r_()}});i.exports=r,_r_()}),B.define("ga-events-tracker",function(t,e,i){_i_("269:1b52fdbe");var n=t("ga-tracker"),a=t("promise"),o=t("when/events-view");function r(i){_i_("269:a8c56ec0"),this.events[i].forEach(function(t){_i_("269:41d132f9"),a.all(function e(t){_i_("269:9b1908ac");if(!Array.isArray(t))return _r_(e.call(this,[t]));return _r_(t.map(function(r){return _i_("269:abbafe74"),_r_(new a(function(t){if(_i_("269:e1a276b2"),"boolean"==typeof r)return r&&t(!0),_r_();var e=r.split(/\s+/),i=e.shift(),n=e.join(" ");switch(i){case"ready":$(function(){_i_("269:daa0dbee"),t(!0),_r_()});break;case"presence":0<$(n).length&&t(!0);break;case"view":o(n,function(){_i_("269:de3992a7"),t(!0),_r_()});break;case"hover":i="mouseenter";case"click":case"mousedown":case"mouseup":case"focus":case"change":case"input":case"submit":$("body").one(i,n,function(){_i_("269:daa0dbee1"),t(!0),_r_()});break;case"event":this.emitter.one(n,function(e){_i_("269:1e65626c"),t(e),_r_()})}_r_()}.bind(this)))}.bind(this)))}.call(this,t.trigger)).then(function(){_i_("269:1b07bce3");var e=null;"function"==typeof t.value&&(e=t.value()),"number"==typeof t.value&&(e=t.value),n.trackEvent(this.categoryName,i,t.label,e),_r_()}.bind(this)),_r_()}.bind(this)),_r_()}function s(e){if(_i_("269:ea97b0fc"),!e.categoryName)throw Error("ga-events-tracker: you must define a categoryName");if(!e.eventsMap)throw Error("ga-events-tracker: you must define an eventsMap");this.emitter=e.emitter||t("events"),this.events=e.eventsMap,this.categoryName=e.categoryName,Object.keys(this.events).forEach(r.bind(this)),_r_()}var _={setup:function(e){return _i_("269:33c47c48"),_r_(new s(e))}};i.exports=_,_r_()}),B.define("page-scroll-block",function(e,t,i){"use strict";_i_("269:080cc4f9");var n,r=e("jquery")(window),a=document.body,o=!1;function s(){return _i_("269:5b4bd53e"),_r_(a.scrollHeight>document.documentElement.clientHeight)}function _(e){_i_("269:5359ce54"),e?r.on("resize.pageScrollBlock",l):r.off("resize.pageScrollBlock"),_r_()}function l(){if(_i_("269:759bcff1"),o)return _r_();s()?a.style.paddingRight=n+"px":a.style.paddingRight="",o=!0,window.setTimeout(function(){_i_("269:eb926743"),o=!1,_r_()},150),_r_()}t.init=function(){if(_i_("269:0f51db79"),void 0!==n)return _r_(n);return _r_(this.scrollWidth=n=function(){_i_("269:d23b429b");var e,t=document.createElement("div");return t.setAttribute("style",["width: 100px","height: 100px","overflow: scroll","position: absolute","top: -9999px"].join(";")),a.appendChild(t),e=t.offsetWidth-t.clientWidth,a.removeChild(t),_r_(e)}())},t.freeze=function(){if(_i_("269:75b603b9"),a.style.overflow="hidden",!n)return _r_();s()&&(a.style.paddingRight=n+"px"),_(!0),_r_()},t.unfreeze=function(){if(_i_("269:7093f204"),a.style.overflow="",!n)return _r_();a.style.paddingRight="",_(!1),_r_()},t.getScrollWidth=function(){return _i_("269:45604e79"),_r_(this.scrollWidth)},_r_()}),B.define("component/core/et-scroll-observer",function(e,t,i){_i_("269:d45b4d22");var n=B.eventEmitter;i.exports=e("component").extend({init:function(){_i_("269:e45e90af"),this.$el.on("mousewheel DOMMouseScroll scroll",this.handler),_r_()},handler:function(e){_i_("269:650662de"),n.trigger("et-scroll-observer:scroll",e),_r_()}}),_r_()}),B.define("sliding-panel-model",function(t,e,i){_i_("269:e110ec02");var n,r=t("event-emitter"),a={},o={show:"sliding-panel/show",hide:"sliding-panel/hide",dataLoadStart:"sliding-panel/dataLoad:start",dataLoadAborted:"sliding-panel/dataLoad:abort",dataShown:"sliding-panel/dataShown",dataLoaded:"sliding-panel/dataLoad:success",dataLoadFail:"sliding-panel/dataLoad:fail",dataShowStart:"sliding-panel/showData:start",dataShowEnd:"sliding-panel/showData:success",ajaxInited:"sliding-panel/ajaxInited"};function s(){_i_("269:365c1963"),this.isShown=0,this.ajaxLoader=null,this.ajaxEnabled=!1,this.ajaxLoaded=!1,this.ajaxLoading=!1,this.ajaxLoadedUrl="",this.dynamicData={},r.extend(this),_r_()}s.prototype.isPanelShown=function(){return _i_("269:0ec51808"),_r_(this.isShown)},s.prototype.hide=function(){_i_("269:03dad44b"),this.isShown&&(this.isShown=0,this.emit(o.hide)),_r_()},s.prototype.show=function(){if(_i_("269:0171d1fe"),this.isShown)return _r_();this.isShown=1,this.emit(o.show),_r_()},s.prototype.ajaxLoad=function(e){_i_("269:fee25bc1"),this.ajaxLoadedUrl&&this.ajaxLoadedUrl==e.url?this.dynamicDataAborted():this.ajaxLoader.load(e),_r_()},s.prototype.beginLoading=function(e){_i_("269:34bd95f1"),this.ajaxLoading=!0,this.emit(o.dataLoadStart,e),_r_()},s.prototype.dataLoaded=function(e,t){_i_("269:eecc4c28"),this.emit(o.dataLoaded,t),this.dynamicData={content:e,requestParams:t},this.setAjaxLoaded(t.url),this.showData(t),_r_()},s.prototype.dataFailed=function(e){_i_("269:09d36cba"),this.emit(o.dataLoadFail,e),this.setAjaxLoaded(""),_r_()},s.prototype.showData=function(){_i_("269:9d268fff"),this.emit(o.dataShowStart),_r_()},s.prototype.isAjaxYetLoading=function(){return _i_("269:251b3948"),_r_(this.ajaxLoading)},s.prototype.getDynamicLoadedUrl=function(){return _i_("269:076e7826"),_r_(this.ajaxLoadedUrl)},s.prototype.setAjaxLoaded=function(e){_i_("269:b8f8198e"),this.ajaxLoadedUrl=e,this.ajaxLoading=!1,_r_()},s.prototype.dynamicDataAborted=function(){_i_("269:801eb086"),this.emit(o.dataLoadAborted),_r_()},s.prototype.toggleAjaxEnabled=function(e){if(_i_("269:74a4aa73"),!e)return _r_();"on"==e&&(this.ajaxEnabled=!0,this.ajaxLoader||(n=t("sliding-panel-ajax"),this.ajaxLoader=n.get(this.id),this.setDataPreprocessor(),this.emit(o.ajaxInited))),"off"==e&&(this.ajaxEnabled=!1),_r_()},s.prototype.getDynamicData=function(){return _i_("269:43b92ff4"),_r_(this.dynamicData)},s.prototype.setDataPreprocessor=function(e){_i_("269:876300ce"),e&&(this.preprocessor=e),this.ajaxLoader&&this.preprocessor&&(this.ajaxLoader.preprocessData=this.preprocessor),_r_()},i.exports={EVENTS:o,get:function(e){if(_i_("269:55ad9802"),"string"!=typeof e||0===e.length)throw new Error("sliding-panel-model: invalid .get() argument!");return a.hasOwnProperty(e)||(a[e]=new s,a[e].id=e),_r_(a[e])},hideAll:function(){for(var e in _i_("269:41b07915"),a)a[e].hide();_r_()}},_r_()}),B.define("component/core/sliding-panel-core",function(e,t,i){_i_("269:17725059");var n=e("jquery"),r=e("events"),a=e("component"),o=e("sliding-panel-model"),s="is-hidden",_="is-shown",l=n(window),c=!0;i.exports=a.extend({init:function(){if(_i_("269:e9075e35"),this.id=this.$el.data("id"),"string"!=typeof this.id)throw new Error("core/sliding-panel: `data-id` is invalid or undefined!");void 0===this.useScrollBlocker&&(this.useScrollBlocker=!0),this.$close=this.$el.find("[data-close-button]"),this.model=o.get(this.id),this.initHandlers(),_r_()},initHandlers:function(){_i_("269:6297a5dd"),this.useScrollBlocker&&(this.scrollBlocker=e("page-scroll-block"),this.scrollBlocker.init()),this.model.on(o.EVENTS.show,this.show.bind(this)),this.model.on(o.EVENTS.hide,this.hide.bind(this)),this.model.on(o.EVENTS.dataShowStart,this.renderDynamicContent.bind(this)),this.model.on(o.EVENTS.dataLoadStart,this.showDynamicLoading.bind(this)),this.model.on(o.EVENTS.dataLoadFail,this.showDynamicFail.bind(this)),this.$el.on("click",this.onContainerClick.bind(this)),this.$el.on("click","[data-content]",this.onContentClick.bind(this)),this.model.isPanelShown()&&this.show(),_r_()},eventsOn:function(){_i_("269:65158b6e"),this.$close.on("click.slidingPanel",this.onCloseClick.bind(this)),l.on("keydown.slidingPanel",this.onKeyDown.bind(this)),_r_()},eventsOff:function(){_i_("269:68417ed2"),this.$close.off("click.slidingPanel"),l.off("keydown.slidingPanel"),_r_()},onKeyDown:function(e){_i_("269:611bcf83"),27===e.which&&this.beforeHide(function(){_i_("269:b05cc5e0"),this.model.hide(),this.onHideEvents("escape"),_r_()}.bind(this)),_r_()},onCloseClick:function(){_i_("269:cddafe42"),this.beforeHide(function(){_i_("269:566f4714"),this.model.hide(),this.onHideEvents("close-button"),_r_()}.bind(this)),_r_()},onOverlayClick:function(){_i_("269:070def41"),this.beforeHide(function(){_i_("269:fd9f3c21"),this.model.hide(),this.onHideEvents("overlay"),_r_()}.bind(this)),_r_()},onHideEvents:function(e){_i_("269:66f0d6c9"),r.emit("sliding-panel/on:hide",e),r.emit("sliding-panel/"+this.id+"/on:hide",e),_r_()},onShowEvents:function(){_i_("269:93d1f199"),r.emit("sliding-panel/on:show",this.id),r.emit("sliding-panel/"+this.id+"/on:show"),_r_()},onDataShowEvents:function(){_i_("269:c124c17a"),r.emit("sliding-panel/on:data_shown",this.id),r.emit("sliding-panel/"+this.id+"/on:data_shown"),_r_()},show:function(){_i_("269:ac12d080"),this.$el.removeClass(s).addClass(_).show(),this.useScrollBlocker&&this.scrollBlocker.freeze(),this.onShowEvents(),this.eventsOn(),_r_()},beforeHide:function(e){if(_i_("269:36b3b1cc"),"function"!=typeof e)throw new Error("core/sliding-panel: `next` must be a callback function");e(),_r_()},hide:function(){_i_("269:20bb6909");var e=this,t=this.$el;this.$el.removeClass(_).addClass(s),this.wait(400,function(){_i_("269:1af521c3"),t.css("display","none"),e.useScrollBlocker&&e.scrollBlocker.unfreeze(),_r_()}),r.emit("sliding-panel/is-hidden",this.id),this.eventsOff(),_r_()},showDynamicLoading:function(){_i_("269:c778d529"),this._setupDynamicElements(),this.$dynamicContainer.hide(),this.$dynamicLoadingBlock.show(),this.$dynamicFailBlock.hide(),_r_()},showDynamicFail:function(){_i_("269:28d90f5e"),this.$dynamicContainer.hide(),this.$dynamicLoadingBlock.hide(),this.$dynamicFailBlock.show(),_r_()},showDynamicContainer:function(){_i_("269:41e296c2"),this.$dynamicContainer.show(),this.$dynamicLoadingBlock.hide(),this.$dynamicFailBlock.hide(),this.onDataShowEvents(),_r_()},_setupDynamicElements:function(){_i_("269:e515b563"),this.$dynamicContainer&&!this.$dynamicContainer.length||(this.$dynamicContainer=this.$el.find(".sliding-panel__ajax-container"),this.$dynamicLoadingBlock=this.$el.find(".sliding_panel__ajax_loading"),this.$dynamicFailBlock=this.$el.find(".sliding_panel__ajax_fail")),_r_()},renderDynamicContent:function(){_i_("269:50e3d9fe"),this._setupDynamicElements();var e=this.model.getDynamicData().content;this.$dynamicContainer.html(e),this.showDynamicContainer(),_r_()},onContainerClick:function(){_i_("269:4c41b69e"),c&&this.beforeHide(function(){_i_("269:f43a13f1"),this.model.hide(),this.onHideEvents("overlay"),_r_()}.bind(this)),c=!0,_r_()},onContentClick:function(){_i_("269:fdd89693"),c=!1,_r_()},wait:function(e,t){_i_("269:7271f8cb"),window.setTimeout(t,e),_r_()}}),_r_()}),B.define("component/core/sliding-panel-core-a11y",function(e,t,i){_i_("269:7992c4da");var n=e("component/core/sliding-panel-core"),r=e("trap-focus");i.exports=n.extend({show:function(){_i_("269:aa8ead78"),n.prototype.show.apply(this,arguments);var t=this;t.$el.attr("tabindex","0").attr("aria-hidden","false"),n.prototype.wait.call(t,400,function(){_i_("269:a47db4b6");var e=$(window).scrollTop();r.trap(t.el),$(window).scrollTop(e),_r_()}),setTimeout(function(){_i_("269:1a5bdc85"),t.$el.find("*").blur(),_r_()},400),_r_()},hide:function(){_i_("269:fe3d6f6d"),n.prototype.hide.apply(this,arguments),this.$el.attr("tabindex","-1").attr("aria-hidden","true"),_r_()},eventsOn:function(){_i_("269:bf2b2aff"),n.prototype.eventsOn.apply(this),this.$close.on("keydown.slidingPanel",this.onEnterClose.bind(this)),_r_()},eventsOff:function(){_i_("269:fe7bc792"),n.prototype.eventsOff.apply(this,arguments),this.$close.off("keydown.slidingPanel"),_r_()},onEnterClose:function(e){_i_("269:a9afc024"),13==(e.which||e.keyCode)&&this.$close.trigger("click"),_r_()}}),_r_()}),B.define("component/core/sliding-panel-trigger",function(e,t,i){_i_("269:f3a2e858");var n=e("component"),r=e("sliding-panel-model"),a=e("et");i.exports=n.extend({init:function(){if(_i_("269:7e76da42"),this.target=this.$el.data("target"),this.panelTarget=this.$el.data("target"),this.a11yOpenOnKeyDown=a.track("OTfdASFZQfBJATNWXdBGHDDESWOGVO"),"string"!=typeof this.target)throw new Error("core/sliding-panel: `data-target` is invalid or undefined!");this.shouldToggle=this.$el.data("toggle")||!1,this.activeClass=this.$el.data("active-class")||"is-selected",this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=r.get(this.target),this._initAjaxOptions(),this._attachEvents(),_r_()},_attachEvents:function(){_i_("269:8ad4bd32"),this.shouldToggle?this.a11yOpenOnKeyDown?this.$el.on("click keydown",this.onClickToggle.bind(this)):this.$el.on("click",this.onClickToggle.bind(this)):this.a11yOpenOnKeyDown?this.$el.on("click keydown",this.onClick.bind(this)):this.$el.on("click",this.onClick.bind(this)),this.model.on(r.EVENTS.hide,this.onSlidingHide.bind(this)),this.model.on(r.EVENTS.show,this.onSlidingShow.bind(this)),_r_()},onSlidingHide:function(){_i_("269:2a5b13d7"),this.removeActiveClass(),_r_()},onSlidingShow:function(){_i_("269:b3283ee9"),this.addActiveClass(),_r_()},onClick:function(e){if(_i_("269:325219a5"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();this.preventDefault&&e.preventDefault(),this.model.show(),this.addActiveClass(),a.customGoal("OTfdASFZQfBJATNWXdBGHDDESWOGVO",1),this.ajaxURL&&this.model.ajaxLoad(this.ajaxOptions),_r_()},onClickToggle:function(e){if(_i_("269:2d8938c5"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();this.preventDefault&&e.preventDefault(),a.customGoal("OTfdASFZQfBJATNWXdBGHDDESWOGVO",2),this.model.isPanelShown()?(this.model.hide(),this.removeActiveClass()):(this.model.show(),this.addActiveClass(),this.ajaxURL&&this.model.ajaxLoad(this.ajaxOptions)),_r_()},removeActiveClass:function(){_i_("269:1c690259"),this.$el.removeClass(this.activeClass),_r_()},addActiveClass:function(){_i_("269:3a7bca4f"),this.$el.addClass(this.activeClass),_r_()},_initAjaxOptions:function(){_i_("269:ee21145b"),this.$el.data("ajaxUrl")&&(this.ajaxURL=this.$el.data("ajaxUrl"),this.ajaxOptions={url:this.$el.data("ajaxUrl")+"?"+this.$el.data("ajaxParams"),ajaxTmpl:this.$el.data("ajaxTmpl")},this.model.toggleAjaxEnabled("on")),_r_()}}),_r_()}),B.define("hotel/events",function(e,t,i){_i_("269:e8961d24");var n=new(e("event-emitter"));return n.UI_SCROLL_STARTED="ui_scroll_started",n.UI_SCROLL_COMPLETED="ui_scroll_completed",_r_(n)});var fmTimer=null,fmbg=!1,num=3,cnt=0,currentAnimaingElements=[];function fmToHex(e){_i_("269:38ef8df2");var t;if(0===e)return _r_("00");for(var i="";0!==e;)e=(e-(t=e%16))/16,i="0123456789ABCDEF".charAt(t)+i;return i.length<2&&(i="0"+i),_r_(i)}function fmFade(e,t,i,n,r,a){_i_("269:21302bd9");var o="#"+fmToHex(fmb1)+fmToHex(fmb2)+fmToHex(fmb3),s=$(e).length;if(0<s){if(1<s)$(e).each(function(){_i_("269:f206a63d"),this.style.backgroundColor=o,_r_()});else if(e.style)e.style.backgroundColor=o;else try{oUseElem=$(e).get(0),oUseElem.style.backgroundColor=o}catch(e){}if(1==s&&e.id&&"bookNow1"==e.id&&document.getElementById("bookNow2")&&(document.getElementById("bookNow2").style.backgroundColor=o),fmb1!=fmb4&&(fmb4>fmb1?fmb1++:fmb1--),fmb2!=fmb5&&(fmb5>fmb2?fmb2++:fmb2--),fmb3!=fmb6&&(fmb6>fmb3?fmb3++:fmb3--),fmb1==fmb4&&fmb2==fmb5&&fmb3==fmb6)window.clearTimeout(fmTimer),fminit(e,t,i,n,r,!0);else{var _=e,l=t,c=i,h=n,d=r,f=a;fmTimer=window.setTimeout(function(){_i_("269:999cb36d"),fmFade(_,l,c,h,d,f),_r_()},f)}}_r_()}function validate(e){_i_("269:b54fd399");var t=document.getElementById("errorNoRoomSelected");2==e&&(t=document.getElementById("errorNoRoomSelected2"));var i=$("#maxotel_rooms");if(!i.find(".b_room_selectbox").filter(function(){return _i_("269:d1180830"),_r_(0!=$(this).val())}).length){B.events.emit(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT);var n=B.require("hotel/rooms_table/select_room_tooltip_alert");n.resetMessage(),n.showMessage(),i.hasClass("highlight_rooms")&&fminit($(".roomMultiRoomPrice"),!0,"#FFF",[255,255,255]),i.find("select").change(function(){_i_("269:39b498ff"),0!=this.value&&(t.style.display="none",$("p.nopad").remove()),_r_()});var r=B.require("ga-tracker");return r.trackEvent(r.errorTracker,"JavaScript","please_select_one_or_more_rooms"),_r_(!1)}return"msie"===B.env.b_browser&&B.env.b_browser_version<10||"zh-cn"!==B.env.b_selected_language||"cn"!==B.env.ip_country||($("#individualrooms").addClass("roomstable_usp_overlay"),$(".roomstable_usp_overlay__container").stick_in_parent({offset_top:100}),setTimeout(function(){_i_("269:032126b1"),$("#rooms_table").off("submit","#roomsForm"),$("#roomsForm").submit(),_r_()},0)),_r_(!0)}function RelevantReviewsHp(e,t,i){"use strict";_i_("269:a1453b4b");var n=e("component"),r=e("et");i.exports=n.extend({init:function(){_i_("269:1bceb3bd");var t=this.$el.find(".c-relevant-reviews-hp__more");this.$el.find(".c-relevant-reviews-hp__show-more").on("click",function(e){_i_("269:c5f2ef4c"),t.removeClass("bui-u-hidden"),$(this).remove(),e.preventDefault(),r.customGoal("UBKeJBUcMNQVTNDPVBC",4),_r_()}),_r_()}}),_r_()}window.fminit=function(e,t,i,n,r,a){if(_i_("269:a5f90665"),$("#maxotel_rooms").removeClass("error"),$("#errorNoRoomSelected").hide(),"object"==typeof e)oElem=e;else{if(!e||!document.getElementById(e))return _r_(!1);oElem=document.getElementById(e)}if(-1!==currentAnimaingElements.indexOf(oElem)&&void 0===a&&(window.clearTimeout(fmTimer),cnt=0),-1===currentAnimaingElements.indexOf(oElem)&&currentAnimaingElements.push(oElem),i)var o=i;else o="#ffffff";if(cnt++>num){cnt=0;var s=currentAnimaingElements.indexOf(oElem);return-1!==s&&currentAnimaingElements.splice(s,1),t&&$(oElem).css("background-color",o),_r_()}r&&1<r.length?(fmb1=r[0],fmb2=r[1],fmb3=r[2]):(fmb1=230,fmb2=237,fmb3=246),n&&1<n.length?(fmb4=n[0],fmb5=n[1],fmb6=n[2]):(fmb4=197,fmb5=212,fmb6=233);var _=fmb1>fmb4?fmb1-fmb4:fmb4-fmb1,l=fmb2>fmb5?fmb2-fmb5:fmb5-fmb2,c=fmb3>fmb6?fmb3-fmb6:fmb6-fmb3,h=330/Math.max(_,l,c);fmbg||(fmtemp=fmb1,fmb1=fmb4,fmb4=fmtemp,fmtemp=fmb2,fmb2=fmb5,fmb5=fmtemp,fmtemp=fmb3,fmb3=fmb6,fmb6=fmtemp),fmbg=!fmbg,fmFade(oElem,t,i,n,r,h),_r_()},B.ensureNamespaceExists("hotel"),B.hotel.hashedTabs=function(e,n){_i_("269:cb7b6bd7");var s=e.require("jquery"),i=s("body"),r=e.events,a=n.location,o=i.find("[data-tab]"),t="[data-tab-link]",_=i.find(t),l=[],c={},h=function(e){var t,i;if(_i_("269:584a5a17"),w(e)?(i=parseInt(e,10),e=l[i]):i=s.inArray(e,l),(t=o.filter("[data-tab='"+e+"']")).length)return t.show(),b(e),k(e,i),r.trigger("tab-opened",{tab:e}),r.trigger(e+"-tab-opened",{tab:e}),s(n).resize(),-1<i&&r.trigger("BLOCKDISPLAY"+i+".OPEN"),_r_(!0);_r_()},d=function(e){_i_("269:a5d6d508");var t,i=s(e.currentTarget),n=i.attr("rel"),r=i.attr("href")?i.attr("href").slice(1):"",a=i.attr("data-scroll"),o=i.attr("data-scroll-offset");if(e.preventDefault(),""!==r&&C(r))return h(n),E(r,{offset:o}),_r_();m(n),a&&(t=s(a)).length&&s("html, body").animate({scrollTop:t.offset().top},500,"easeOutCubic"),_r_()},f=function(){_i_("269:830820b9");var e,t,i=v(),n=a.hash.slice(1);if(i)return h(i),_r_();if(e=C(n),""!==n&&e){if((t=e.closest("[data-tab]")).length){if(!h(t.data("tab")))return _r_(!0);return B(n),_r_()}}else""===n&&h("main");_r_()},u=function(e,t){_i_("269:f0a9ac69"),t=t||e.tab,m(t),_r_()},p=function(){_i_("269:4c572a54"),i.on("click",t,d),s(n).hashchange(f),r.on("open-tab",u),_r_()},m=function(e){_i_("269:bf75f7e3"),a.hash=w(e)?"hash-blockdisplay"+e:"tab-"+e,_r_()},b=function(e){_i_("269:1c802ca7"),_.each(function(){_i_("269:9c6e7bce"),g(s(this),e),_r_()}),_r_()},g=function(e,t){if(_i_("269:b33c67a4"),e.data("default-tab")===t)return e.data("return-tab")&&e.attr("rel",e.data("return-tab")),e.data("return-html")&&e.html(e.data("return-html")),_r_(e.addClass("selected"));e.attr("rel",e.data("default-tab")).removeClass("selected"),e.data("return-html")&&e.html(e.data("default-html")),_r_()},v=function(){_i_("269:ca370e41");var e=a.hash.match(/tab-(.+)/),t=a.hash.match(/hash-blockdisplay(\d)/);if(e)return _r_(e[e.length-1]);if(t)return _r_(t[t.length-1]);return _r_(!1)},y=function(){var e;_i_("269:3ad16bd5");for(var t=0;t<o.length;t++)e=parseInt(o[t].id.match(/\d/)[0],10),l[e]=s(o[t]).data("tab");return _r_(l)},M=function(){_i_("269:0bc1ed6b");var e=a.search.match(/[^_]tab=([^&;]*)/g);if(e)return _r_(e[e.length-1].split("=")[1]);return _r_(!1)},w=function(e){return _i_("269:ce73e276"),_r_(/^\d+$/.test(e+""))},k=function(e,t){_i_("269:d87f95e5"),i.removeClass((i[0].className.match(/blockdisplay\d-opened/)||[""])[0]).removeClass((i[0].className.match(/tab-.+-opened/)||[""])[0]).addClass("tab-"+e+"-opened"),t&&-1<t&&i.addClass("blockdisplay"+t+"-opened"),_r_()},B=function(e,t,i){_i_("269:c0bc3ce7");var n=C(e),r=t||function(){};if(!n)return _r_(!1);if(o.filter(n).length)return _r_(!1);i=i||{},s("html, body").animate({scrollTop:n.offset().top-0-(i.offset||0)},500,"easeOutCubic",r),_r_()},E=function(e,t){_i_("269:2bd1bf17"),B(e,function(){_i_("269:1e142aa1"),a.hash=e,_r_()},t),_r_()},C=function(e){_i_("269:8a40121b"),e=encodeURI(e);var t=c[e];if(""===e)return _r_(!1);if(t&&t.length)return _r_(t);try{t=(t=s("#"+e)).length?t:s("a[name='"+e+"']")}catch(e){return _r_(!1)}if(t.not("[data-tab]").length)return c[e]=t,_r_(t);return _r_(!1)};return _r_({init:function(){_i_("269:23045ef3");var e=M();p(),y(),_.each(function(){_i_("269:3d4ea0a7"),s(this).data("default-html",s(this).html()).data("default-tab",s(this).attr("rel")),_r_()}),o.not(":first").not("[data-keep-tab-block-visible]").hide(),e?(h(e),""!==a.hash.slice(1)&&s(n).hashchange()):s(n).hashchange(),_r_()},getVisibleTab:function(){return _i_("269:8215dbc0"),_r_(o.filter(":visible"))},showTab:h})}(B,window),B.hotel.hashedTabs.init(),B.define("utils/debounce",function(e,t,i){_i_("269:d27ec383"),i.exports=function(i,n,r){var a;return _i_("269:987315f9"),_r_(function(){_i_("269:d421fd91");var e=this,t=arguments;!0===r&&void 0===a&&i.apply(e,t),clearTimeout(a),a=setTimeout(function(){_i_("269:d43ea598"),i.apply(e,t),_r_()},n),_r_()})},_r_()}),B.define("hotel/track/goals_sort_hotel_history",function(t){_i_("269:f785f737");var e=t("utils/debounce"),i=t("jquery"),n=!1,r={},a={hp_featured_review_arrows_clicked:"g0",hp_gallery_arrows_clicked:"g1",hp_my_viewed_hotel_click:"g2",hp_room_select:"g3",hp_room_select_error:"g4",hp_rt_conditions_tooltip_viewed:"g5",hp_searched_in_browser:"g6",hp_sold_out_rooms_viewed:"g7",rt_onview:"g8",hp_facilities_block_seen:"g9",hp_surroundings_block_seen:"g10",hp_policies_block_seen:"g11",room_facilities:"g12",hp_rt_hovering_price:"g13",hp_rt_hovering_occupancy:"g14",hp_rt_hovering_mealplan:"g15",hp_rt_room_deselect:"g16",hp_lb_gallery_clicks_arrows:"g17",hp_lb_gallery_clicks_photo:"g18",hp_lb_gallery_used_thumbs:"g19",hp_gallery_thumbs_used:"g20",hp_gallery_photos_all_viewed:"g21",hp_rt_roomtype_lightbox_opened:"g22"},o=function(){if(_i_("269:95700411"),!n&&B.env){var e=i.extend({},r);r={},n=!0,e.hotelId=B.env.b_hotel_id,i.ajax({url:"/goals_sort_hotel_history",data:e,success:function(){_i_("269:6685e00c"),n=!1,_r_()},error:function(){_i_("269:c045d79d"),function(e){for(var t in _i_("269:5ed12bd2"),e)"hotelId"!==t&&(r[t]=r[t]||0,r[t]+=e[t]);_r_()}(e),n=!1,_r_()}})}_r_()};function s(e){_i_("269:a459b7f6");var t=a[e];t&&(r[t]=r[t]||0,r[t]++,o()),_r_()}return o=e(o,1e3),i(document).on("ready",function(){if(_i_("269:f4ca0916"),B.env.b_save_user_hotel_interactions){t("events").on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(){_i_("269:7855c3a8"),s(B.hotel.Events.RT.LIGHTBOX_OPEN),_r_()});var e=t("utils/debounce"),n=[{goal:"rt_onview",position:i(".roomstable").position()},{goal:"hp_facilities_block_seen",position:i(".t-hp-section--facilities").position()},{goal:"hp_surroundings_block_seen",position:i(".t-hp-section--nearby,.t-hp-section--area_info").position()},{goal:"hp_policies_block_seen",position:i(".t-hp-section--policies").position()}],r=i(window),a=r.height(),o=n.length;r.on("scroll",e(function(){_i_("269:a76d2c63");for(var e=r.scrollTop()+a,t=0;t<o;t++){var i=n[t];i.goal&&i.position&&i.position.top&&e>i.position.top&&s(i.goal)}_r_()},1e3))}_r_()}),_r_({track:s})}),B.define("reviews/reviews_core",function(e){_i_("269:28383e7b");var t=e("jquery"),a=e("querystring"),r=e("et"),o={encodeURIComponent:function(e){return _i_("269:dac2c21e"),_r_(e)}},s="www"==((B||{}).env||{}).b_site_type,_="hotel"==((B||{}).env||{}).b_action,i={currentRequest:null,cache:{},base:"/reviewlist",query:(B.env.fe_reviews_base_params||{}).query||"",state:{country:(B.env.fe_reviews_base_params||{}).country||"",dist:(B.env.fe_reviews_base_params||{}).dist||"",lang:(B.env.fe_reviews_base_params||{}).lang||[],offset:(B.env.fe_reviews_base_params||{}).offset||"",page:(B.env.fe_reviews_base_params||{}).page||"",rows:(B.env.fe_reviews_base_params||{}).rows||"",rurl:(B.env.fe_reviews_base_params||{}).rurl||"",score:(B.env.fe_reviews_base_params||{}).score||[],sort:(B.env.fe_reviews_base_params||{}).sort||"",topics:(B.env.fe_reviews_base_params||{}).topics||[],type:(B.env.fe_reviews_base_params||{}).type||[],text:(B.env.fe_reviews_base_params||{}).text||"",translate:(B.env.fe_reviews_base_params||{}).translate||""},getState:function(){return _i_("269:a74e410b"),_r_(this.merge({},this.state))},getURL:function(e){_i_("269:7f2e739b");var t=this.merge({},this.state,e||{}),i=this.mapStateToParams(t),n=this.base;return n+=this.query,_r_((n+=";")+a.stringify(i,o)+"")},mapStateToParams:function(e){_i_("269:10112f85");var t={},i=this.stringifyObjectValues(e||{});return null!=i.country&&(t.cc1=i.country),delete i.country,null!=i.page&&(t.pagename=i.page),delete i.page,null!=i.lang&&(t.r_lang=this.join(i.lang)),delete i.lang,null!=i.topics&&(t.review_topic_category_id=this.join(i.topics)),delete i.topics,null!=i.type&&(t.type=this.join(i.type)),delete i.type,null!=i.score&&(t.score=this.join(i.score)),delete i.score,_r_(this.merge({},t,i))},mapParamsToState:function(e){_i_("269:e128a097");var t={},i=this.stringifyObjectValues(e);return null!=i.cc1&&(t.country=i.cc1),delete i.cc1,null!=i.pagename&&(t.page=i.pagename),delete i.pagename,null!=i.r_lang&&(t.lang=this.split(i.r_lang)),delete i.r_lang,null!=i.review_topic_category_id&&(t.topics=this.split(i.review_topic_category_id)),delete i.review_topic_category_id,null!=i.type&&(t.type=this.split(i.type)),delete i.type,null!=i.score&&(t.score=this.split(i.score)),delete i.score,_r_(this.merge({},t,i))},stringifyObjectValues:function(e){_i_("269:5cdbdaad");var t=new Object;for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]instanceof Array?e[i]:String(e[i]||""));return _r_(this.merge({},t))},split:function(e){_i_("269:b2c7674b");var t=new Array;return(e||"").split(",").map(function(e){_i_("269:7acace89"),e&&t.push(e),_r_()}),_r_(t)},join:function(e){_i_("269:e1e3eda8");var t=new Array;return(e||[]).map(function(e){_i_("269:125f2ac6"),e&&t.push(e),_r_()}),_r_(t.join(","))},load:function(e){_i_("269:57233b63");var t=this.getURL(e)+"";return _r_(this.AJAXLoad(t))},loadUrl:function(e){_i_("269:9181172f");var t=this.removeDuplicateAttrs(e)+"";return _r_(this.AJAXLoad(t))},removeDuplicateAttrs:function(e){_i_("269:3a2c3bab");var t=(e||"")+"",i=a.parseUrl(t),n=this.merge({},i.query);for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]instanceof Array&&(n[r]=n[r][n[r].length-1]);return _r_(i.base+"?"+a.stringify(n,o))},AJAXLoad:function(e){_i_("269:dab892e4");this.cache[this.trimUrl(e)];return this.currentRequest&&this.currentRequest.abort&&this.currentRequest.abort({duplicate:!0}),B.env.b_site_type&&"www"==B.env.b_site_type&&(B.et.goalWithValue("js_www_reviews_request_sent",1),B.et.customGoal("adUAVYCMXDSWPFWUDTdIO",2),B.et.stage("adUAVYCMXDSWPFWUDTdIO",5)),this.currentRequest=t.ajax({url:e,success:t.proxy(this.onLoadSuccess,this,e),error:t.proxy(this.onLoadError,this)}),_r_(this.currentRequest)},trimUrl:function(e){_i_("269:e446c435");var t=a.parseUrl(e||""),i=this.removeUnwantedParams(t.query);return _r_(a.stringify(i,o)+"")},onLoadSuccess:function(e,t){_i_("269:1e7424aa"),this.cacheThis(e,t),this.setStateFromUrl(e),s&&_&&r.stage("adUAVYCdKNKNKPZZaPUcdJXIcOcNeC",2),_r_()},onLoadError:function(){_i_("269:a66cb3b7"),B.env.b_site_type&&"www"==B.env.b_site_type&&(B.et.goalWithValue("js_www_reviews_request_failed",1),B.et.stage("adUAVYCMXDSWPFWUDTdIO",7)),_r_()},cacheThis:function(e,t){_i_("269:1cf02a7d");var i=this.trimUrl(e)+"";i.length&&t.length&&!this.cache[i]&&(this.cache[i]=i),_r_()},merge:function(e){_i_("269:02d4f61e");e=Object(e);for(var t=1;t<arguments.length;t++){var i=Object(arguments[t]);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return _r_(e)},setState:function(e){_i_("269:df1a70f0");var t=this.removeUnwantedParams(e);this.state=this.merge({},this.state,t),_r_()},removeUnwantedParams:function(e){_i_("269:9345ca0b");var t=this.merge({},Object(e));return this.unwantedParams.map(function(e){_i_("269:e4c65278"),null!=t[e]&&delete t[e],_r_()}),_r_(this.merge({},t))},setStateFromUrl:function(e){_i_("269:e49df3c5");var t=this.trimUrl(e),i=a.parse(t),n=this.mapParamsToState(i);this.setState(n),_r_()},init:function(){_i_("269:41410fea");var e=[this.base],t=a.parseUrl(this.base+this.query),i=this.merge({},t.query);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.push(n);this.unwantedParams=e,s&&_&&r.track("adUAVYCdKNKNKPZZaPUcdJXIcOcNeC")&&(this.state.rows=20),_r_()}};return i.init(),_r_(i)}),B.define("hotel/reviews",function(e,t,i){_i_("269:710865ae");var o,s=e("jquery"),n=e("reviews/reviews_core"),_=e("et"),l="mdot"==((B||{}).env||{}).b_site_type,c="www"==((B||{}).env||{}).b_site_type,r="hotel"==((B||{}).env||{}).b_action;function a(t,i){_i_("269:a95d9c7b");var n=this;return _r_(function(){_i_("269:e6bb168f");var e=Array.prototype.slice.call(arguments);e=e.concat(i),t.apply(n,e),_r_()}.bind(n))}c&&(o=e("events")),l&&(o=e("event-bus"));var h={core:n,$e:s({}),events:{LOAD_BEFORE:"load:before",LOAD_AFTER:"load:after",LOAD_SUCCESS:"load:success",LOAD_ERROR:"load:error",LOAD_CANCELED:"load:canceled"},loadError:function(e,t){_i_("269:caf78df4"),t&&t.duplicate?this.$e.trigger(this.events.LOAD_CANCELED):this.$e.trigger(this.events.LOAD_ERROR),this.loadAfter(),_r_()},loadSuccess:function(){_i_("269:9524a4c6");var e=Array.prototype.slice.call(arguments);e.splice(1,2);var t=e[0],i=e[1]||void 0;this.$e.trigger(this.events.LOAD_SUCCESS,[t,i]),this.loadAfter(i),_.goal("js_review_list"),c&&(o.trigger("hotel:reviewlist:success:tab",i),o.trigger("REVIEWS:fetched",i)),l&&o.trigger("REVIEWS:fetched",i);var n=(s("[data-reviewlist-req-info]").data("reviewlist-req-info")||"").split(","),r=s("#req_info"),a=r.html();n.map(function(e){_i_("269:66210960"),e.length&&a.indexOf(e)<0&&r.html(a+","+e),_r_()}),_r_()},loadAfter:function(e){_i_("269:68aa585d"),this.$e.trigger(this.events.LOAD_AFTER,e),_r_()},loadBefore:function(e){_i_("269:0b86607a"),this.$e.trigger(this.events.LOAD_BEFORE,e),c&&(o.trigger("hotel:reviewlist:request:tab"),o.trigger("REVIEWS:startfetch"),r&&_.stage("adUAVYCdKNKNKPZZaPUcdJXIcOcNeC",1)),l&&o.trigger("REVIEWS:startfetch"),_r_()},on:function(e,t){if(_i_("269:8103c2ae"),!e||"string"!=typeof e||!t||"function"!=typeof t)return _r_(!1);this.$e.on(e,t),_r_()},load:function(e){_i_("269:b219c8b0");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.load(e).done(a.call(this,this.loadSuccess,t)).fail(a.call(this,this.loadError,t)),_r_()},loadUrl:function(e){_i_("269:ca99e96c");var t=Array.prototype.slice.call(arguments);t.shift(),this.loadBefore(t),this.core.loadUrl(e).done(a.call(this,this.loadSuccess,t)).fail(a.call(this,this.loadError,t)),_r_()},getUrl:function(){return _i_("269:c8dc5a65"),_r_(this.core.getURL())},getState:function(){return _i_("269:18985e55"),_r_(this.core.getState())},setState:function(e){return _i_("269:35c6235c"),_r_(this.core.setState(e))}},d={events:h.events,load:h.load.bind(h),on:h.on.bind(h),getState:h.getState.bind(h),setState:h.setState.bind(h),loadUrl:h.loadUrl.bind(h),getUrl:h.getUrl.bind(h)};return B.Reviews=B.Reviews||d,_r_(B.Reviews)}),B.define("hotel/core/back_is_back",function(e){_i_("269:08f18019");var t=e("jquery");if(!B.env.b_run_hp_back_is_back)return _r_();var i=t(window),n=window.history&&window.history.pushState,r=B.env.b_back_is_back_for_landers,a=t(".js-back_to_searchresults_for_browser").attr("href")||B.env.b_back_is_back_url;if(!a)return _r_();function o(){_i_("269:0ce8ffe3"),n?(r||window.history.back(),window.location.reload()):window.location.replace(a),_r_()}function s(){_i_("269:872926a3"),setTimeout(o,300),_r_()}if(n){if(null===window.history.state&&("searchresults"===B.env.b_from_action||r)){var _;window.location.hash&&(_=window.location.hash);var l=a;-1<l.indexOf("#")&&(l+="-back"),window.history.replaceState({action:"hotel-origin",fakeBack:!0},"Search Results",l),window.history.pushState({action:"hotel",fakeBack:!0},"Hotel Page",booking.env.b_this_url),_&&(window.location.hash=_)}i.bind("popstate",function(e){_i_("269:afd924d2"),e.originalEvent.state&&"hotel-origin"===e.originalEvent.state.action&&s(),_r_()})}else""!==window.location.hash||"searchresults"!==B.env.b_from_action&&!r||(window.location.hash="hotel-origin",setTimeout(function(){_i_("269:011c1f59"),window.location.hash="hotel",_r_()},1e3)),i.bind("hashchange",function(e){_i_("269:addee0fc"),window.location.hash&&window.location.hash.match("hotel-origin")&&e.originalEvent&&e.originalEvent.oldURL&&e.originalEvent.oldURL.match(/#hotel$/)&&s(),_r_()});_r_()}),B.define("hotel/core/fix_for_facilities_ie789",function(e){_i_("269:1a5ffac0");for(var t=e("jquery"),i=t("#hp_facilities_box"),n=i.children(":last-child"),r=i.find(".facilitiesChecklistSection"),a=r.length/3,o=null,s=0;s<3;s++)o=t("<div>",{style:"width: 30%; float: left; padding: 0 1.5%; clear: none;"}).addClass("facilitiesChecklist").addClass("facilities-ie-column").appendTo(i),r.slice(s*a,(s+1)*a).appendTo(o);n.appendTo(i),_r_()}),B.define("hotel/track/ga/ctrlf",function(e){_i_("269:f6e02007");var i=e("ga-tracker");window.onkeydown=function(e){_i_("269:c20371f1");var t=e.keyCode?e.keyCode:e.which;(e.ctrlKey||e.metaKey)&&70===t&&i.trackEvent("Hotel Page","Key presses","CTRL + F"),_r_()},_r_()}),B.define("hotel/track/ga/deals_label_content_icon",function(e){_i_("269:a08d83df");var t,i=e("jquery"),n=e("ga-tracker"),r=i(".deals_label_content_icon");r.length&&(t=i.trim(r.get(0).className.replace("deals_label_content_icon","")),n.trackEvent(n.viewTracker,"Deals",t+" "+B.env.b_hotel_id)),_r_()}),B.define("hotel/track/ga/hp_changedates_aborted_completed",function(e){_i_("269:1f914366");var t=e("jquery"),i=e("ga-tracker"),n=t(window),r=!1,a=!1,o=!1,s=!1,_=t("#hotelpage_availform"),l=t("#hp_availability_style_changes").find("a.b_change_dates");n.bind("beforeunload",function(){_i_("269:8cad40db"),!r&&a&&o&&!s&&(i.trackEvent("Submit","Hotel: Aborted change dates form","hp_changedates_aborted"),r=!0),!r&&a&&o&&s&&(i.trackEvent("Submit","Hotel: Aborted change dates form - completed","hp_changedates_compeleted"),r=!0),_r_()}),_.delegate("select","change",function(){_i_("269:5ac857d6"),o=!0,_r_()}).delegate("input.avail-date-submit","click",function(){_i_("269:d4f3536d"),s=!0,_r_()}),l.bind("click",function(){_i_("269:2d19340b"),a=!0,_r_()}),_r_()}),B.define("hotel/track/ga/hp_hotel_not_bookable",function(e){_i_("269:bed250cb");var t=e("ga-tracker");B.env.b_hp_hotel_not_bookable&&t.trackEvent("View","Hotel: Non-bookable | "+B.env.b_hotel_id+" | "+B.env.b_hotel_name,"b_hp_hotel_not_bookable"),_r_()}),B.define("hotel/track/ga/hp_max_number_room_booked_error",function(e){_i_("269:6d7e186b");var t=e("ga-tracker");B.env.b_hp_max_number_room_booked_error&&t.trackEvent("View","Hotel: Max number of rooms booked error","b_hp_max_number_room_booked_error"),_r_()}),B.define("hotel/track/ga/review_info_tag",function(e){_i_("269:7445fe05");var t=e("jquery"),i=e("ga-tracker");t(".review_list_wrapper").delegate(".review_info_tag","click",function(){_i_("269:40841675"),i.trackEvent(i.clickTracker,"Action: reviewlist","Review info tag"),_r_()}),_r_()}),B.define("hotel/track/ga/reviewer_type_filter",function(e){_i_("269:496d4178");var t=e("jquery"),i=e("ga-tracker"),n=t("#reviewer_type_filter"),r=function(){_i_("269:e723da84");var e=n.find(":selected").data("customer-type");i.trackEvent(i.clickTracker,"Action: reviewlist","Review list filter: "+e),_r_()};_i_("269:f6ddafb5"),n.bind("change",r),_r_(),_r_()}),B.define("hotel/track/ga/rt",function(e){_i_("269:1f8b3282");var t=e("jquery"),i=e("ga-tracker"),n=t("#rooms_table"),r=null;n.on("change",".bed_preference_select",function(){_i_("269:596882a9");var e=t(this).find("option:selected").attr("data-name-en");i.trackEvent(i.hotelPageTracker,"RT: Bed Preference","Changed: "+e),_r_()}),n.on("click",".bed_preference_select",function(){_i_("269:dc7293e7"),i.trackEvent(i.hotelPageTracker,"RT: Bed Preference","Toggled"),_r_()}),n.on("change",".b_room_selectbox",function(){_i_("269:57f3c842"),i.trackEvent(i.hotelPageTracker,"RT: Room Select","Changed: "+t(this).val()),_r_()}),n.on("click",".b_room_selectbox",function(){_i_("269:2188aa64"),i.trackEvent(i.hotelPageTracker,"RT: Room Select","Toggled"),_r_()}),function(){_i_("269:a94157c2");var e=t("#room_availability_container").data("ratr");if(!e)return _r_();i.trackEvent(i.viewTracker||"View","Rooms Table","["+e.nr+"]-"+e.nc),_r_()}(),n.on("mouseenter",".js-occupancy-tracker",function(e){_i_("269:21670611"),clearTimeout(r),r=setTimeout(function(){_i_("269:22efcd0d"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Occupancy","Hover: Occupancy"),_r_()},500),_r_()}).on("mouseleave",".js-occupancy-tracker",function(){_i_("269:ee9f2f68"),clearTimeout(r),_r_()}),n.on("mouseenter","ul.hp-rt__policy-list li.hp-rt__policy__item",function(e){_i_("269:6d801a07"),clearTimeout(r),r=setTimeout(function(){_i_("269:af659ec3"),void 0!==e.originalEvent&&t(e.currentTarget).data("policy-type")&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips",t(e.currentTarget).data("policy-type")),_r_()},500),_r_()}).on("mouseleave","ul.hp-rt__policy-list li.hp-rt__policy__item",function(){_i_("269:ee9f2f681"),clearTimeout(r),_r_()}),n.on("mouseenter",".room_table_conditions_tooltip",function(e){_i_("269:299aa58c"),clearTimeout(r),r=setTimeout(function(){_i_("269:1dc19632"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips","conditions_tooltip"),_r_()},500),_r_()}).on("mouseleave",".room_table_conditions_tooltip",function(){_i_("269:ee9f2f682"),clearTimeout(r),_r_()}),n.on("mouseenter",".hp-rt-room-deal-icons .d-deal--smart",function(e){_i_("269:50be3740"),clearTimeout(r),r=setTimeout(function(){_i_("269:5399e968"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"RT: Hover Tooltips","Value Deal"),_r_()},500),_r_()}).on("mouseleave",".hp-rt-room-deal-icons .d-deal--smart",function(){_i_("269:ee9f2f683"),clearTimeout(r),_r_()}),n.on("change",".bed-types-wrapper input",function(e){_i_("269:2f1d3d2d"),void 0!==e.originalEvent&&t(e.currentTarget).data("bed-type")&&i.trackEvent(i.hotelPageTracker,"RT: Bed Type",t(e.currentTarget).data("bed-type")),_r_()}),t(".property_hightlights_wrapper .js-ph__cta").on("click",function(e){_i_("269:4c147c00"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Reserve","Click: highligthed facilities"),_r_()}),n.on("click",".js-express-booking-button",function(e){_i_("269:34f4dda8"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Express booking","Click: Room table"),_r_()}),t("#hotel_main_content").on("click",".js-group-recommendation-reserve-btn",function(e){_i_("269:c5b64344"),void 0!==e.originalEvent&&i.trackEvent(i.hotelPageTracker,"Reserve","Click: Group Recommendation"),_r_()}),_r_()}),B.define("hotel/track/ga/lightbox",function(e){_i_("269:1a04a097");var t=e("jquery"),i=e("events"),r=e("ga-tracker");function a(e){return _i_("269:e1468e5b"),_r_(t('a.togglelink.jqrt[href="#'+e+'"]'))}i.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:44105e8b");var i=a(e).data("room-name-en");i&&r.trackEvent(r.hotelPageTracker,"Lightbox Opened by Room Name",i),_r_()}),i.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i){var n;_i_("269:97667ed7"),i&&(n=a(e).data("room-name-en"))&&r.trackEvent(r.hotelPageTracker,"Lightbox Closed - "+i,n),_r_()}),_r_()}),B.define("hotel/track/ga/touch_device",function(e){_i_("269:fa4ee1fd");var t=e("ga-tracker");if("ontouchstart"in window)try{window.addEventListener("touchstart",function e(){_i_("269:ac5b8a51"),t.trackEvent(t.hotelPageTracker,"Touch Device User","touch_device_user"),window.removeEventListener("touchstart",e),_r_()},!1)}catch(e){}_r_()}),B.define("hotel/track/ga/room_facilities",function(e){_i_("269:0ba3ea79");var t,i,s=e("jquery"),_=e("ga-tracker"),l=/bicon-(.*?)(\s|$)/,c=/highlighted_facilities_(.*?)(\s|$)/,h={},n=null;s("#rooms_table").on("mouseenter",".highlighted_facilities_reinforcement span",function(){_i_("269:0eb0a35a"),clearTimeout(n),n=setTimeout(function(){_i_("269:8ea36c44");var e=s(this),t=e.find("i");if(0<t.length){var i=t.get(0).className.match(l);if(i){var n=i[1];h.hasOwnProperty(n)||(h[n]=!0,_.trackEvent(_.hotelPageTracker,"Highlighted Facility",n))}else{var r=t.get(0).className.match(c);if(r){var a=r[1];h.hasOwnProperty(a)||(h[a]=!0,_.trackEvent(_.hotelPageTracker,"Legacy Facility",a))}}}else{var o=e.data("name-en");o&&(h.hasOwnProperty(o)||(h[o]=!0,_.trackEvent(_.hotelPageTracker,"Regular Facility",o)))}_r_()}.bind(this),600),_r_()}).on("mouseleave",".highlighted_facilities_reinforcement span",function(){_i_("269:7b2b4e7c4"),clearTimeout(n),_r_()}).on("click",".rt-show-more-facilities",function(){_i_("269:2cc87255"),_.trackEvent(_.hotelPageTracker,"Show More Facilities",s(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden")?"Expand":"Collapse"),_r_()}),s("#rooms_table").on("mouseenter",".hprt-facilities-facility",function(){_i_("269:2569ab94"),clearTimeout(n),n=setTimeout(function(){_i_("269:9ba82be6");var e=s(this),t=e.find("i"),i=e.data("name-en"),n="";if(0<t.length){var r=t.get(0).className.match(l);if(r)n=r[1];else{var a=t.get(0).className.match(c);a&&(n=a[1])}}if(n){var o=i||n;h.hasOwnProperty(o)||(h[o]=!0,_.trackEvent(_.hotelPageTracker,"Highlighted Facility",o))}else i&&(h.hasOwnProperty(i)||(h[i]=!0,_.trackEvent(_.hotelPageTracker,"Regular Facility",i)));_r_()}.bind(this),600),_r_()}).on("mouseleave",".hprt-facilities-facility",function(){_i_("269:7b2b4e7c"),clearTimeout(n),_r_()}),_i_("269:cc919f4c"),s(".js_hp_rt_lightbox_facilities").on("mouseover","[data-name-en]",function(){_i_("269:29362f94");var e=s(this).data("name-en");e&&(t=setTimeout(function(){_i_("269:60a7cfae"),_.trackEvent(_.hotelPageTracker,"Lightbox Facility",e),_r_()},300)),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:97c9766c"),clearTimeout(t),_r_()}),_r_(),_i_("269:13aa490b"),s(".js_hp_ph_common_rooms_facilities").on("mouseover","[data-name-en]",function(){_i_("269:59ba2e02");var e=s(this).data("name-en");i=setTimeout(function(){_i_("269:c6c748f7"),_.trackEvent(_.hotelPageTracker,"Common Facility",e),_r_()},300),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:97c9766c1"),clearTimeout(i),_r_()}),_r_(),_r_()}),B.define("hotel/track/ga/room_name_copy",function(e){_i_("269:cce5975a");var t=e("jquery"),i=e("ga-tracker");t("#hp_hotel_name").on("copy",function(){_i_("269:b2727b73"),i.trackEvent(i.hotelPageTracker,"User copied the room name","hp_room_name_oncopy"),_r_()}),_r_()}),B.define("hotel/track/ga/hotel_facilities",function(e){_i_("269:7b747034");var t=e("jquery"),i=e("ga-tracker"),n=null;t("#hp_facilities_box").on("mouseenter","[data-name-en]",function(){_i_("269:5c3fb028");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:2cc622d9"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Regular Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c1"),clearTimeout(n),_r_()}),t(".hp_desc_important_facilities").on("mouseenter","[data-name-en]",function(){_i_("269:2a2e8b0d");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:41d43085"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Important Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c2"),clearTimeout(n),_r_()}),t(".hp-facilities-sliding-wrapper").on("mouseenter",".hp_desc_important_facilities [data-name-en]",function(){_i_("269:2a2e8b0d1");var e=t(this).data("name-en");if(!e)return _r_();n=setTimeout(function(){_i_("269:41d430851"),e&&i.trackEvent(i.hotelPageTracker,"Hotel Important Facility",e),_r_()},600),_r_()}).on("mouseleave","[data-name-en]",function(){_i_("269:7b2b4e7c3"),clearTimeout(n),_r_()}),_r_()}),B.define("hotel/track/ga/bp_to_hp",function(e){_i_("269:b575229f");var t=e("ga-tracker");window.location.search&&-1!==window.location.search.indexOf(";from_bs2_modify=1")&&t.trackEvent(t.hotelPageTracker,"User clicked Change Info in Book Process","from_bs2_modify"),_r_()}),B.define("hotel/track/ga/faq_link",function(e){_i_("269:7bb3378e");var n=e("jquery"),r=e("ga-tracker"),a={};n("#faq_area").on("click","a",function(e){_i_("269:704875d1");var t=n(this),i=t.data("href");(i=i||t.attr("href"))&&(i=i.substr(1),a[i]||(r.trackEvent(r.hotelPageTracker,"FAQ clicked",i),a[i]=!0)),_r_()}),_r_()}),B.define("hotel/track/ga/header",function(e){_i_("269:1aa79bfb");var a=e("jquery"),i=e("ga-tracker"),n={},o="Hotel: Header Block";function s(e,t){_i_("269:0eb7ad2a"),t&&!n[t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[t]=!0),_r_()}a("#wrap-hotelpage-top").on("click mouseover",function(e){_i_("269:e48618fe");var t,i=a(e.target),n="click"===e.type,r=n?"Click":"Hover";n&&i.is("#hp_hotel_name")?t="Hotel name":i.is(".icon_deal_smart")?t="Thumb: "+r:n&&i.is(".share_center_url")?t="Share: Link":n&&(i.find(".bicon-bookingdotgenius,.ge-discount-rate").length||i.is(".bicon-bookingdotgenius,.ge-discount-rate"))?t="Genius Block: "+r:i.is(".bicon-bookingdotgenius,.ge-discount-rate")||i.closest(".bicon-bookingdotgenius,.ge-discount-rate").legth?t="Genius Block: "+r:n&&i.closest(".d-deal").length&&(t="Value deal: Click"),s(o,t),_r_()}),a("#hotel_share_center a").on("click",function(e){_i_("269:2d5465fd");var t,i=a(this);i.parent().is(".sc_facebook")?t="Share: FB":i.parent().is(".sc_twitter")?t="Share: Twitter":i.is(".close")&&(t="Share: Close"),s(o,t),_r_()}),a(".bicon-share").on("click",function(){_i_("269:40e2ed8f");s(o,"Share Button"),_r_()}),_r_()}),B.define("hotel/track/ga/reserve",function(e){_i_("269:e388f57c");var r=e("jquery"),i=e("ga-tracker"),n={},a="Reserve";function o(e,t){_i_("269:927c9e77"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0),_r_()}r(".book_now_button_handler").on("click mouseover",function(e){_i_("269:c92a4c9b");var t=r(e.target),i="click"===e.type,n=i?"Click":"Hover";t.closest("#wrap-hotelpage-top").length?i&&o(a,n+": Top Right"):t.closest(".hp-lists-reserve").length?i&&o(a,n+": Top left"):t.closest(".property-highlights")&&o(a,n+": Property Highlights"),_r_()}),r(".js-rt__summary__reserve-button").on("click",function(e){_i_("269:4b223d91");var t=r(e.target);t.closest(".lightbox-reserve-button").length&&o(a,"Click: RT: Lightbox"),t.closest("#room_availability_container").length&&o(a,"Click: Room table"),_r_()}),r("[id=rate_guarantee]").on("click mouseover",function(e){_i_("269:da8ca639");var t=r(e.target),i="click"===e.type?"Click":"Hover",n="We Price Match";t.closest(".hp-section-header").length&&o(n,i+": Availability Block"),t.closest(".rlt-left").length&&o(n,i+": Top Left"),_r_()}),_r_()}),B.define("hotel/track/ga/gallery",function(e){_i_("269:c54d420a");var t=e("jquery"),i=e("ga-tracker"),n={};t(".hp_review_score").on("click",function(e){_i_("269:24f2f929"),function(e,t){_i_("269:927c9e771"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0);_r_()}("Gallery","Click: Review: Score"),_r_()}),_r_()}),B.define("hotel/track/ga/description_block",function(e){_i_("269:935512b4");var t=e("jquery"),i=e("ga-tracker"),n={},r="Description block";function a(e,t){_i_("269:927c9e772"),t&&!n[e+t]&&(i.trackEvent(i.hotelPageTracker,e,t),n[e+t]=!0),_r_()}t(".hp-description--property-name-top-ranked").on("mouseover",function(){_i_("269:1d133860"),a(r,"Hover: USP"),_r_()}),t(".fe_banner").on("click",function(){_i_("269:5bd12834"),t(this).find(".bicon-openlock").length&&a(r,"Click: Close Lock in a great place for your upcoming stay"),_r_()}),_r_()}),function(e){"use strict";_i_("269:a9b6c121"),e.define("hotel/track/ga/searchbox",["jquery","ga-tracker"],function(i,t){_i_("269:88c6c2e8");var e=i("#left #frm");function n(e){_i_("269:c5e47f2f"),t.trackEvent(t.hotelPageTracker,"Search box",e),_r_()}e.find(".sb-dates__col.--checkin-field .sb-searchbox__input").on("click",function(){_i_("269:748350bd"),n("Click: Checkin"),_r_()}),e.find(".sb-dates__col.--checkout-field .sb-searchbox__input").on("click",function(){_i_("269:d680ed1f"),n("Click: Checkout"),_r_()}),e.on("change",".b-booker-type__input",function(e){_i_("269:e2c70bf7");var t=i(e.target).val();"business"===t?n("Business: Yes"):"leisure"===t&&n("Business: No"),_r_()}),e.on("change","#no_rooms, .no_rooms",function(e){_i_("269:361a86cb"),n("Rooms: "+i(e.target).val()),_r_()}),e.on("change","#group_adults, .group_adults",function(e){_i_("269:aacf7488"),n("Adults: "+i(e.target).val()),_r_()}),e.on("change","#group_children, .group_children",function(e){_i_("269:29f05e84"),n("Children: "+i(e.target).val()),_r_()}),e.on("click",".sb-searchbox__button",function(){_i_("269:6fa0d248"),n("Click: Change search"),_r_()}),_r_()}),_r_()}(window.booking),function(o){"use strict";_i_("269:43c7ca6a"),o.define("hotel/track/ga/availability_block",["jquery","ga-tracker"],function(t,i){_i_("269:1df41717");var e=t(".av-summary"),n=t(".js-hp-availability-section");function r(e){_i_("269:c5e47f2f1"),i.trackEvent(i.hotelPageTracker,"Availability Block",e),_r_()}function a(e){_i_("269:5086d01d");var t,i=e&&e.instance;return i&&i.$element&&i.$element.closest(n).length&&i.options&&i.options.type&&(t=i.options.type),_r_(t)}e.on("click",".av-summary-checkin",function(){_i_("269:49b6dbb7"),r("Click: Checkin"),_r_()}).on("click",".av-summary-checkout",function(){_i_("269:373e0097"),r("Click: Checkout"),_r_()}).on("click",".av-summary-guests",function(){_i_("269:47195ddd"),r("Click: Guests"),_r_()}).on("click",".av-summary-button",function(){_i_("269:3f69f9fd"),r("Click: Change search"),_r_()}),o.eventEmitter.bind("CALENDAR:opened",function(e,t){_i_("269:77898f38");var i=a(t);"checkin"===i?r("Lightbox: Checkin: Click"):"checkout"===i&&r("Lightbox: Checkout: Click"),_r_()}),o.eventEmitter.bind("CALENDAR:dayclick",function(e,t){_i_("269:ef800308");var i=a(t);"checkin"===i?r("Lightbox: Checkin: Select"):"checkout"===i&&r("Lightbox: Checkout: Select"),_r_()}),n.on("click",'[name="no_rooms"]',function(){_i_("269:a8240d3f"),r("Lightbox: Room: Click"),_r_()}).on("change",'[name="no_rooms"]',function(){_i_("269:30f06c4f");var e=t(this).val();e&&r("Lightbox: Rooms:"+e),_r_()}).on("click",'[name="group_adults"]',function(){_i_("269:94f18b85"),r("Lightbox: Adults: Click"),_r_()}).on("change",'[name="group_adults"]',function(){_i_("269:b1ad4b61");var e=t(this).val();e&&r("Lightbox: Adults:"+e),_r_()}).on("click",'[name="group_children"]',function(){_i_("269:231ea3eb"),r("Lightbox: Children: Click"),_r_()}).on("change",'[name="group_children"]',function(){_i_("269:79e417a2");var e=t(this).val();e&&r("Lightbox: Children:"+e),_r_()}).on("click",'button[type="submit"]',function(){_i_("269:fc48a3dc"),r("Lightbox: Check Avalilability"),_r_()}),_r_()}),_r_()}(window.booking),function(c,h){"use strict";_i_("269:8302050e"),c.define("hotel/track/ga/host-info",["jquery","ga-tracker"],function(s,i){_i_("269:68730ed5");var t,n,e=s("#host-info"),r="Host profile box: ",a=2e3;if(!e.length)return _r_();function o(e,t){_i_("269:c06d957a"),i.trackEvent(i.hotelPageTracker,r+e,t),_r_()}function _(e){_i_("269:ef7ac302"),o("text copied","User copied the host profile text: "+e),_r_()}function l(){_i_("269:f8576b20"),h.clearTimeout(n),_r_()}e.on("click",function(e){_i_("269:dd9a9f38");var t=s(e.target),i="click";t.closest(".js-host-info__title").length&&o(i,"Host profile title"),t.closest(".js-host-info__photo").length&&o(i,"Host profile picture"),t.closest(".js-host-info__review-score").length&&o(i,"Host review score"),t.closest(".js-host-info__languages").length&&o(i,"Languages spoken"),_r_()}),(t=e.find(".js-host-info__description")).on("mouseenter",function e(){_i_("269:fc005d5d"),n=h.setTimeout(function(){_i_("269:101f2d07"),o("view","Host profile language: "+c.env.b_host_info_lang+"|Website language: "+c.env.b_lang),t.off("mouseenter",e),t.off("mouseleave",l),_r_()},a),_r_()}),t.on("mouseleave",l),e.find("[data-ga-id]").on("copy",function(){if(_i_("269:adf76159"),"getSelection"in h&&"function"==typeof h.getSelection){var e,t,i,n,r=h.getSelection(),a=r.anchorNode,o=r.focusNode;if(!a||!o)return _r_();a=a.parentNode,o=o.parentNode,e=s(a),t=s(o),i=e.attr("data-ga-id"),n=t.attr("data-ga-id"),a===o?_(i):e.prev()[0]===o||e.next()[0]===o?(_(i),_(n)):(_("property"),_("host"),_("neighbourhood"))}_r_()}),_r_()}),_r_()}(window.booking,window),B.define("hotel/track/ga",function(e){_i_("269:428b8821"),e("hotel/track/ga/ctrlf"),e("hotel/track/ga/deals_label_content_icon"),e("hotel/track/ga/hp_changedates_aborted_completed"),e("hotel/track/ga/hp_hotel_not_bookable"),e("hotel/track/ga/hp_max_number_room_booked_error"),e("hotel/track/ga/review_info_tag"),e("hotel/track/ga/reviewer_type_filter"),e("hotel/track/ga/rt"),e("hotel/track/ga/searchbox"),e("hotel/track/ga/availability_block"),e("hotel/track/ga/room_name_copy"),e("hotel/track/ga/bp_to_hp"),e("hotel/track/ga/touch_device"),e("hotel/track/ga/room_facilities"),e("hotel/track/ga/hotel_facilities"),e("hotel/track/ga/faq_link"),e("hotel/track/ga/header"),e("hotel/track/ga/reserve"),e("hotel/track/ga/gallery"),e("hotel/track/ga/description_block"),e("server-data").b_host_info_can_be_shown&&e("hotel/track/ga/host-info"),_r_()}),B.define("hotel/track/navbar",function(e){_i_("269:7d656964");var t=e("jquery"),i=e("ga-tracker"),n=e("et"),r=t(".hp_nav_bar");r.length&&[{cssClass:".hp_nav_availability_link",title:"Availability",gaEvent:"hp_nav_bar_availability"},{cssClass:".hp_nav_facilities_link",title:"Facilities",gaEvent:"hp_nav_bar_facilities"},{cssClass:".hp_nav_policies_link",title:"Policies",gaEvent:"hp_nav_bar_policies"},{cssClass:".hp_nav_important_link",title:"The Fine Print",gaEvent:"hp_nav_bar_fine_print"},{cssClass:'.hp_nav_reviews_link[rel="reviews"]',title:"Reviews",gaEvent:"hp_nav_bar_reviews",excludeFromEt:!0},{cssClass:'.hp_nav_reviews_link[rel="main"]',title:"Reviews: Back To Description",gaEvent:"hp_nav_bar_reviews"}].forEach(function(e){_i_("269:1962177e"),r.on("click",e.cssClass,function(){_i_("269:e5c52043"),i.trackEvent(i.hotelPageTracker,"Nav Bar",e.title+" Clicked"),e.excludeFromEt||e.tracked||(e.tracked=!0,n.goal(e.gaEvent)),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_clicked_save_to_list_button",function(e){_i_("269:b5cf832b");var t=e("jquery"),i=e("events");t(".whishlist_trigger_rounded_larger_button").bind("mousedown",function(){_i_("269:23699d1a"),i.trigger("hp:clicked_save_to_list_button"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_clicked_save_to_list_icon",function(e){_i_("269:aa7c1ca3");var t=e("jquery"),i=e("events");t(".whishlist_trigger_rounded_smaller_button").bind("mousedown",function(){_i_("269:74911595"),i.trigger("hp:clicked_save_to_list_icon"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_featured_review_arrows_clicked",function(i){_i_("269:978cdc77");var e=i("jquery"),n=i("events"),r=!1;e(document).ready(function(){_i_("269:5c7ebd81");var t=e("._goalTracker_hp_featured_review_arrows_clicked");t.bind("click",function e(){_i_("269:b6c48842"),r||(n.trigger("hp:featured_review_arrows_clicked"),r=!0),B.env.b_save_user_hotel_interactions?i("hotel/track/goals_sort_hotel_history").track("hp_featured_review_arrows_clicked"):t.unbind("click",e),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_gallery_arrows_clicked",function(e){_i_("269:07d56bcf");var i=e("jquery"),n=e("events");i(document).ready(function(){_i_("269:dec4d68a");var t=i("a.large_image_slider");t.bind("click",function e(){_i_("269:e5f6db20"),n.trigger("hp:gallery_arrows_clicked"),t.unbind("click",e),_r_()}),_r_()}),_r_()}),B.define("hotel/track/goals/hp_hostel_gallery_arrows_clicked",function(e){_i_("269:82927a1d");var t=e("jquery"),i=e("events"),n=e("server-data"),r="hp:gallery_arrows_clicked";203==+n.b_acc_type&&t(function(){_i_("269:43c44862");var e=function(){_i_("269:2d198ca5"),i.off(r,e),i.trigger("hp:hostel_gallery_arrows_clicked"),_r_()};i.on(r,e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_hostel_gallery_photos_all_viewed",function(e){_i_("269:cff1d62b");var t=e("jquery"),i=e("events"),n=e("server-data"),r="hp:gallery_photos_all_viewed";203==+n.b_acc_type&&t(function(){_i_("269:43c448621");var e=function(){_i_("269:2d198ca51"),i.off(r,e),i.trigger("hp:hostel_gallery_photos_all_viewed"),_r_()};i.on(r,e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_my_viewed_hotel_click",function(e){_i_("269:14b3ec5d");var t=e("jquery"),i=e("events");t(".thumbLink, .hotel_history_lnk","#LastViewedHotels").bind("mousedown",function(){_i_("269:9cc1c971"),i.trigger("hp:my_viewed_hotel_click"),B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_my_viewed_hotel_click"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_room_select",function(e){_i_("269:26017106");var t=e("events");t.on(B.hotel.Events.RT.ROOM_SELECTED,function(){_i_("269:c13f4cba"),t.trigger("hp:room_select"),B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_room_select"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_room_select_error",function(e){_i_("269:82d4881e");var t=e("events");t.on(B.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT,function(){_i_("269:bb76f458"),t.trigger("hp:room_select_error"),B.env&&B.env.b_save_user_hotel_interactions&&e("hotel/track/goals_sort_hotel_history").track("hp_room_select_error"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_conditions_tooltip_viewed",function(e){_i_("269:efa74901");var t=e("jquery"),i=e("events"),n=!1,r=t("#rooms_table"),a=null,o=!1;r.on("mouseenter.js-goal-tracking","div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li",function(){_i_("269:50b8d9c4"),n=!0,a=setTimeout(function(){_i_("269:5888b3ae"),n&&(o||(i.trigger("hp:conditions_tooltip_viewed"),o=!0),B.env&&B.env.b_save_user_hotel_interactions?e("hotel/track/goals_sort_hotel_history").track("hp_rt_conditions_tooltip_viewed"):(r.off("mouseenter.js-goal-tracking"),r.off("mouseleave.js-goal-tracking"))),_r_()},300),_r_()}),r.on("mouseleave.js-goal-tracking","div.ico_policy_info span.jq_tooltip, ul.hp-rt__policy-list li",function(){_i_("269:4bd49b95"),n=!1,clearTimeout(a),_r_()}),_r_()}),B.define("hotel/track/goals/hp_searched_in_browser",function(n){_i_("269:ea9e7f3b");var e=n("jquery"),r=n("events"),a=e(window),o=!1;a.on("keydown",function e(t){_i_("269:3974b14d");var i=t.keyCode?t.keyCode:t.which;(t.ctrlKey||t.metaKey)&&70===i&&(o||(r.trigger("hp:hp_searched_in_browser"),o=!0),B.env.b_save_user_hotel_interactions?n("hotel/track/goals_sort_hotel_history").track("hp_searched_in_browser"):a.off("keydown",e));_r_()}),_r_()}),B.define("hotel/track/goals/hp_sold_out_rooms_viewed",function(i){_i_("269:22d60845");var o=i("jquery"),s=i("events"),_=!1,l=!1,c=o("._goalTracker_hpSoldOutRoomsView"),n=i("utils/debounce");o(document).ready(function(){_i_("269:801cbef9");var e=o(window);function t(){_i_("269:7f5fad6f");var n=e.scrollTop(),r=n+e.height(),a=!1;c.each(function(e,t){var i;if(_i_("269:09959255"),(i=(t=o(t)).offset().top)+t.height()<=r&&n<=i)return _r_(!(a=!0));_r_()}),a?(_||(s.trigger("hp:sold_out_rooms_viewed"),_=!0),B.env.b_save_user_hotel_interactions?l||(i("hotel/track/goals_sort_hotel_history").track("hp_sold_out_rooms_viewed"),l=!0):e.unbind("scroll resize",t)):l=!1,_r_()}c.length&&(e.bind("scroll resize",n(t,1e3)),t()),_r_()}),_r_()}),B.define("hotel/track/goals/rt_onview",function(e){_i_("269:8e77accf"),e("et").on("view",".roomstable").goal("rt_onview"),_r_()}),B.define("hotel/track/goals/hp_facilities_block_seen",function(e){_i_("269:cf81c3b4");var t=e("et"),i=e("server-data"),n="#hp_facilities_box";t.on("view",n).goal("hp_facilities_block_seen"),203==+i.b_acc_type&&t.on("view",n).goal("hp_hostel_facilities_block_seen"),_r_()}),B.define("hotel/track/goals/hp_surroundings_block_seen",function(e){_i_("269:3275fbd1"),e("et").on("view",".property_page_surroundings_block").goal("hp_surroundings_block_seen"),_r_()}),B.define("hotel/track/goals/hp_policies_block_seen",function(e){_i_("269:1b831b1c"),e("et").on("view","#hp_policies_box").goal("hp_policies_block_seen"),_r_()}),B.define("hotel/track/goals/room_facilities",function(t){_i_("269:61d7b21c");var i=t("jquery"),n=t("et");i("#rooms_table").on("click",".rt-show-more-facilities",function(){_i_("269:b7072fb8");var e=i(this).parents("td").find(".rt-all-facilities-hidden").is(":hidden")?"hp_room_facilities_more":"hp_room_facilities_less";n.goal(e),t("hotel/track/goals_sort_hotel_history").track(e),_r_()}),_r_()}),B.define("hotel/track/goals/hp_lightbox_opened_more_than_once",function(e){_i_("269:6904d8f5");var n=e("et"),t=e("events"),r={},a=0,o=!1,s=!1,_=!1;t.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){var i;_i_("269:59733698"),i=e,_i_("269:41b7bf8a"),o&&s&&_||!i||(r[i]?r[i]+=1:(r[i]=1,a+=1,o||(n.goal("hp_rt_roomtype_lightbox_opened"),o=!0)),!s&&1<r[i]&&(n.goal("hp_lightbox_opened_more_than_once"),s=!0),!_&&1<a&&(n.goal("hp_lightbox_opened_for_different_rooms"),_=!0)),_r_(),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_price",function(e){_i_("269:905bcd47"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-room-price",function(){_i_("269:cc841790"),B.et.goal("hp_rt_hovering_price"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_price"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_occupancy",function(e){_i_("269:aac9b7b0"),B.require("jquery")("#rooms_table").one("mouseenter","._goalTracker_hpOccupancyHover, .js-track-hp-rt-unav-occupancy",function(){_i_("269:3fe0f326"),B.et.goal("hp_rt_hovering_occupancy"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_occupancy"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_mealplan",function(e){_i_("269:6683fbfe"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-meal-plan",function(){_i_("269:abaabfac"),B.et.goal("hp_rt_hovering_mealplan"),e("hotel/track/goals_sort_hotel_history").track("hp_rt_hovering_mealplan"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_policies",function(e){_i_("269:888fe390");var t=B.require("jquery");t("#rooms_table").one("mouseenter",".js-track-hp-rt-nr",function(){_i_("269:fef64fa5"),B.et.goal("hp_rt_hovering_non_refundable"),_r_()}),t("#rooms_table").one("mouseenter",".js-track-hp-rt-fc",function(){_i_("269:2916d97c"),B.et.goal("hp_rt_hovering_free_cancellation"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_room_deselect",function(t){_i_("269:15ec1e13");var i=B.require("jquery");i("#rooms_table").on("change.track_room_deselect",".b_room_selectbox",function(){_i_("269:1f289c3b");var e=i(this).find(":selected");e.length&&"0"===e[0].value&&(B.et.goal("hp_rt_room_deselect"),t("hotel/track/goals_sort_hotel_history").track("hp_rt_room_deselect"),i("#rooms_table").off("change.track_room_deselect",".b_room_selectbox")),_r_()}),_r_()}),B.define("hotel/track/goals/hp_lb_gallery_goals",function(a){_i_("269:e4659e44");var o="hp_lb_gallery_clicks_photo",s="hp_lb_gallery_clicks_arrows",_="hp_lb_gallery_used_thumbs",l={};B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:dbbc91d9");var i=t.find(".hprt-lightbox-gallery-container");l[o]||i.find('[data-gallery=""]').one("click.tracking",function(){_i_("269:41b04862"),B.et.goal(o),a("hotel/track/goals_sort_hotel_history").track(o),l[o]=1,_r_()});if(!l[s]){var n=i.find("a.hp-gallery-control");n.on("click.tracking",function(e){_i_("269:649dde58"),e.hasOwnProperty("originalEvent")&&(B.et.goal(s),a("hotel/track/goals_sort_hotel_history").track(s),l[s]=1,n.off("click.tracking")),_r_()})}if(!l[_]){var r=i.find("a.js-hotel-thumb");r.on("mouseenter.tracking click.tracking",function(){_i_("269:458e8e49"),B.et.goal(_),a("hotel/track/goals_sort_hotel_history").track(_),l[_]=1,r.off("mouseenter.tracking click.tracking"),_r_()})}_r_()}),B.events.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t){_i_("269:fbf557e1");var i=t.find(".hprt-lightbox-gallery-container");l[o]||i.find('[data-gallery=""]').off("click.tracking");l[s]||i.find("a.hp-gallery-control").off("click.tracking");l[_]||i.find("a.js-hotel-thumb").off("mouseenter.tracking click.tracking");_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_hovering_room_name",function(e){_i_("269:eeb9e346"),B.require("jquery")("#rooms_table").one("mouseenter",".js-track-hp-rt-room-name",function(){_i_("269:fa4d107e"),B.et.goal("hp_rt_hovering_room_name"),_r_()}),_r_()}),B.define("hotel/track/goals/hp_rt_books_x_room",function(e){_i_("269:319312a2");var a=B.require("jquery"),t=a("#roomsForm").find("input[name=rt_pos_selected]"),i=function(){_i_("269:618c4f2a");var r=[];a(".b_room_selectbox").each(function(){_i_("269:a332b5a9");var e=a(this);if("0"!==e.val()){var t=e.parents("tr").attr("class").split(/\s+/);a.each(t,function(e,t){_i_("269:cd53201e");var i=t.match(/room_loop_counter(\d+)/);if(i){var n=i[1];-1===a.inArray(n,r)&&r.push(n)}_r_()})}_r_()}),t.val(r.join("_")),_r_()};B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,i),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,i),_r_()}),B.define("hotel/track/goals",function(e){_i_("269:082fc707");var t,i=e("et"),n=e("events"),r={"BLOCKDISPLAY4.OPEN":"review_list","rt-lightbox-open":"hp_rt_roomtype_lightbox_opened","hp:my_viewed_hotel_click":"hp_my_viewed_hotel_click","hp:clicked_save_to_list_button":"hp_clicked_save_to_list_button","hp:clicked_save_to_list_icon":"hp_clicked_save_to_list_icon","hp:conditions_viewed":"hp_rt_conditions_viewed","hp:sold_out_rooms_viewed":"hp_sold_out_rooms_viewed","hp:featured_review_arrows_clicked":"hp_featured_review_arrows_clicked","hp:gallery_arrows_clicked":"hp_gallery_arrows_clicked","hp:hostel_gallery_arrows_clicked":"hp_hostel_gallery_arrows_clicked","hp:gallery_thumbs_used":"hp_gallery_thumbs_used","hp:gallery_photos_all_viewed":"hp_gallery_photos_all_viewed","hp:hostel_gallery_photos_all_viewed":"hp_hostel_gallery_photos_all_viewed","hp:room_select":"hp_room_select","hp:room_select_error":"hp_room_select_error","hp:conditions_tooltip_viewed":"hp_rt_conditions_tooltip_viewed","hp:hp_searched_in_browser":"hp_searched_in_browser"};for(t in r)r.hasOwnProperty(t)&&n.one(t,function(e){return _i_("269:0824ee76"),_r_(function(){_i_("269:5040bac2"),i.goal(e),_r_()})}(r[t]));e("hotel/track/goals/hp_clicked_save_to_list_button"),e("hotel/track/goals/hp_clicked_save_to_list_icon"),e("hotel/track/goals/hp_featured_review_arrows_clicked"),e("hotel/track/goals/hp_gallery_arrows_clicked"),e("hotel/track/goals/hp_hostel_gallery_arrows_clicked"),e("hotel/track/goals/hp_hostel_gallery_photos_all_viewed"),e("hotel/track/goals/hp_my_viewed_hotel_click"),e("hotel/track/goals/hp_room_select"),e("hotel/track/goals/hp_room_select_error"),e("hotel/track/goals/hp_rt_conditions_tooltip_viewed"),e("hotel/track/goals/hp_searched_in_browser"),e("hotel/track/goals/hp_sold_out_rooms_viewed"),e("hotel/track/goals/rt_onview"),e("hotel/track/goals/hp_facilities_block_seen"),e("hotel/track/goals/hp_surroundings_block_seen"),e("hotel/track/goals/hp_policies_block_seen"),e("hotel/track/goals/room_facilities"),e("hotel/track/goals/hp_lightbox_opened_more_than_once"),e("hotel/track/goals/hp_rt_hovering_price"),e("hotel/track/goals/hp_rt_hovering_occupancy"),e("hotel/track/goals/hp_rt_hovering_mealplan"),e("hotel/track/goals/hp_rt_hovering_policies"),e("hotel/track/goals/hp_rt_room_deselect"),e("hotel/track/goals/hp_lb_gallery_goals"),e("hotel/track/goals/hp_rt_hovering_room_name"),e("hotel/track/goals/hp_rt_books_x_room"),_r_()}),B.define("hotel/track/print",function(e){_i_("269:4bcf6d65");var t=e("ga-tracker"),i=function(){_i_("269:fdf8aae3"),t.trackEvent(t.hotelPageTracker,"Print","Printed the page"),_r_()};window.matchMedia&&window.matchMedia("print").addListener(function(e){_i_("269:38f6371a"),e.matches&&i(),_r_()});window.onbeforeprint=i,_r_()}),B.define("hotel/track",function(e){_i_("269:f41ce314"),e("hotel/track/ga"),e("hotel/track/navbar"),e("hotel/track/goals"),e("hotel/track/print"),e("hotel/track/goals_sort_hotel_history"),_r_()}),B.define("hotel/core/no_dates_prefetch_sr_assets",function(e){_i_("269:799ee450");var i=e("jquery"),t=i("link[rel=_prefetch][data-hash=sr_assets]");0<t.length&&i(window).bind("load",function(){_i_("269:ffbf13f0"),setTimeout(function(){_i_("269:92d34033"),t.each(function(e,t){_i_("269:580ae5b9"),i(t).attr("rel","prefetch"),_r_()}),_r_()},3e4),_r_()}),_r_()}),B.define("hotel/av_calendar/get_dates_form",function(t){_i_("269:fef51483");var s=t("jquery");s(document).ready(function(){_i_("269:278b8585");s(window).scroll(function(){_i_("269:b5e30fc1"),s("#form-wrapper").length&&s("#form-wrapper").css("top",s(window).scrollTop()+200+"px"),_r_()}),s("#maxotel_rooms .js_price_button").on("click keydown",function(e){if(_i_("269:d8242524"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();var t=s("#availability_target"),i=s("#av-calendar-tracking-position");e.preventDefault();var n=t.length?t.offset().top:i.offset().top;return n-=B.env.b_hp_sticky_offset||0,!function(){_i_("269:4b68acd2");var e,t,i,n,r,a,o=s("#hotelpage_availform");if(!o.find("select[name=checkin_year_month]").length)return _r_(!1);return e=o.find("select[name=checkin_monthday]").val(),t=o.find("select[name=checkin_year_month]").val().split("-"),i=o.find("select[name=checkout_monthday]").val(),n=o.find("select[name=checkout_year_month]").val().split("-"),r=new Date(t[0],t[1]-1,e),a=new Date(n[0],n[1]-1,i),_r_(r<a)}()?setTimeout(function(){_i_("269:08f36c5a"),alert(booking.env.valdateDates_msg),_r_()},200):s("#hotelpage_availform").submit(),s("html, body").scrollTop(n),_r_(!1)}),s("#hcta_simple, #hcta").click(function(){_i_("269:e3743ba0");var e=s(this),t=s("#availability_target").length?"#availability_target":"#av-calendar-tracking-position",i=e.data("will-submit-form"),n=s(this).data("url");return i||(window.location=n||t),_r_(!1)}),s("#roomsForm .bookNow1_top button, #bookNow1 input, #booknow_beneath input").click(function(){if(_i_("269:eec4ba7e"),booking.env.no_rooms_selected=0,s("#maxotel_rooms select").each(function(){_i_("269:5ae24928"),s(this).hasClass("bed_preference_select")||(booking.env.no_rooms_selected+=parseInt(this.value,10)),_r_()}),booking.env.no_rooms_selected<1){var e=t("ga-tracker");e.trackEvent(e.errorTracker,"JavaScript","please_select_one_or_more_rooms_RT")}_r_()}),s("#blockdisplay1 .top_link, #blockdisplay4 .top_link, #rm_cond_link_enter_dates").click(function(){return _i_("269:4cbc5e74"),window.location.href="#availability_target",_r_(!1)}),s(document).keyup(function(e){_i_("269:be16b0b3"),27===e.keyCode&&s("#close").click(),_r_()}),s(".b_change_dates").click(function(){_i_("269:b124d1c9");var e={customWrapperClassName:"modal-edit-dates",bOverflowVisible:!0};booking.lightbox.show(s("#editDates"),e),_r_()}),_r_()}),_r_()}),booking.jstmpl("select_availability_tooltip",function(){_i_("269:aa1afa69");var n=['\n    <div class="select_availability_tooltip_message">\n        <p>','</p>\n        <span class="select_availability_tooltip__arrow"></span>\n    </div>\n'],r=["fe_dates_message"];return _r_(function(e){_i_("269:2a96cd0a");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1]].join(""),_r_(t)})}()),B.define("hotel/av_calendar/disable_availability_button",function(e){_i_("269:ed4491d6"),B.when({events:"ready"}).run(function(e){_i_("269:27a4094e");var t=e("jquery");B.eventEmitter.bind("SEARCH:date_changed",function(){_i_("269:8732bab1"),t("input.js-avail-date-submit").removeAttr("disabled").removeClass("b-button_disabled"),_r_()}),_r_()}),_r_()}),B.define("hotel/av_calendar/labels",function(e){_i_("269:f5af4c38");var t=e("jquery")(".lp_bold_date_picker_wrapper"),i=t.find(".lp_bold_date_picker_checkin"),n=t.find(".lp_bold_date_picker_checkout");t.find(".rt-av-input-label-checkin").on("click",function(e){_i_("269:9b04b97a"),e.stopPropagation(),i.trigger("click"),_r_()}),t.find(".rt-av-input-label-checkout").on("click",function(e){_i_("269:c51592a6"),e.stopPropagation(),n.trigger("click"),_r_()}),_r_()}),B.define("hotel/av_calendar/availability_block",function(i){_i_("269:146fe962");var o,s,a,l=i("jquery"),c=B.env,_="date_with_year";function t(){_i_("269:01500fd6");var t=l("#searchboxInc");a=l(".js-hp-availability-section"),s=a.find(".lp_bold_date_picker_checkin"),o=a.find(".lp_bold_date_picker_checkout"),a.find(".lp_bold_date_picker_group_container").length&&function(){_i_("269:8df76271");var n=a.find(".lp_bold_date_picker_lightbox"),r=n.parent();a.find(".lp_bold_date_picker_group_container").click(function(e){_i_("269:4cd69dfb");var t=l(this).find(".main_guests_selector"),i=l(this).find(".lp_bold_date_picker_select");t.is(":visible")||(e.stopPropagation(),t.show(),i.addClass("focus"),l.each(p(),function(){_i_("269:e3cf5cd3"),this.trigger("hide"),_r_()}),l(document).one("click",function(){_i_("269:ddf3bafd"),t.hide(),i.removeClass("focus"),_r_()})),_r_()}).find(".lp_bold_date_picker_group_lists li").click(function(){_i_("269:4d2ea960");var e,t,i=l(this).data();0==i.b_number_rooms?(e=n,t=B.search.group().value,_i_("269:fb6dd9cc"),e.find(".room_guests_selector input").val(t.rooms),e.find(".adults_guests_selector input").val(t.adults),e.find(".children_guests_selector input").val(t.children),g({data:{value:t.children}}),_r_(),r.show()):(B.search.group({adults:i.b_number_adults,children:i.b_number_children,childrenAges:[],rooms:i.b_number_rooms}),l(this).closest(".lp_bold_date_picker_group_container").find(".lp_bold_date_picker_select_text").html(l(this).text())),_r_()}),r.click(function(e){_i_("269:096a958f"),l(e.target).hasClass("lp_bold_date_picker_dimmer")&&r.hide(),_r_()}),n.find(".lp_bold_date_picker_lightbox_secondary_cta, .lp_bold_date_picker_lightbox_close_button").click(function(){_i_("269:6120b66b"),r.click(),_r_()}).end().find(".lp_bold_date_picker_lightbox_cta").click(function(){_i_("269:e74aa43e");var e,t=(e=n,_i_("269:72f77295"),_r_({rooms:e.find(".room_guests_selector input").val(),adults:e.find(".adults_guests_selector input").val(),children:e.find(".children_guests_selector input").val(),childrenAges:e.find(".age_guests_selector:visible input").map(function(){return _i_("269:73dc03d8"),_r_(parseInt(l(this).val(),10))}).toArray()}));B.search.group(t),b(t),r.click(),_r_()}),B.require("legacy-event-bus").bind("spin-button-change",function(e){_i_("269:e6789d33"),"lp_bold_date_picker_children_selector"===e.data.id&&g(e,!0),_r_()});var t=B.search.group().value;b(t),t.children&&a.find(".lp_bold_date_picker_lightbox_ages").each(function(e){_i_("269:e73e059c"),void 0!==t.childrenAges[e]&&l(this).find("input").val(t.childrenAges[e]),_r_()});_r_()}(),B.eventEmitter.bind(B.Search.Events.DATE_CHANGED,function(){_i_("269:1f9d8e4a"),l(".lp_bold_date_picker_btn").removeClass("b-button_disabled").removeAttr("disabled"),_r_()}),l("#hotelpage_availform").submit(function(){_i_("269:0e625842");var e=r(),t=!1;return a.find(".js-lp_bold_date_picker_error").hide(),l(".lp_bold_date_picker_btn").hasClass("b-button_disabled")?t=!0:e.checkin&&"valid"==e.checkin.type&&e.checkout&&"valid"==e.checkout.type?(!e.checkout.dateObject_||!e.checkin.dateObject_||2592e6<e.checkout.dateObject_.getTime()-e.checkin.dateObject_.getTime())&&(t=!0,l(".lp_bold_date_picker_error").fadeIn(300)):e.checkin&&"valid"==e.checkin.type?e.checkout&&"valid"==e.checkout.type||(t=!0,l(".lp_bold_date_picker_error--checkout").fadeIn(300)):(t=!0,l(".lp_bold_date_picker_error--checkin").fadeIn(300)),t||(l(".lp_bold_date_picker_error").hide(),0<i("hotel/store").getState().roomsTable.js_selection.blockIDs.length&&l("#hotelpage_availform .hiddenInputSection").append(l('<input type="hidden" name="user_has_rooms_selected" value="1">'))),_r_(!t)}),a.find(".b-booker-type").click(function(){_i_("269:2c8ca27f");var e=l(this).find("input")[0].className;t.find("."+e).click(),_r_()});var e=r();e.checkin&&m("checkin",e.checkin.date,e.checkin.month+1,e.checkin.year),e.checkout&&m("checkout",e.checkout.date,e.checkout.month+1,e.checkout.year),_r_()}function h(e,t){if(_i_("269:76fc07e2"),B.env.b_year_months[e+"-"+(t+1)])return _r_(B.env.b_year_months[e+"-"+(t+1)].name);_r_()}function n(){_i_("269:8b9088c0");var e=c.sunday_first,t=c.b_simple_weekdays,i=c.b_short_months;function _(e,t){if(_i_("269:6286bf2c"),!e)return _r_();var i=new Date(e.year,e.month,e.date+t);return _r_({year:i.getFullYear(),month:i.getMonth(),date:i.getDate()})}e&&t.unshift(t.pop()),B.eventEmitter.bind("SEARCH:date_changed",d);var n={type:"checkin",category:"av_calendar",defaultDate:B.search.dates("checkin"),dayNames:t,monthNames:i,sundayFirst:e,title:c.transl_checkin_title,monthTitle:h,direction:c.rtl?"rtl":"ltr",arrow:!0,onDateSelected:function(e,t){_i_("269:4fa3be39");var i={year:t.getYear(),month:t.getMonth(),date:t.getDate()},n=B.search.dates("checkin"),r=B.search.dates("checkout"),a=r,o=p();if("checkin"===e.options.type){B.search.dates("checkin",i),n=B.search.dates("checkin"),(!r||"invalid"===r.type||n.toString()>=r.toString())&&(B.search.dates("checkout",_(n,1)),r=B.search.dates("checkout"));for(var s=0;s<o.length;s++)"checkout"===o[s].type&&(o[s].setOptions({startDate:t}),o[s].refreshDisabledDays())}else B.search.dates("checkout",i),r=B.search.dates("checkout");m(e.options.type,t.getDate(),t.getMonth()+1,t.getYear()),n&&"invalid"!==r.type||(i=new Date(t.getYear(),t.getMonth(),t.getDate()-1),B.search.dates("checkin",i),n=B.search.dates("checkin")),(r&&!n||"valid"===r.type&&"invalid"===n.type||n.toString()>=r.toString())&&(B.search.dates("checkin",_(r,-1)),n=B.search.dates("checkin")),n&&r&&"valid"===n.type&&"valid"===r.type&&e.selectRange(B.calendar2.dayId(n.year,n.month,n.date),B.calendar2.dayId(r.year,r.month,r.date)),a&&"invalid"!==a.type||m("checkout",r.date,r.month+1,r.year),_r_()},onHide:function(){_i_("269:0b1642f7"),l(this.$element.context).removeClass("focus"),_r_()},onShow:function(e){if(_i_("269:858e652a"),l(this.$element.context).addClass("focus"),"checkout"!==e.options.type){var t=B.search.dates("checkin");t&&"valid"===t.type&&e.selectDay(B.calendar2.dayId())}_r_()}};B.eventEmitter.bind("CALENDAR:opened",f);var r=l.extend({},n);r.type="checkout",r.title=c.transl_checkout_title,r.defaultDate=B.search.dates("checkout"),r.startDate=function(){_i_("269:c79d1979");var e=B.calendar2.today();return e.setDate(e.getDate()+1),_r_(e)}(),r.endDate=function(){_i_("269:03ec9101");var e=B.calendar2.today();B.env.b_search_max_months?e.setMonth(e.getMonth()+B.env.b_search_max_months):e.setFullYear(e.getFullYear()+1);return e.setDate(0),_r_(e)}(),s.calendar2(n),o.calendar2(r),d(1,{type:"checkin"}),d(1,{type:"checkout"}),_r_()}function d(e,t){_i_("269:8f7260d6");var i=B.search.dates("checkin"),n=B.search.dates("checkout"),r=B.search.dates(t.type),a=p();i&&m("checkin",i.date,i.month+1,i.year),n&&m("checkout",n.date,n.month+1,n.year),"month"===r.type?u("monthSelected",t.type,r):"valid"===r.type&&u("dateSelected",t.type,r);for(var o=0;o<a.length;o++)i&&n&&"valid"===i.type&&"valid"===n.type&&a[o].trigger("rangeSelected",{type:t.type,startValue:i,endValue:n});_r_()}function f(e,t){_i_("269:5fffa8eb");for(var i=p(),n=0;n<i.length;n++)t.id!==i[n].id()&&i[n].trigger("hide");_r_()}function u(e,t,i){_i_("269:67830795");for(var n=p(),r=0;r<n.length;r++)n[r].type()===t&&n[r].trigger(e,{type:t,value:i});_r_()}function p(){return _i_("269:022d9f4b"),_r_(B.calendar2.controller.getCalendars())}function r(){return _i_("269:41e6ba3f"),_r_({checkin:B.search.dates("checkin"),checkout:B.search.dates("checkout")})}function m(e,t,i,n){var r,a;return _i_("269:df9c4730"),t&&(a=n+"-"+i+"-"+t,a=booking.formatter.date(a,_)),r="checkin"===e?s:o,t?r.removeClass("placeholder").find("span").text(a):r.addClass("placeholder").find("span").text(r.data("default")),_r_(!0)}function b(e){_i_("269:e22cee86");var t=B.jstmpl("lp_bold_date_picker_group_message").render(e);a.find(".lp_bold_date_picker_group_container").find(".lp_bold_date_picker_select_text").html(t),_r_()}function g(e,t){_i_("269:da1fd504");var i=t?"slideDown":"show",n=t?"slideUp":"hide";if(e.data.value){var r=a.find(".lp_bold_date_picker_lightbox_ages");1==e.data.value?r.find(".singular").show().siblings(".plural").hide():r.find(".plural").show().siblings(".singular").hide(),r.slideDown().find(".age_guests_selector:lt("+e.data.value+")").filter(":not(:visible)").val("0").end()[i]().end().find(".age_guests_selector:gt("+(e.data.value-1)+")")[n]()}else a.find(".lp_bold_date_picker_lightbox_ages")[n]().find(".age_guests_selector")[n]();_r_()}B.when({events:"ready"}).run(function(e){_i_("269:8a1daa89"),t(),n(),_r_()}),_r_()}),B.define("hotel/av_calendar",function(e){_i_("269:a6d51a6a"),e("hotel/av_calendar/get_dates_form"),e("hotel/av_calendar/disable_availability_button"),e("hotel/av_calendar/labels"),e("hotel/av_calendar/availability_block"),_r_()}),B.define("hotel/faq",function(e){_i_("269:bacaab43");var a,o,s=e("jquery"),_=B.require("trap-focus"),t=0,i=s("body"),l=!1,c={hideCallBack:function(){_i_("269:6a569391"),l&&(_.release(),a.focus()),_r_()}};s(".faq_link a").click(function(e){_i_("269:4840b5b3"),e.preventDefault();var t=this;if(o=s(".faq_detail"),!booking.env.b_faq_questions_standalone_loaded){var i="/general"+booking.env.b_query_params_with_lang+booking.env.b_query_params_delimiter+"tmpl=faq_questions_standalone";s("#faq_detail").load(i+" #faq_questions_standalone",function(){_i_("269:00f51a4e"),s("#faq_questions_standalone").replaceWith(s("#faq_questions_standalone").contents()),booking.env.b_faq_questions_standalone_loaded=1,s(this).append(s(".faq-inline-data")),l=!0,t.click(),_r_()})}if(booking.lightbox.show(s(".faq_detail"),c),s("#topten").addClass("hidden"),s(".faqA").removeClass("active"),!1===l)return _r_(!1);var n,r=s(this).attr("data-href").match(/(#.*)$/)[1];r&&((n=s(r)).addClass("active"),a=s(document.activeElement),_.trap(o.parent(".modal-wrapper")[0]),o.find(".active h3").attr("tabindex",0).focus()),B.events.trigger("faq-lightbox-open",e,n),_r_()}),booking.eventEmitter.bind("modal:open",function(){_i_("269:a88dfdc7");var e=s("div.modal-wrapper");t=parseInt(e.css("top"),10),e.find("#faq_detail").length&&(i.addClass("faq-modal-open"),e.css({top:s(window).scrollTop()+t})),_r_()}).bind("modal:close",function(){_i_("269:8fb4637f"),i.removeClass("faq-modal-open"),_r_()}),_r_()}),B.define("hotel/ryokan",function(e){_i_("269:106ed887");var t,i,n=e("jquery"),r=0,a=n("body"),o="lightbox-absolute-opened";n(".ryokan_info_open").bind("click",function(e){_i_("269:317447f4"),e.preventDefault(),t=n(".ryokan_info_details"),i||t.find(".block_toggler").bind("click",function(){_i_("269:bd257932"),t.find(n(this).attr("data-block-toggle")).toggle(),_r_()}),booking.lightbox.show(t),i=!0,_r_()}),booking.eventEmitter.bind("modal:open",function(){_i_("269:3c84b425");var e=n("div.modal-wrapper");e.find(".lightbox_absolute").length&&(r=parseInt(e.css("top"),10),a.addClass(o),e.css({top:n(window).scrollTop()+r})),_r_()}).bind("modal:close",function(){_i_("269:c9414445"),a.removeClass(o),_r_()}),_r_()}),B.define("hotel/explorer",function(e){_i_("269:8f907f52");var n=e("jquery");n(function(){_i_("269:151070b7");var e,t,i=n("#hp_explorer_entry_point");if(!i.length)return _r_();B.lightbox.show(i,{customWrapperClassName:"hp_explorer_entry_point"}),e=i.find(".available_languages--list"),t=i.find(".expep-btn"),e.bind("change",function(){_i_("269:01572c0e"),t.attr("href",e.val()),_r_()}),_r_()}),_r_()}),B.define("hotel/banners",function(e){_i_("269:76fe3084");var t=e("jquery"),i=e("booking-sticker");t(".fe_banner__dismiss").click(function(e){_i_("269:fa7bd824"),e.preventDefault(),t(this).parents(".fe_banner").fadeOut("fast",function(){_i_("269:f8da7e78"),i.update(),_r_()}),_r_()}),_r_()}),B.define("hotel/usp",function(e){_i_("269:7669cc28");var t=e("jquery");t("#uspbox_review_link").click(function(){_i_("269:5203b6c6");var e=setTimeout(function(){_i_("269:273c5eda"),t(window).scrollTop(0),clearTimeout(e),_r_()},10);_r_()}),_r_()}),B.define("hotel/ph",function(e){_i_("269:c87d62c0");var n=e("jquery");n(".js-ph__cta").on("click",function(e){_i_("269:5c435c12");var t=B.env.b_has_valid_dates,i=n(t?"#available_rooms":"a[name=availability]");if(!i.length)return _r_();n("html, body").animate({scrollTop:i.offset().top},500),e.preventDefault(),_r_()}),_r_()}),B.define("wishlists/hotel-page-ga-tracking",function(e,t,i){_i_("269:139f06c8");var n=e("ga-tracker");function r(e,t){_i_("269:b3bbd27f");t=t||"";var i=e.trim()+":"+t.toString();n.trackEvent("wishlist","submit",i),_r_()}i.exports={trackSaveToWishlist:function(e){_i_("269:834494c9"),r("add-to-list",e),_r_()},trackRemoveFromWishlist:function(e){_i_("269:fada10de"),r("remove-from-list",e),_r_()},trackCreateList:function(e){_i_("269:43404069"),r("create-list",e),_r_()},trackGoToWishlist:function(e){_i_("269:3883e521"),r("go-to-list",e),_r_()}},_r_()}),B.define("lists/lists-share/lists-share",function(e,t,i){"use strict";_i_("269:3baaca77");var a=e("../lists-hotel-sidebar/lists-hotel-sidebar");B.define("component/lists-share",function(e,t,i){_i_("269:c87571f0");var n=e("component"),r=e("jquery");i.exports=n.extend({selectInput:function(){_i_("269:6308e5b7"),this.$el.find(".js-lists-share-input").select(),_r_()},init:function(){_i_("269:e106a531");var t=this;this._isShown=!1,B.eventEmitter.bind("lists-share-active",function(){_i_("269:04e831e2"),t._isShown&&t.render(),_r_()}),r(".js-lists-share").bind("click",function(e){if(_i_("269:ca3339d4"),e.preventDefault(),t._isShown)return t.selectInput(),_r_();t.$el.hide(),t.render().then(function(){_i_("269:086a1182"),t.$el.slideDown("fast",r.proxy(t.selectInput,t)),_r_()}),_r_()}),this.$el.delegate(".js-lists-share-input","click",r.proxy(this.selectInput,this)),_r_()},render:function(){_i_("269:e655e9f2");var t=booking.promise(),i=this;return a.getListById(a.getCurrentListId()).then(function(e){_i_("269:0b6852ac"),i.$el.html(B.jstmpl("lists_share_template").render(e)),i._isShown=!0,t.fulfill(),_r_()}),_r_(t)}}),_r_()}),i.exports={init:function(){}},_r_()}),B.define("lists/lists-hotel-sidebar/lists-hotel-sidebar",function(e,t,i){"use strict";_i_("269:c70de1e0");var n=e("lists/lists-api-legacy"),a=B.env.b_is_tdot_traffic,r=e("../lists-api/lists-api"),o=e("../lists-store/lists-store");i.exports={getCurrentListId:function(){_i_("269:cc100dfc");var e=$(".js-wishlist-added-to-name-link").attr("href").match(/wl_id=([a-zA-Z0-9-_]+)/);return _r_(e&&1<e.length&&e[1])},getListById:function(t){_i_("269:69977acb");var i=B.promise(),e=null;if(B.env.lists){var n=$.grep(B.env.lists.collection,function(e){return _i_("269:80101369"),_r_(String(e.id)===String(t))});e=n&&n[0]}return e?i.fulfill(e):r.API.list({id:t},function(e){_i_("269:9f418e15"),e.lists&&e.lists[0]?i.fulfill(e.lists[0]):i.reject(e),_r_()}),_r_(i)},render:function(e,t){_i_("269:3f174352"),this.$root.find(".js-wishlist-added-to-name").attr("data-wl-id",e.id||"")[t?"show":"hide"]();var i=this.$root.find(".js-wishlist-added-to-name-link");i.text(e.name||""),i.attr("href",e.url||"");var n=$(".js-wl-handle-text"),r={saved:n.data("text-saved"),unsaved:n.data("text-unsaved")};a&&$(".wishlist_trigger_button").toggleClass("saved_in_wl",t),n.html(r[t?"saved":"unsaved"]),i.text(i.data("original-label")),this.$wishlistButton.toggleClass("added-to-list",t),this.$flyDropdown.toggleClass("fly-dropdown-enhanced-dropdown-clicked-status",t),a||this.$socialCount.toggleClass("g-hidden",t),_r_()},toggleLoading:function(e){_i_("269:4cca8270"),this.$wishlistButton.toggleClass("disabled",e),this.$loadingIcon.toggleClass("g-hidden",!e),_r_()},updateState:function(r){_i_("269:4f79d8f1");var a=this;this.toggleLoading(!0),function(e){_i_("269:79bdc9c3");var t=$.grep(e,function(e){return _i_("269:83e841a0"),_r_(e.selected)}),i=0<t.length,n=$.grep(t,function(e){return _i_("269:ef8596ef"),_r_(String(e.id)===String(r.list_id))})[0]||t[0]||{};booking.eventEmitter.trigger("wl-hp-sidebar-active-list",n),a.render(n,i),a.toggleLoading(!1),B.eventEmitter.trigger("lists-share-active",{id:n.id}),_r_()}(n.getHotelLists(this.hotelId)),_r_()},$wishlistButton:$(),$loadingIcon:$(),$flyDropdown:$(),$socialCount:$(),$root:$(),init:function(){if(_i_("269:9f9482aa"),"hotel"!==B.env.b_action)return _r_();var i=this;if(this.$wishlistButton=$(".wishlist_trigger_rounded_larger_button"),this.$loadingIcon=$(".tfl-clicked-status-loading"),this.$flyDropdown=$(".fly-dropdown-enhanced-dropdown"),this.$socialCount=$(".wishlist-social-count"),this.$root=$(".js-hp-wl-sidebar"),this.hotelId=this.$root.data("hotel-id"),a)o.on("list:changed",function(e){_i_("269:439955d91"),i.updateState({list_id:e.id}),_r_()}).on("list:created",function(e){_i_("269:439955d9"),i.updateState({list_id:e.id}),_r_()});else{var e=[n.EVENTS.CREATE,n.EVENTS.EDITHOTEL].join(" ");n.bind(e,function(e,t){_i_("269:75004c53"),i.updateState({list_id:t.params.lists}),_r_()})}_r_()}},_r_()}),B.define("lists/lists-hotel-dropdown/lists-hotel-dropdown",function(_,e,t){"use strict";_i_("269:2d30f710");var l=_("jquery"),c=_("lists/lists-api-legacy"),h=_("wishlists/hotel-page-ga-tracking"),d=_("et");t.exports=function(){_i_("269:77ede6e7");var o=c.EVENTS,i=_("trap-focus"),n=d.track("OTfdASFYTSUaRQMeXXSUdMKDWKMDNdEWe");function r(){_i_("269:7719ce88");var e=B.env.b_reg_user_last_used_wishlist;if(e&&e[0])return _r_(e[0].b_reg_user_detail_list_id);return _r_(null)}function t(e){_i_("269:55a43063");var t=r();return _r_(l.map(e,function(e){return _i_("269:71172749"),_r_(l.extend({},e,{name:function(e,t){if(_i_("269:d4fbcf4a"),e.length<t)return _r_(e);return _r_(e.slice(0,t)+"&hellip;")}(e.name,18),lastUsed:e.id==t}))}))}var a=null,e={defaults:{gaAction:"Wishlist",extraClass:"wl-dropdown dmw-bui-wl-dropdown",content:function(t){_i_("269:3c77f3c2");var e=c.getHotelLists(this.params.hotel_id);this.comparisonMode&&0<e.length?t(this.tmpl({lists:e})):(this._$handle.attr("aria-label",this._$handle.data("loadingtext")),B.env.fe_wl_sr_saw_dropdow?this.showInlineLoader():this.show(this.tmpl({lists:[],loading_list:!0})),c.fetch(this.params).then(function(e){_i_("269:09f6b29e"),this._$handle.attr("aria-live","off"),t(this.tmpl(e.result)),this.updateAriaLabels(),_r_()}.bind(this))),_r_()}},timeout:null,init:function(){_i_("269:7499bf34");var t=this;this.params={hotel_id:this.handle().attr("data-hotel-id")},this.comparisonMode=this.handle().attr("data-sr-comparison-mode"),this.$wlDropdownAriaOwn=this._$handle.parent().find('[aria-owns="hotel-wishlists"]');var e=Number(this.handle().attr("data-arrow-size"));e&&(this.options.arrowSize=e),this.bindRoot(),this.bindData(),this.handle().bind("mouseenter",function(){_i_("269:cd923713"),t.comparisonMode||c.fetch(t.params),_r_()}),t.bind("show hide",function(e){_i_("269:972576e5"),setTimeout(function(){_i_("269:d14d57de"),booking.eventEmitter.trigger("wl-dropdown-toggle",{node:t.root(),state:"show"===e.type}),_r_()},0),l("#tooltip_wrap").hide(),t._$root.attr("id","hotel-wishlists"),t._$root.attr("tabindex","0"),"zh-cn"===B.env.b_lang_for_url&&(t._$root.loadComponents(),B.et.initAttributesTracking(t._$root)),"show"===e.type&&setTimeout(function(){_i_("269:1e945609"),t._$root.css("outline","none"),t._$root[0].focus(),_r_()},150),n&&"hide"===e.type&&(i.release(!1),e.preventDefault()),_r_()}),_r_()},onclick:function(e){_i_("269:3aa56ca6"),this.comparisonMode?(n&&setTimeout(function(){_i_("269:339795c2");var e=l("#hotel-wishlists");e.find("input[type=checkbox]").eq(0).focus(),i.trap(e.get(0),l(".js-wl-dropdown-handle").get(0)),_r_()},500),this.onclickComparisonHandler(e)):this.toggle(),_r_()},onclickComparisonHandler:function(e){_i_("269:faa08a8c"),e.preventDefault(),this.isSelected()?(this.showSavedMessage=!1,this.toggle()):(B.env.fe_wl_sr_saw_dropdow?this.showInlineLoader():this.show(this.tmpl({lists:[],loading_list:!0})),this.autoSaveHotel()),_r_()},showInlineLoader:function(){_i_("269:85c7c557"),this.handle().addClass("show-loader-animation"),_r_()},hideInlineLoader:function(){_i_("269:5f5618d1"),this.handle().removeClass("show-loader-animation"),_r_()},getLastAddedToListId:function(){if(_i_("269:62d6f5d0"),null!=a)return _r_(a);return _r_(r())},autoSaveHotel:function(){_i_("269:dc060456");var e=this.getLastAddedToListId();null!=e?this.autoSaveHotelToList(e):c.fetch(this.params).then(this.handleAutoSaveFetchResponse.bind(this),this.handleAutoSaveFetchError.bind(this)),_r_()},handleAutoSaveFetchResponse:function(){_i_("269:eddfe57a");var e=c.getHotelLists(this.params.hotel_id)[0];e?this.autoSaveHotelToList(e.id):this.handleAutoSaveFetchError(),this.hideInlineLoader(),_r_()},handleAutoSaveFetchError:function(){_i_("269:4345a028"),this.toggle(),_r_()},autoSaveHotelToList:function(e){return _i_("269:700ea3ff"),this.trackGA("editHotel",{hotelId:this.params.hotel_id,state:1}),_r_(c.editHotel({lists:e,hotel_id:this.params.hotel_id,new_state:1}).then(this.handleAutoSaveResponse.bind(this,e),this.handleAutoSaveError.bind(this)))},handleAutoSaveResponse:function(e,t){_i_("269:fec2e804"),t&&t.result.success?(this.showSavedMessage=!0,this.updateSRHandle(e,!0),this.show(),this.showInlineLoader(),"searchresults"==B.env.b_action&&setTimeout(function(){_i_("269:a90fc8fb"),B.env.fe_wl_sr_saw_dropdow=!0,_r_()},1e3)):this.handleAutoSaveError(),_r_()},handleAutoSaveError:function(){_i_("269:59c1604a");var e=this.toggle.bind(this);c.fetch(this.params).then(e,e),_r_()},updateSRHandle:function(e,t){_i_("269:c277ee36");var i=this.handle();i.attr("data-list-id",t?e:null),i.toggleClass("sr-rt-compare-cta--saved",t);var n=i.find(".sr-rt-compare-checkbox").get(0);n&&(n.checked=t),_r_()},bindRoot:function(){_i_("269:ec60f340");var t=this;this.bind(this.events.rootready,function(){_i_("269:4ed00dbe"),l.extend(t.options,{gaLabel:t.handle().attr("data-ga-label"),position:t.handle().attr("data-position")}),t.root().delegate(".js-wl-dropdown-item-text","keyup",l.proxy(t.ontext,t)).delegate(".js-wl-dropdown-item-checkbox","change",l.proxy(t.oncheckbox,t)).delegate(".js-sr-wl-expand-trigger","click",l.proxy(t.onListExpand,t)).delegate(".js-open-list","click",function(){_i_("269:8b305627"),t.trackGA("goToList",{hotelId:t.params.hotel_id}),"searchresults"==B.env.b_action&&B.et.customGoal("AfPcCWbCcIEFAYTZTEeNGTOC",3),_r_()}).bind("mouseenter",function(){_i_("269:0e5d487a"),clearTimeout(t.timeout),_r_()}).bind("mouseleave",function(){_i_("269:55720c6e"),t.timeout=setTimeout(l.proxy(t.hide,t),2e3),_r_()}),t.bind(t.events.show,function(){_i_("269:85edafe3"),clearTimeout(t.timeout),_r_()}),t.$wlDropdownAriaOwn.bind("focusout",function(e){_i_("269:7b1e88da"),t.timeout=setTimeout(l.proxy(t.hide,t),500),_r_()}),t.root().bind("focusin mousedown",function(){_i_("269:db358593"),setTimeout(function(){_i_("269:4c8514df"),clearTimeout(t.timeout),_r_()},0),_r_()}),_r_()}),_r_()},triggerHotelSavedEvent:function(e){_i_("269:9a0886b3");var t=c.getHotelLists(this.params.hotel_id),i=l.grep(t,function(e){return _i_("269:83e841a01"),_r_(e.selected)});B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:e,lists:i}),_r_()},isSelected:function(){_i_("269:f189f97e");var e=c.getHotelLists(this.params.hotel_id);if(e&&0<e.length)return _r_(0<l.grep(e,function(e){return _i_("269:f821a392"),_r_(e.selected)}).length);var t=this.handle();return _r_(t.hasClass("sr-rt-compare-cta--saved")||t.hasClass("saved_in_wl"))},getListIdFromResponse:function(e){if(_i_("269:558e4043"),!e)return _r_(null);if(null!=e.params.lists)return _r_(e.params.lists);if(null!=e.result.id)return _r_(e.result.id);return _r_(null)},updateSelectedState:function(e){_i_("269:58c6b873");this.getLastAddedToListId();var t=this.isSelected();if(this.triggerHotelSavedEvent(t),this.handle().toggleClass("saved_in_wl",t),this.updateSprite(t),this.comparisonMode){var i=this.getListIdFromResponse(e);this.updateSRHandle(i,t),a=t?i:a}this.updateAriaLabels(),B.env.fe_mtv_tip_hover&&this.updateHoverLabels(),_r_()},updateAriaLabels:function(){_i_("269:87f7dcbc");var e=c.getHotelLists(this.params.hotel_id).filter(function(e){return _i_("269:045a5de1"),_r_(e.selected)}),t=e.length,i=e.map(function(e){return _i_("269:b3447bf2"),_r_(e.name)});this._$handle.attr("aria-label",0<t?B.jstmpl.translations("a11y_hp_bookmarks_button_saved",t,{num_lists:t}):B.jstmpl.translations("a11y_hp_bookmarks_add_to")),this.$wlDropdownAriaOwn.attr("aria-label",0<t?B.jstmpl.translations("a11y_hp_bookmarks_added",null,{list_name:i.join(", ")}):B.jstmpl.translations("a11y_hp_bookmarks_button_hover")),_r_()},updateHoverLabels:function(){_i_("269:8777124e");var e=c.getHotelLists(this.params.hotel_id).filter(function(e){return _i_("269:045a5de11"),_r_(e.selected)}).length,t="b_tt_holder_wl_new_"+e;this._$handle.hasClass("saved_in_wl")?(0==e&&(e=1),this._$handle.attr("id",t),this._$handle.attr("data-title",B.jstmpl.translations("a11y_hp_bookmarks_button_saved",e,{num_lists:e}))):(this._$handle.removeAttr("id"),this._$handle.attr("data-title",B.jstmpl.translations("cdm_hp_quick_share_save"))),_r_()},bindData:function(){_i_("269:33ea89dd");var a=this;c.bind([o.LOADINGSTART,o.LOADINGEND].join(" "),function(e,t){_i_("269:6dfa867e");var i=t.params,n=String(i.hotel_id)!==String(a.params.hotel_id),r=!i.lists&&!i.name;if(n||!a.comparisonMode&&r)return _r_();a.loading(e.type===o.LOADINGSTART,i.lists),_r_()}),c.bind([o.CREATE,o.EDITHOTEL].join(" "),function(e,n){if(_i_("269:b0f4a35f"),String(n.params.hotel_id)!==String(a.params.hotel_id))return _r_();var r=!1;n.result.success?(r=Boolean(n.params.new_state),a.handle().toggleClass("saved_in_wl",r),a.updateSelectedState(n)):c.fetch(a.params).then(function(e){_i_("269:e5df9814");var t=l.grep(e.result.lists,function(e){return _i_("269:8191fec6"),_r_(e.selected)});n.result.success||(r=Boolean(t.length),a.handle().toggleClass("saved_in_wl",r),a.updateSprite(r)),B.eventEmitter.trigger("update:b_hotel_is_saved",{b_hotel_is_saved:r,lists:t});var i=B.env.auth_level||0;i=parseInt(i),_r_()}),_r_()}),_r_()},updateSprite:function(e){_i_("269:da544eba"),this.handle().hasClass("added_to_fav_lists")&&this.handle().find(".b-sprite").toggleClass("icon_list_favorites_selected",e).toggleClass("icon_list_favorites",!e),this.handle().hasClass("lists-hotel-dropdown-alternative")&&this.handle().find(".bui_icon__save_to_list").toggleClass("bui_icon__save_to_list-selected",e),this.handle().is('[data-placement="comparison_popup"]')&&this.handle().toggleClass("selected",e),this.handle().is('[data-placement="hp_tittle"]')&&this.handle().toggleClass("saved_in_wl",e),_r_()},ontext:function(e){_i_("269:f1a1d686");var t=l(e.currentTarget),i=t.parent().parent();i.find(".js-wl-dropdown-item-checkbox").attr("disabled",!t.val()),13===e.which&&(e.preventDefault(),this.createList(i)),_r_()},oncheckbox:function(e){_i_("269:f8ddcee8"),e.preventDefault();var t=l(e.currentTarget).parent();this[t.find(".js-wl-dropdown-item-text")[0]?"createList":"toggleList"](t),_r_()},onListExpand:function(e){_i_("269:0c380809"),e.preventDefault(),e.stopPropagation();var t=this.root().find(".dmw_sr_wl_dd_expand_trigger");t.next().removeClass("dmw_sr_wl_dd_collapsed"),t.remove(),this.root().css(this._position()),B.et.customGoal("AfPcCWbCcIEFAYTZTEeNGTOC",5),_r_()},createList:function(a){_i_("269:e629b0d4");var o=this,e=a.find(".js-wl-dropdown-item-text");this.trackGA("createList",{hotelId:this.params.hotel_id}),c.create({name:e.val(),hotel_id:this.params.hotel_id}).then(function(e){_i_("269:a66d5f84");var t=e.result,i="";t.selected=!0,i=l("<div/>").html(o.tmpl({lists:[t]})),o.handle().attr("data-list-id",t.list_id),a.before(i.find(".js-wl-dropdown-item")),a.replaceWith(i.find(".js-wl-dropdown-item-new")),parseInt(t.remaining,10)<=0&&o._$root.find(".js-wl-dropdown-item-new").hide();var n=o._$root.find(".js-wl-dropdown-item-text"),r=n.data("originallabel");r||(r=n.attr("aria-label"),n.data("originallabel",r)),n.attr("aria-label",B.jstmpl.translations("a11y_hp_bookmarks_added",null,{list_name:t.name})+". "+r),n.focus(),_r_()}),_r_()},checked:function(e,t){return _i_("269:622e9631"),void 0!==t&&(e.get(0).checked=t,e.parent(".wl-dropdown-item").toggleClass("wl-dropdown-item--added",t)),_r_(e.get(0).checked)},toggleListLink:function(e,t){_i_("269:3f38a2a0"),e.find(".wl-dropdown-link-wrapper").toggleClass("g-hidden",!t),this.root().css(this._position()),_r_()},toggleList:function(t){_i_("269:d2a6ca5f");var i=this,n=t.find(".js-wl-dropdown-item-checkbox");this.trackGA("editHotel",{hotelId:this.params.hotel_id,state:Number(i.checked(n))}),c.editHotel({lists:n.attr("data-list-id"),hotel_id:i.params.hotel_id,new_state:Number(i.checked(n))}).then(function(){_i_("269:61c1ff7b");var e=i.checked(n);i.toggleListLink(t,e),i.toggleSavedToMessage(),i.hideInlineLoader(),_r_()}),_r_()},trackGA:function(e,t){_i_("269:eb916bbf"),"editHotel"===e?t.state?h.trackSaveToWishlist(t.hotelId):h.trackRemoveFromWishlist(t.hotelId):"createList"===e?h.trackCreateList(t.hotelId):"goToList"===e&&h.trackGoToWishlist(t.hotelId),_r_()},toggleSavedToMessage:function(){_i_("269:78bfc95d"),this.root().find(".wl-dropdown-saved-to-message").hide({duration:100,step:function(){_i_("269:e4b401f2"),this.root().css(this._position()),_r_()}.bind(this)}),_r_()},loading:function(e,t){_i_("269:7881e5e5"),this.root().find("[data-list-id="+(t||'""')+"]").parent().toggleClass("wl-dropdown-item_loading",e),B.env.fe_wl_sr_saw_dropdow?this.handle().toggleClass("show-loader-animation",e):this.handle().toggleClass("wl-dropdown-handle_loading",e),_r_()},tmpl:function(e){return _i_("269:131f6dc0"),_r_(B.jstmpl("lists_hotel_dropdown").render(l.extend(e,{lists:t(e.lists),b_user_auth_level_is_low_or_high:B.env.b_user_auth_level_is_low_or_high,b_reg_user_wishlist_remaining:B.env.b_reg_user_wishlist_remaining,b_action:B.env.b_action,fe_wl_sr_saw_dropdow:B.env.fe_wl_sr_saw_dropdow,b_is_tdot_traffic:B.env.b_is_tdot_traffic,b_selected_language:B.env.b_selected_language,fe_comparison_mode:this.comparisonMode,fe_show_saved_message:this.showSavedMessage,b_canonical_url:B.env.b_canonical_url})))}},s=l.fly.dropdown.extend(e);return _r_({wlDropdown:s,create:function(){_i_("269:dabdf3c1"),l(".js-wl-dropdown-handle").one("click",function(e){_i_("269:330422db"),s.create(this),e.delegateTarget.click(),_r_()}),_r_()},init:function(e){_i_("269:c45607ac"),this.create(),_r_()},initWithTargets:function(e){_i_("269:9e5d9b49"),e.forEach(function(e){_i_("269:5d20144c"),s.create(e),_r_()}),_r_()}})}(),_r_()}),B.define("lists/lists-hotel-content-block/lists-hotel-content-block",function(e,t,i){"use strict";_i_("269:16480028");var n=e("../lists-api/lists-api"),r=e("../lists-hotel-dropdown/lists-hotel-dropdown").wlDropdown,a=null;function o(){return _i_("269:1a4cd215"),_r_($(".hp-section--lists"))}function s(){_i_("269:ef14dc99"),a=r.create(o().find(".hp-lists-save-list, .hp-lists-remove-list")),_r_()}i.exports={init:function(){_i_("269:cc1b3c29"),$(function(){_i_("269:f248bd4d"),s(),B.eventEmitter.bind("update:b_hotel_is_saved",function(e,t){_i_("269:0b3b3bd3"),function(e,t,i){_i_("269:8981fac9"),a&&a._destroy();var n=i&&i[i.length-1];o().replaceWith(B.jstmpl("lists_hotel_content_block").render({b_hotel_is_saved:t,b_hotel_id:e.b_hotel_id,b_wishlist_selected_url:n&&n.url,b_wishlist_selected_name:n&&n.name})),s(),_r_()}(n.currentHotel(),t.b_hotel_is_saved,t.lists),_r_()}),_r_()}),_r_()}},_r_()}),B.define("hotel/compset",function(e){_i_("269:18e9b567");var t=e("jquery");t(".js-toggle-fp").click(function(){_i_("269:4094f1bc");var e=t(this).parents(".js-hpFpItem");t(e).toggleClass("hpFpItem"),t(".hpFpShowmore",e).remove(),_r_()}),_r_()}),B.define("hotel/bb",function(e){_i_("269:c24352a4");var t=e("jquery"),i=e("et");B.env.hotelAction.has_business_reviews&&(t(".js-big_review_score_detailed").bind("click",function(){_i_("269:72b192f5"),"total"!==t("#reviewer_type_filter option:selected").data("customer-type")&&t('#reviewer_type_filter option[data-customer-type="total"]').prop("selected",!0).trigger("change"),i.customGoal("OOFHFfZHRNbaPWTcVAfSWe",1),i.customGoal("OOFHFfZHRNbaPWTcVAfSZXCePeCHC",1),_r_()}),t(".js-score_from_business_travellers").bind("click",function(){_i_("269:a9056b98"),"business_traveller"!==t("#reviewer_type_filter option:selected").data("customer-type")&&t('#reviewer_type_filter option[data-customer-type="business_traveller"]').prop("selected",!0).trigger("change"),i.customGoal("OOFHFfZHRNbaPWTcVAfSWe",2),i.customGoal("OOFHFfZHRNbaPWTcVAfSZXCePeCHC",2),_r_()}),_i_("269:28375fad"),-1<window.location.hash.indexOf("tab-reviews-business_traveller")&&t(".js-score_from_business_travellers").trigger("click"),_r_()),_r_()}),B.define("component/genius/ge-genius-room-selected",["component"],function(e){_i_("269:6b578409");return _r_(e.extend({init:function(){_i_("269:ff92e782");return _r_()}}))}),B.define("hotel/genius/ge_recommended_blocks",function(e){_i_("269:b0e73b5a");var i=e("jquery");i(".genius-recommended-rooms .gr-room-link").click(function(e){_i_("269:c9e76090"),e.preventDefault();var t=i(this).data("id");B.hotel.rtLightbox.show.call(i("#"+t).parent().find(".togglelink")),_r_()}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius}).run(function(e){_i_("269:857e33fb");var s=e("jquery")(".book-now-genius-first-booking-block");if(!s.length)return _r_();var _=null;_=s[0].hasAttribute("data-ge-everyone")?s[0].getAttribute("data-ge-everyone"):2;var l=s.find("p"),c=s.data("username"),h={};B.events.on(B.hotel.Events.RT.ROOM_SELECTED,function(e){_i_("269:e9800983");var t=e.$el.find(":selected"),i=function(e){if(_i_("269:d7568e8a"),e.has_genius_rate)if(0<e.no_rooms&&e.genius_discount){var t=0;t=e.rackrate_shown&&e.rackrate_discount?e.rackrate_discount:e.genius_discount,h[e.block_id]={no_rooms:e.no_rooms,calculated_discount:t}}else h[e.block_id]&&delete h[e.block_id];return _r_(Object.keys(h).length)}({block_id:e.block_id,no_rooms:+e.no_rooms,rackrate_shown:!!e.$el.parents("tr").find(".toggle_price_per_night_or_stay:not(.deal-public-price-rackrate)").length,has_genius_rate:e.has_genius_rate,genius_discount:+t.data("genius-discount"),rackrate_discount:+t.data("rackrate-discount")}),n=0;for(var r in h){var a=h[r];n+=a.no_rooms*a.calculated_discount}if(0<i&&0<n){if(2==_){var o=B.jstmpl.translations(c?"ge_deepen_hp_first_genius_message_known":"ge_deepen_hp_first_genius_message_unknown",null,{amount_with_currency:B.utils.accounting.formatMoney(n),user_name:c});l.html(o),s.show()}}else s.hide();_r_()},this),_r_()}),B.when({condition:B.env.fe_genius_week_rt_toast_message||B.env.fe_gweek_rt_signed_in_room_block_id,events:"load"}).run(function(){if(_i_("269:4784d618"),B.env.fe_genius_week_rt_toast_message){var e=window.BUI.createInstance("Toast",null,{});e.mount(),e.show({text:B.env.fe_genius_week_rt_toast_message})}if(B.env.fe_gweek_rt_signed_in_room_block_id){var t=$('.hprt-table tr[data-block-id="'+B.env.fe_gweek_rt_signed_in_room_block_id+'"]')[0],i=t?$(t).offset().top-40:$(".hprt-table").offset().top;$("html, body").animate({scrollTop:i},400,"swing")}_r_()}),B.when({events:"load",condition:B.env.fe_show_genius_week_onboarding}).run(function(){_i_("269:31b683d0");var e=B.require("dismiss-item"),t=B.env.fe_GWEEK_DISMISSIBLE_ITEM_ONBOARDING,i=document.createElement("div");window.BUI.createInstance("Modal",i,{id:"geniusWeekOnboarding",onBeforeOpen:function(){_i_("269:8f5c7168"),e(t),_r_()}}).open(),_r_()}),B.define("hotel/genius",function(e){_i_("269:c3671b79"),e("hotel/genius/ge_recommended_blocks"),_r_()}),B.define("hotel/footer/region_attraction_async",function(e){if(_i_("269:b98ab00e"),!B.env.b_hotel_id)return _r_();var n=e("jquery"),r=e("booking-sticker"),a=n(".hp_region_attractions"),t="/hotel_attractions",i={hotel_id:B.env.b_hotel_id,lang:B.env.b_lang_for_url,stype:booking.env.b_site_type_id};function o(t){if(_i_("269:434f2f34"),!t.region_attractions)return B.events.trigger(B.hotel.Events.Other.NO_REGION_ATTRACTIONS_RENDERED,t),_r_();var e=function(e){_i_("269:9f2db4b9");for(var t=e.region_attractions.items,i=0;i<t.length;i++)t[i].photo=B.tools.jsStaticUrl(t[i].photo);return e.region_attractions.items=t,_r_(e)}(t);e.hasDirectionsMap=0<n('[data-component="destination-os/poi-directions"]').length,e.rtl=B.env.rtl;var i=B.jstmpl("hp_region_attraction_block").render(e);a.html(i).css("display","block").loadComponents(),B.events.trigger(B.hotel.Events.Other.REGION_ATTRACTIONS_RENDERED,t),r.update(),a.on("click",".hp_region_attractions_item_directions_link",function(e){_i_("269:059e5f3e"),e.preventDefault(),B.events.trigger(B.hotel.Events.Other.REGION_ATTRACTIONS_MAP_CTA_CLICKED,{data:t,$el:this}),_r_()}),_r_()}function s(e,t){_i_("269:97ba3f9f"),n.ajax({url:e,cache:!0,data:t,success:o}),_r_()}if(B.env.b_query_params_with_lang_no_ext?(t+=B.env.b_query_params_with_lang_no_ext.replace(/&+$/,"")).match(/[?&;]aid=/)||(i.aid=B.env.b_aid):(i.aid=B.env.b_aid,i.label=B.env.b_label),a.hasClass("hotel_is_resort"))return _r_();"complete"==document.readyState&&s(t,i),n(window).on("load",function(){_i_("269:82a94633"),s(t,i),_r_()}),_r_()}),B.define("hotel/footer/hide_seo_links",function(e){_i_("269:2557655b");var t=e("jquery"),i=t("#seo_links_drawer"),n=t(".hp_useful_links_header",i),r=t(".hp_useful_links",i);if(0<i.find(".hp_useful_links_no_hide").length)return _r_();0<i.length&&(r.hide(),r.attr("aria-hidden","true"),n.attr("aria-expanded","false"),n.on("click keypress",function(e){_i_("269:c4fc6772"),e.preventDefault(),"click"!==e.type&&13!=e.which&&32!=e.which||function(){_i_("269:bec6aded"),r.is(":hidden")?(r.stop(!0,!0).slideDown(),r.attr("aria-hidden","false"),n.attr("aria-expanded","true")):(r.stop(!0,!0).slideUp(),r.attr("aria-hidden","true"),n.attr("aria-expanded","false"));_r_()}(),_r_()})),_r_()}),B.define("hotel/footer",function(e){_i_("269:d1962c50"),e("hotel/footer/region_attraction_async"),$("#seo_links_drawer").length&&e("hotel/footer/hide_seo_links"),_r_()}),B.define("hotel/recent_reviews",function(e){_i_("269:77dddc9b");var t,s=e("jquery"),_=0,l=!1,i=function(){_i_("269:cc33165e");var e=s(".recent_property_reviews_block .review_list"),t=e.find(".review_item, .review-list-item"),i=parseInt(t.first().css("margin-top"),10),n=parseInt(t.first().css("margin-bottom"),10),r=parseInt(e.css("padding-top"),10),a=parseInt(e.css("padding-bottom"),10),o=(i=isNaN(i)?0:i)+(n=isNaN(n)?0:n)-((r=isNaN(r)?0:r)+(a=isNaN(a)?0:a));t.each(function(e,t){_i_("269:bb940b53");var i=s(t);i.height()>_&&(_=i.height()),_r_()}),l?(e.css({height:t.height()+o,overflow:"hidden"}),_&&s(".reviews_block-dynamic_height").css({"min-height":Math.min(_+o,350)})):0<_&&(e.css({height:_+o+"px",overflow:"hidden"}),t.css({height:_+"px"})),_r_()},n=function(){_i_("269:f3652c6e");var e,t=s(".recent_property_reviews_block .review_list"),i=t.find(".review_item, .review-list-item").first();l&&(e=i.next(".review_item, .review-list-item").css("height","").height())&&t.animate({height:e+39},"slow","swing"),i.animate({height:0},"slow","swing",function(){_i_("269:0af38e90"),t.append(i.css({height:_+"px"})),_r_()}),_r_()},r=s(".hp_recent_property_reviews_container");if(!B.env.b_hotelfeaturedreviews_url)return _r_();t=B.env.b_hotelfeaturedreviews_url;var a=function(e){_i_("269:eaa91f1a"),r.html(e),function(){_i_("269:27e68533");var e=s(".recent_property_reviews_block .review_list"),t=e.find(".review_item, .review-list-item");l=e.hasClass("review_list-dynamic_height"),i(),1<t.length&&window.setInterval(n,2e4),B.events.on("tab-opened",function(){_i_("269:bd6c37c0"),i(),_r_()}),_r_()}(),B.events.trigger("RECENT_REVIEWS:fetched"),r.loadComponents(),_r_()};B.env.b01||s("#regionTmpl").length||(B.env.run_ABbSMLfOTXKeNLTLfPePdJXDC?B.when({events:"view .hp_recent_property_reviews_container"}).run(function(){_i_("269:70e2f71e"),s.ajax({url:t,success:a}),_r_()}):s.ajax({url:t,success:a})),_r_()}),B.when({condition:B.env.payment_possible_in_instalments}).run(function(e){_i_("269:f24ca2ce");var t=e("jquery"),n=t(".rt_no_cc"),r=t(".total-price-instalments");function i(e,t){_i_("269:0d350361");var i=!!t.rawPrice&&t.rawPrice>=B.env.instalments_minimum_price;n.toggle(!i),r.toggle(i),_r_()}B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,i),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,function(){_i_("269:9c1d58ad"),i(0,{rawPrice:0}),_r_()}),_r_()}),B.define("dodCountdown",["jquery","countdown","et"],function(t,i,e){_i_("269:62d6be83");var n=function(e){_i_("269:8ad50346"),this.init(e),_r_()},r=B.env.b_dotd_redesign?1:0;return t.extend(n.prototype,{maxDaysLimit:r?0:2,init:function(e){_i_("269:9d5db886"),this.$countdown=t(e),this.finalDate=1e3*+this.$countdown.attr("data-expires-at"),this.$daysContainer=this.$countdown.find(".js--days-container"),this.$dayTimeContainter=this.$countdown.find(".js--day-time-container"),this.ticker=new i({endTime:this.finalDate}),this.setTime(this.ticker.getStartRemainingTime()),this.setCountdownListeners(),_r_()},setCountdownListeners:function(){_i_("269:c95107c3");var t=this;this.ticker.on("ticked",function(e){_i_("269:fee2f9a7"),t.setTime(e.remainingTime),_r_()}),this.ticker.on("expired",function(){_i_("269:b60b6482"),B.et.customGoal("YPNdKNKNKPTLKGBfFVLSNQAJbZdWe",3),t.expire(),_r_()}),_r_()},formatTime:function(e){_i_("269:44c0db12");var t=""+e;return t.length<=1&&(t="0"+t),_r_(t)},setTime:function(e){_i_("269:0c80136c"),e.days&&e.days<=this.maxDaysLimit?this.setDaysCount(e.days):this.removeDays(),this.setDayTime(e),_r_()},setDaysCount:function(e){_i_("269:5101e1de"),this.$daysContainer.text(B.jstmpl.translations("deals_deal_of_day_countdown_days",e,{num_days_left:e})),_r_()},setDayTime:function(e){_i_("269:40c6a840"),this.$dayTimeContainter.text(B.jstmpl.translations("deals_deal_of_day_countdown_timer",null,{hours_remain:r?this.formatTime(24*parseInt(e.days)+parseInt(e.hours)):e.hours,minutes_remain:e.minutes,seconds_remain:e.seconds})),_r_()},removeDays:function(){},expire:function(){}}),_r_(n)}),B.when({events:"ready",condition:$(".js--dod-countdown-tooltip").length}).require(["event-emitter","jquery","dodCountdown"],function(e,n,r){_i_("269:47ade383");var t=n(".js--dod-countdown-tooltip");t.length&&t.each(function(){_i_("269:396cf50e"),function(e,t){_i_("269:aae8ab60");var i=function(e){_i_("269:25460a07"),this.expireIsTracked=!1,this.init(e),_r_()};n.extend(i.prototype,r.prototype,{setTime:function(e){_i_("269:c97168a8"),e.total<=3e3&&!this.expireIsTracked&&(this.expireIsTracked=!0),r.prototype.setTime.call(this,e),_r_()},expire:function(){_i_("269:59d5af5e"),location.reload(),_r_()},removeDays:function(){_i_("269:2095acf4"),this.$daysContainer.hide(),_r_()}}),new i(e,t),_r_()}(n(this)),_r_()}),_r_()}),B.define("hotel/rooms_table/gently_select_rooms",function(e,t,i){_i_("269:345c6860");var n,r=e("jquery"),a=-20-(B.env.b_hp_sticky_offset||0),f=4e3,o=B.env.is_rooms_table_rewrite?r("#hprt-form"):r(document.roomsForm),s=o.find(".b_room_selectbox"),_=r(".gently_select_rooms_container"),l=r(".book_now_button_handler"),u=(_i_("269:db8ae360"),_r_(function(){_i_("269:c599b27b"),_.css("display","block").animate({opacity:1},600),n=window.setTimeout(function(){_i_("269:a2709d77"),_.animate({opacity:0},600,function(){_i_("269:df2dce20"),_.hide(),_r_()}),_r_()},f),_r_()})),c=(_i_("269:5ff99395"),_r_(function(){_i_("269:f399c711"),clearTimeout(n),_.stop().css({opacity:0,display:"none"}),_r_()}));function h(){if(_i_("269:9c67bae2"),B.env.is_rooms_table_rewrite){var e=B.require("hotel/store").getState().roomsTable.js_selection;return _r_(e.roomCount)}return _r_(s.filter(function(){return _i_("269:131bcd44"),_r_(0!=r(this).val())}).length)}function d(e,t){_i_("269:4f74aa13");var i=r("#availability_target");if(t="function"==typeof t?t:function(){},!i.length)return _r_(t());a=-20-(B.env.b_hp_sticky_offset||0),window.setTimeout(function(){_i_("269:918890ff"),r("html,body").animate({scrollTop:a+i.offset().top+"px"},e||1e3).promise().then(t),_r_()},0),_r_()}function p(e){_i_("269:67715d55"),c(),d(e,u),_r_()}function m(e){_i_("269:b8124462"),c(),d(e,function(){_i_("269:aefed95d"),b(!0),_r_()}),_r_()}function b(e){if(_i_("269:7de93530"),B.env.is_rooms_table_rewrite){var t,i,n,r=B.require("hotel/store"),a=B.require("hotel/redux/actionTypes"),o=B.require("search-config"),s=r.getState().roomsTable.rooms,_=+o.adults;if(!s||!s.length)return _r_();if(!(t=s.filter(function(e){return _i_("269:07caa7b1"),_r_(e.b_blocks.length)})).length)return _r_();if(n=(i=t[0].b_blocks[0]).b_stay_prices.length-1,_>i.b_max_persons*n)return _r_();return r.dispatch({type:a.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED,nr_adults:+o.adults}),e&&u(),_r_()}var l=s.first(),c=l.parents("tr").first(),h=c.data("auto-select-times"),d=setTimeout(u,0);f=6e3,l.val(h).trigger("change"),fminit(c),l.on("change",function e(){_i_("269:55137eaf"),parseInt(l.val())||(fminit(c,!0,"#fff",[255,255,255],[255,255,255]),l.off("change",e),clearTimeout(d)),_r_()}),_r_()}return _r_({init:function(){if(_i_("269:8c3086b2"),!B.env.b_run_hp_gently_select_rooms)return _r_();l.click(function(e){if(_i_("269:655f741f"),B.et.customGoal("ZOISdGZFNTedZeBRUDbbAPQeNZTLLPReZWGO",1),h())return o.submit(),_r_();B.events.trigger("open-tab",{tab:"main"}),setTimeout(function(){_i_("269:816ce4c4"),+B.env.b_is_group_search?p():m(),_r_()},0),_r_()}),s.change(c),_r_()},showMessage:u,resetMessage:c,scrollToRoomsTable:d,scrollToRoomsTableAndShowTooltip:p,areRoomsSelected:h,scrollToRoomsTableAndAutoSelect:m,autoSelectRoom:b})}),B.define("hotel",function(e){_i_("269:f6285a80");var t=e("jquery");e("hotel/core/back_is_back"),e("hotel/track"),(B.env.b_is_ie8||B.env.b_is_ie9)&&t("#hp_facilities_box").length&&e("hotel/core/fix_for_facilities_ie789"),e("hotel/core/no_dates_prefetch_sr_assets"),e("hotel/rooms_table/gently_select_rooms").init(),e("hotel/av_calendar"),e("hotel/faq"),e("hotel/ryokan"),e("hotel/explorer"),e("hotel/banners"),e("hotel/usp"),e("hotel/ph"),e("lists/lists-share/lists-share").init(),e("lists/lists-hotel-sidebar/lists-hotel-sidebar").init(),e("lists/lists-hotel-dropdown/lists-hotel-dropdown").init(),e("hotel/compset"),e("hotel/bb"),e("hotel/genius"),e("hotel/footer"),e("hotel/recent_reviews"),_r_()}),B.require(["hotel"]),B.define("hotel/redux/actionTypes",function(e){return _i_("269:20a68077"),_r_({SELECT_ROOM:"SELECT_ROOM",SELECT_ROOM_ERROR:"SELECT_ROOM_ERROR",SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED:"SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED",SHOW_CONTACT_HOST_FORM:"SHOW_CONTACT_HOST_FORM",CONTACT_HOST_FORM_STATUS:"CONTACT_HOST_FORM_STATUS",CHANGE_FIT_STATUS:"CHANGE_FIT_STATUS",ADD_TPI_ROOMS:"ADD_TPI_ROOMS"})}),B.define("hotel/redux/reducers/rooms",function(e){_i_("269:4a52d230");var o=e("et"),t=e("hotel/redux/actionTypes"),n={},r=function(e){_i_("269:34771991");var t=s(e),i=0;t.rooms.forEach(function(t){_i_("269:0840169f"),t.b_blocks.forEach(function(e){_i_("269:54c00d75"),e.hasOwnProperty("b_block_id")?(t.isAvailable=1,i++):t.isAvailable=0,_r_()}),_r_()}),1==i&&(t.hasOnlyOneRoomRate=!0);return _r_(t)}({rooms:B.env.b_rooms_available_and_soldout||[],js_selection:{blocks:{},rooms:{},blockIDs:[],roomIDs:[],roomTypes:[],totalPrice:0,roomCount:0,nrSelections:0,nrSelectErrors:0,autoSelection:!1,fitStatus:0,noFitGuests:{},chargesCase:0,totalExcludedCharges:0,totalExcludedChargesPretty:"",chargesText:""},hasOnlyOneRoomRate:!1,hadRoomAutoSelected:!1,autoSelectedBlockId:""});function s(e){return _i_("269:acedc825"),_r_(JSON.parse(JSON.stringify(e)))}function p(e,t){var i,n,r,a;for(_i_("269:f742cd6f"),i=0,r=e.rooms.length;i<r;i++)if({}.hasOwnProperty.call(e.rooms[i],"b_blocks"))for(n=0,a=e.rooms[i].b_blocks.length;n<a;n++){var o=t(e.rooms[i],e.rooms[i].b_blocks[n]);if("boolean"==typeof o&&!o)return _r_()}_r_()}function _(e,i,n,r){_i_("269:d1c3953b");var a={},o={},s={},_=0,l=0,c={};p(e,function(e,t){_i_("269:89e86e8b"),t.b_block_id===i&&("1"===r?(t.js_nr_selected=0,t.b_fflex_block&&(t.b_fflex_block.js_nr_selected=Math.min(parseInt(n,10),t.b_fflex_block.b_stay_prices.length))):(t.js_nr_selected=Math.min(parseInt(n,10),t.b_stay_prices.length),t.b_fflex_block&&(t.b_fflex_block.js_nr_selected=0))),t.js_nr_selected?(o[e.b_id]=e,a[t.b_block_id]=t,s[e.b_roomtype_id]=1,l+=t.js_nr_selected,c[e.b_id]=(c[e.b_id]||0)+t.js_nr_selected,_+=parseFloat(t.b_stay_prices[t.js_nr_selected].b_raw_price)):t.js_is_highlighted=!1,t.b_fflex_block&&((t=t.b_fflex_block).js_nr_selected?(o[e.b_id]=e,a[t.b_block_id]=t,s[e.b_roomtype_id]=1,l+=t.js_nr_selected,c[e.b_id]=(c[e.b_id]||0)+t.js_nr_selected,_+=parseFloat(t.b_stay_prices[t.js_nr_selected].b_raw_price)):t.js_is_highlighted=!1),_r_()}),_=Math.round(_),e.js_selection={blocks:a,rooms:o,blockIDs:Object.keys(a),roomIDs:Object.keys(o),roomTypes:Object.keys(s),totalPrice:_,totalPriceFormatted:B.utils.accounting.formatMoney(_),roomCount:l,roomCountPerRoomID:c,nrSelections:e.js_selection.nrSelections+1,fit_status:0,noFitGuests:{},autoSelection:!1};var t=B.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(B.env.b_guest_country),h=B.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(B.env.b_guest_country);if(t||h){var d=0,f=0,u="";switch(p(e,function(e,t){if(_i_("269:25206b07"),t.js_nr_selected){var i=$(".on-hpage.blockuid-"+t.b_block_id+":first");if(i.length){var n=parseInt(i.data("cur-stage"));if(~[1,2,3,4,5].indexOf(n)){if(2===n){var r=parseFloat(i.data("excl-charges-raw")||0);f+=r*t.js_nr_selected}d!==n&&d<n&&(d=n)}}}_r_()}),d){case 1:u=B.jstmpl.translations("sr_search_card_includes_taxes_charges");break;case 2:u=B.jstmpl.translations("sr_search_card_plus_taxes_and_charges_amount_v2",null,{sum_taxes_charges:B.utils.accounting.formatMoney(f)});break;case 3:case 4:case 5:u=B.env.b_charges_has_tax_exceptions&&B.env.b_charges_excluded_charges_detail?B.env.b_charges_excluded_charges_detail:B.jstmpl.translations("sr_hp_taxes_and_charges_exception",null,{});break;default:u=""}e.js_selection.chargesCase=d,e.js_selection.totalExcludedCharges=f,e.js_selection.totalExcludedChargesPretty=B.utils.accounting.formatMoney(f),e.js_selection.chargesText=u}_r_()}return n[t.SELECT_ROOM]=function(e,t){_i_("269:5cf52348");var i=s(e);i.js_selection.nrSelectErrors&&!t.dont_trigger_goals&&o.goal("hp_room_select_after_error"),_(i,t.block_id,t.number_of_rooms,t.is_fflex_selected),t.block_id!=i.autoSelectedBlockId||t.dont_trigger_goals||(0==t.number_of_rooms?o.goal("hp_rt_room_auto_selected_deselected"):o.goal("hp_rt_room_auto_selected_reselected")),0<i.js_selection.nrSelections&&!t.dont_trigger_goals&&(0==i.js_selection.roomCount&&o.goal("hp_rt_room_deselected_everything"),3<=i.js_selection.nrSelections&&o.goalWithValue("js_hp_rt_room_changed_selection",i.js_selection.nrSelections));var n=i.js_selection.roomIDs.length,r=i.js_selection.blockIDs.length;return 2<=n&&!t.dont_trigger_goals&&o.goalWithValue("js_hp_rt_nr_selected_room_ids",n),2<=r&&!t.dont_trigger_goals&&o.goalWithValue("js_hp_rt_nr_selected_block_ids",r),i.lastAction=t.type,_r_(i)},n[t.SELECT_ROOM_ERROR]=function(e,t){_i_("269:ba66938c");var i=s(e);return o.goal("hp_room_select_error"),i.js_selection.nrSelectErrors+=1,2<=i.js_selection.nrSelectErrors&&o.goalWithValue("js_hp_room_select_error_count",i.js_selection.nrSelectErrors),i.hadRoomAutoSelected?o.goal("hp_room_select_error_after_auto_select"):0<i.js_selection.nrSelections&&o.goal("hp_room_select_error_after_select"),_r_(i)},n[t.SELECT_FIRST_MATCHING_ROOM_IF_NONE_SELECTED]=function(e,n){_i_("269:54409ea1");var r=s(e),a=!1;if(r.js_selection.roomCount)return _r_();if(p(r,function(e,t){_i_("269:af854e4b");var i=t.b_stay_prices.length-1;if(!(n.nr_adults<=t.b_max_persons*i))return _r_(!1);return a=!0,_(r,t.b_block_id,t.b_max_persons>=n.nr_adults?1:2),r.autoSelectedBlockId=t.b_block_id,t.js_is_highlighted=!0,_r_(!1)}),!a)return _r_(r);return r.hadRoomAutoSelected=!0,r.js_selection.autoSelection=!0,o.goal("hp_rt_room_auto_selected"),0<r.js_selection.nrSelectErrors&&o.goal("hp_room_auto_select_after_error"),_r_(r)},n[t.CHANGE_FIT_STATUS]=function(e,t){_i_("269:eba5b0f7");var i=s(e);return i.js_selection.fitStatus=t.fit_status,i.js_selection.noFitGuests=t.no_fit_guests,i.lastAction=t.type,_r_(i)},n[t.ADD_TPI_ROOMS]=function(e,t){_i_("269:6f51eb09");var i=s(e);return i.rooms&&i.rooms.length&&(i.rooms=i.rooms.concat(t.rooms)),_r_(i)},_r_(function(e,t){_i_("269:1addb9dd");e=e||r;var i=n[t.type];if(!i)return _r_(e);return _r_(Object.assign({},e,i(e,t)))})}),B.define("hotel/store",function(e){_i_("269:eedfe7fa");var t=e("redux"),i=e("redux-thunk"),n=e("hotel/redux/reducers/rooms"),r=e("component/hotel/contact-host/reducers"),a=t.combineReducers({roomsTable:n,contactHost:r});return _r_(t.createStore(a,window.__REDUX_DEVTOOLS_EXTENSION__?t.compose(t.applyMiddleware(i),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()):t.compose(t.applyMiddleware(i))))}),B.define("hotel/utils/click-area",function(e,t){_i_("269:dd563d95");var i=e("jquery");function f(e){if(_i_("269:ba5dea02"),e instanceof i&&e.length)return _r_({x:e.offset().left,y:e.offset().top,width:e.width(),height:e.height()});if(e instanceof Function)return _r_(e());return _r_(e)}t.elDims=f,t.area=function(l,c,h,d){return _i_("269:e6e5c2e6"),_r_(function(e,t,i){_i_("269:64c0a11a");var n,r,a=f(l),o=f(c),s=[a.x,a.x+a.width],_=[a.y,a.y+a.height];return n=o.x?[o.x,o.x+o.width]:[a.x,a.x+(o.width?o.width:a.width)],r=o.y?[o.y,o.y+o.height]:[a.y,a.y+(o.height?o.height:a.height)],h&&(n=[s[1]-(n[1]-s[0]),s[1]-(n[0]-s[0])]),d&&(r=[_[1]-(r[1]-_[0]),_[1]-(r[0]-_[0])]),_r_(n[0]<=e&&e<=n[1]&&r[0]<=t&&t<=r[1])})},t.padding=function(e,t){return _i_("269:d4f87405"),(e=f(e)).width+=2*t,e.height+=2*t,e.x=e.x-t,e.y=e.y-t,_r_(e)},_r_()}),function(e){"use strict";_i_("269:c970d6c8"),"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery),_r_()}(function(s){"use strict";_i_("269:11eaafe3");var o=window.Slick||{};(o=function(){_i_("269:1a9b8522");var o=0;return _r_(function(e,t){_i_("269:aa04535a");var i,n,r,a=this;if(a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:s(e),appendDots:s(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return _i_("269:47add93f"),_r_('<button type="button" data-role="none">'+(t+1)+"</button>")},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,galleryMode:"normal",infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,keydownOverride:!1,keydownSpeed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,currentSpeed:null,iskeyboardEvent:!1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},s.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.hidden="hidden",a.paused=!1,a.positionProp=null,a.respondTo=null,a.shouldClick=!0,a.$slider=s(e),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,i=s(e).data("slick")||{},a.options=s.extend({},a.defaults,i,t),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,(n=a.options.responsive||null)&&-1<n.length){for(r in a.respondTo=a.options.respondTo||"window",n)n.hasOwnProperty(r)&&(a.breakpoints.push(n[r].breakpoint),a.breakpointSettings[n[r].breakpoint]=n[r].settings);a.breakpoints.sort(function(e,t){return _i_("269:c2b72627"),!0===a.options.mobileFirst?_r_(e-t):_r_(t-e)})}void 0!==document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(a.hidden="msHidden",a.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=s.proxy(a.autoPlay,a),a.autoPlayClear=s.proxy(a.autoPlayClear,a),a.changeSlide=s.proxy(a.changeSlide,a),a.clickHandler=s.proxy(a.clickHandler,a),a.selectHandler=s.proxy(a.selectHandler,a),a.setPosition=s.proxy(a.setPosition,a),a.swipeHandler=s.proxy(a.swipeHandler,a),a.dragHandler=s.proxy(a.dragHandler,a),a.keyHandler=s.proxy(a.keyHandler,a),a.autoPlayIterator=s.proxy(a.autoPlayIterator,a),a.instanceUid=o++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.init(),a.checkResponsive(!0),_r_()})}()).prototype.addSlide=o.prototype.slickAdd=function(e,t,i){_i_("269:1873807f");var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return _r_(!1);n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?s(e).appendTo(n.$slideTrack):i?s(e).insertBefore(n.$slides.eq(t)):s(e).insertAfter(n.$slides.eq(t)):!0===i?s(e).prependTo(n.$slideTrack):s(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){_i_("269:fa93a0c01"),s(t).attr("data-slick-index",e),_r_()}),n.$slidesCache=n.$slides,n.reinit(),_r_()},o.prototype.animateHeight=function(){_i_("269:5c984c58");var e=this,t=e.options.animateHeightSpeed||e.options.speed;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var i=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:i},t)}_r_()},o.prototype.animateSlide=function(e,t){_i_("269:b902e881");var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),s({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){_i_("269:67f59eb1"),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i),_r_()},complete:function(){_i_("269:ed4aef1a"),t&&t.call(),_r_()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){_i_("269:07179984"),n.disableTransition(),t.call(),_r_()},n.options.speed)),_r_()},o.prototype.asNavFor=function(e){_i_("269:e8b7bb75");var t=null!==this.options.asNavFor?s(this.options.asNavFor).slick("getSlick"):null;null!==t&&t.slideHandler(e,!0),_r_()},o.prototype.applyTransition=function(e){_i_("269:5ddae8bc");var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i),_r_()},o.prototype.autoPlay=function(){_i_("269:399fd1d9");var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&e.options.autoplay&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed)),_r_()},o.prototype.autoPlayClear=function(){_i_("269:af3f522d");this.autoPlayTimer&&clearInterval(this.autoPlayTimer),_r_()},o.prototype.autoPlayIterator=function(){_i_("269:e6097c53");var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll),_r_()},o.prototype.buildArrows=function(){_i_("269:76e69167");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=s(e.options.prevArrow),e.$nextArrow=s(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled")),_r_()},o.prototype.buildDots=function(){_i_("269:b8f116fc");var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=s(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}_r_()},o.prototype.buildOut=function(){_i_("269:9cb5db87");var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){_i_("269:fa93a0c0"),s(t).attr("data-slick-index",e),_r_()}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?s('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),s("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable"),_r_()},o.prototype.checkResponsive=function(e){_i_("269:7df269de");var t,i,n,r=this,a=r.$slider.width(),o=window.innerWidth||s(window).width();if("window"===r.respondTo?n=o:"slider"===r.respondTo?n=a:"min"===r.respondTo&&(n=Math.min(o,a)),r.originalSettings.responsive&&-1<r.originalSettings.responsive.length&&null!==r.originalSettings.responsive){for(t in i=null,r.breakpoints)r.breakpoints.hasOwnProperty(t)&&(!1===r.originalSettings.mobileFirst?n<r.breakpoints[t]&&(i=r.breakpoints[t]):n>r.breakpoints[t]&&(i=r.breakpoints[t]));null!==i?null!==r.activeBreakpoint?i!==r.activeBreakpoint&&(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick():(r.options=s.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())):(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick():(r.options=s.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh())}_r_()},o.prototype.changeSlide=function(e,t){_i_("269:0c4c634e");var i,n,r=this;switch(s(e.target).is("a")&&e.preventDefault(),i=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":n=0===i?r.options.slidesToScroll:r.options.slidesToShow-i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-n,!1,t);break;case"next":n=0===i?r.options.slidesToScroll:i,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+n,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||s(e.target).parent().index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,t);break;default:return _r_()}_r_()},o.prototype.checkNavigable=function(e){_i_("269:2e3760ed");var t,i;if(i=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return _r_(e)},o.prototype.clickHandler=function(e){_i_("269:810abac5");!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),_r_()},o.prototype.destroy=function(){_i_("269:3c19434e");var e=this;e.autoPlayClear(),e.touchObject={},s(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.unbind(".slick"),s(window).unbind(".slick-"+e.instanceUid),s(document).unbind(".slick-"+e.instanceUid),e.$slider.html(e.$slides),_r_()},o.prototype.disableTransition=function(e){_i_("269:b2756228");var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t),_r_()},o.prototype.fadeSlide=function(e,t){_i_("269:c1100626");var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.options.speed?i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t):i.$slides.eq(e).show(i.options.speed,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){_i_("269:a3438e15"),i.disableTransition(e),t.call(),_r_()},i.options.speed)),_r_()},o.prototype.filterSlides=o.prototype.slickFilter=function(e){_i_("269:99588b02");var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit()),_r_()},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){_i_("269:d878ac94");return _r_(this.currentSlide)},o.prototype.getDotCount=function(){_i_("269:d90cc7a5");var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(!0===e.options.centerMode)n=e.slideCount;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return _r_(n-1)},o.prototype.getLeft=function(e){_i_("269:0a691e40");var t,i,n,r=this,a=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,a=i*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,a=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,a=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,a=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(a=r.slideOffset=0),!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+a,!0===r.options.variableWidth&&(t=(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(t=(n=!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),_r_(t)},o.prototype.getOption=o.prototype.slickGetOption=function(e){_i_("269:aa126de6");return _r_(this.options[e])},o.prototype.getNavigableIndexes=function(){_i_("269:b807f95a");var e,t=this,i=0,n=0,r=[];for(!1===t.options.infinite?(e=t.slideCount-t.options.slidesToShow+1,!0===t.options.centerMode&&(e=t.slideCount)):(i=-1*t.slideCount,n=-1*t.slideCount,e=2*t.slideCount);i<e;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return _r_(r)},o.prototype.getSlick=function(){return _i_("269:b34e3db8"),_r_(this)},o.prototype.getSlideCount=function(){_i_("269:52494332");var e,i,n,r=this;return n=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(e,t){if(_i_("269:f3f48d61"),t.offsetLeft-n+s(t).outerWidth()/2>-1*r.swipeLeft)return i=t,_r_(!1);_r_()}),e=Math.abs(s(i).attr("data-slick-index")-r.currentSlide)||1,_r_(e)):_r_(r.options.slidesToScroll)},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){_i_("269:90487959");this.changeSlide({data:{message:"index",index:parseInt(e)}},t),_r_()},o.prototype.init=function(){_i_("269:72d3a587");var e=this;s(e.$slider).hasClass("slick-initialized")||(s(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),e.$slider.trigger("init",[e]),_r_()},o.prototype.initArrowEvents=function(){_i_("269:d6e60b62");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.bind("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.bind("click.slick",{message:"next"},e.changeSlide)),_r_()},o.prototype.initDotEvents=function(){_i_("269:f2531feb");var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&s("li",e.$dots).bind("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&s("li",e.$dots).bind("mouseenter.slick",function(){_i_("269:eb68020a"),e.paused=!0,e.autoPlayClear(),_r_()}).bind("mouseleave.slick",function(){_i_("269:5e48df25"),e.paused=!1,e.autoPlay(),_r_()}),_r_()},o.prototype.initializeEvents=function(){_i_("269:8b9bc1fd");var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.bind("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.bind("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.bind("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.bind("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.bind("click.slick",e.clickHandler),!0===e.options.autoplay&&(s(document).bind(e.visibilityChange,function(){_i_("269:3965a55c"),e.visibility(),_r_()}),!0===e.options.pauseOnHover&&(e.$list.bind("mouseenter.slick",function(){_i_("269:eb68020a1"),e.paused=!0,e.autoPlayClear(),_r_()}),e.$list.bind("mouseleave.slick",function(){_i_("269:5e48df251"),e.paused=!1,e.autoPlay(),_r_()}))),!0===e.options.accessibility&&s(document).bind("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&s(e.$slideTrack).children().bind("click.slick",e.selectHandler),s(window).bind("orientationchange.slick.slick-"+e.instanceUid,function(){_i_("269:71ea83f9"),e.checkResponsive(),e.setPosition(),_r_()}),s(window).bind("resize.slick.slick-"+e.instanceUid,function(){_i_("269:8841ac5e"),s(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){_i_("269:9ccec9da"),e.windowWidth=s(window).width(),e.checkResponsive(),e.setPosition(),_r_()},50)),_r_()}),s("*[draggable!=true]",e.$slideTrack).bind("dragstart",function(e){_i_("269:a38e47a3"),e.preventDefault(),_r_()}),s(window).bind("load.slick.slick-"+e.instanceUid,e.setPosition),s(document).bind("ready.slick.slick-"+e.instanceUid,e.setPosition),_r_()},o.prototype.initUI=function(){_i_("269:ea873936");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay(),_r_()},o.prototype.keyHandler=function(e){_i_("269:b1b7e014");var t=this;!0===t.options.accessibility&&!0===t.options.keydownOverride&&t.options.keydownSpeed&&(t.iskeyboardEvent=!0,t.currentSpeed=t.options.speed,t.options.speed=t.options.keydownSpeed),37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:t.options.rtl?"previous":"next"}}),_r_()},o.prototype.lazyLoad=function(){_i_("269:02e48efc");var e,t,i=this;function n(e){_i_("269:828d9079"),s("img[data-lazy]",e).each(function(){_i_("269:243378cc");var e=s(this),t=s(this).attr("data-lazy");e.load(function(){_i_("269:73f61e94"),e.animate({opacity:1},200),_r_()}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading"),_r_()}),_r_()}!0===i.options.centerMode?!0===i.options.infinite?t=(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),t=i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),n(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?n(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?n(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&n(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow)),_r_()},o.prototype.loadSlider=function(){_i_("269:df137ba3");var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad(),_r_()},o.prototype.next=o.prototype.slickNext=function(){_i_("269:88d71b69");this.changeSlide({data:{message:"next"}}),_r_()},o.prototype.pause=o.prototype.slickPause=function(){_i_("269:f2c15337");this.autoPlayClear(),this.paused=!0,_r_()},o.prototype.play=o.prototype.slickPlay=function(){_i_("269:3dce7834");this.paused=!1,this.autoPlay(),_r_()},o.prototype.postSlide=function(e){_i_("269:5b6dc3bf");var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay(),!0===t.options.accessibility&&!0===t.options.keydownOverride&&!0===t.iskeyboardEvent&&(t.iskeyboardEvent=!1,t.options.speed=t.currentSpeed),_r_()},o.prototype.prev=o.prototype.slickPrev=function(){_i_("269:00586209");this.changeSlide({data:{message:"previous"}}),_r_()},o.prototype.progressiveLazyLoad=function(){_i_("269:1c406966");var e,t=this;0<s("img[data-lazy]",t.$slider).length&&(e=s("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){_i_("269:6229d7ca"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),!0===t.options.adaptiveHeight&&t.setPosition(),_r_()}).error(function(){_i_("269:0fb46887"),e.removeAttr("data-lazy"),t.progressiveLazyLoad(),_r_()}),_r_()},o.prototype.refresh=function(){_i_("269:6dd86baa");var e=this,t=e.currentSlide;e.destroy(),s.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:t}},!0),_r_()},o.prototype.reinit=function(){_i_("269:b9485622");var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&s(e.$slideTrack).children().bind("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),_r_()},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,i){_i_("269:6cd94992");var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return _r_(!1);n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit(),_r_()},o.prototype.setCSS=function(e){_i_("269:5c295263");var t,i,n=this,r={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,!1===n.transformsEnabled||(!(r={})===n.cssTransitions?r[n.animType]="translate("+t+", "+i+")":r[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(r),_r_()},o.prototype.setDimensions=function(){_i_("269:76db605f");var e=this;if(!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(!0===e.options.variableWidth){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){_i_("269:3b52e153"),t+=e.listWidth,_r_()}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i),_r_()},o.prototype.setFade=function(){_i_("269:5d0d1f0d");var i,n=this;n.$slides.each(function(e,t){_i_("269:04f6cdfb"),i=n.slideWidth*e*-1,!0===n.options.rtl?s(t).css({position:"relative",right:i,top:0,zIndex:800,opacity:0}):s(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0}),_r_()}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1}),_r_()},o.prototype.setHeight=function(){_i_("269:a1485bd1");var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}_r_()},o.prototype.setOption=o.prototype.slickSetOption=function(e,t,i){_i_("269:92a239a5");this.options[e]=t,!0===i&&(this.unload(),this.reinit()),_r_()},o.prototype.setPosition=function(){_i_("269:9e0d36fb");var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e]),_r_()},o.prototype.setProps=function(){_i_("269:b9a544a2");var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType,_r_()},o.prototype.setSlideClasses=function(e){_i_("269:42777f94");var t,i,n,r,a=this;a.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),i=a.$slider.find(".slick-slide"),!0===a.options.centerMode?(t=Math.floor(a.options.slidesToShow/2),!0===a.options.infinite&&(t<=e&&e<=a.slideCount-1-t?a.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=a.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-a.options.slidesToShow).addClass("slick-center"):e===a.slideCount-1&&i.eq(a.options.slidesToShow).addClass("slick-center")),a.$slides.eq(e).addClass("slick-center")):0<=e&&e<=a.slideCount-a.options.slidesToShow?a.$slides.slice(e,e+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=a.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=a.slideCount%a.options.slidesToShow,n=!0===a.options.infinite?a.options.slidesToShow+e:e,a.options.slidesToShow==a.options.slidesToScroll&&a.slideCount-e<a.options.slidesToShow?i.slice(n-(a.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===a.options.lazyLoad&&a.lazyLoad(),_r_()},o.prototype.setupInfinite=function(){_i_("269:ba37ca51");var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,s(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,s(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){_i_("269:ebb1e066"),s(this).attr("id",""),_r_()})}_r_()},o.prototype.selectHandler=function(e){_i_("269:d8db273a");var t=this,i=s(e.target).parents(".slick-slide"),n=parseInt(i.attr("data-slick-index"));if(n||(n=0),t.slideCount<=t.options.slidesToShow)return t.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-active").attr("aria-hidden","false"),!0===t.options.centerMode&&(t.$slider.find(".slick-slide").removeClass("slick-center"),t.$slides.eq(n).addClass("slick-center")),t.asNavFor(n),_r_();t.slideHandler(n),_r_()},o.prototype.slideHandler=function(e,t,i){_i_("269:ca7773fb");var n,r,a,o,s=this;if(t=t||!1,!0===s.animating&&!0===s.options.waitForAnimate)return _r_();if(!0===s.options.fade&&s.currentSlide===e)return _r_();if(s.slideCount<=s.options.slidesToShow)return _r_();if(!1===t&&s.asNavFor(e),n=e,o=s.getLeft(n),a=s.getLeft(s.currentSlide),s.currentLeft=null===s.swipeLeft?a:s.swipeLeft,!1===s.options.infinite&&!1===s.options.centerMode&&(e<0||e>s.getDotCount()*s.options.slidesToScroll))return!1===s.options.fade&&(n=s.currentSlide,!0!==i?s.animateSlide(a,function(){_i_("269:83dfe16c"),s.postSlide(n),_r_()}):s.postSlide(n)),_r_();if(!1===s.options.infinite&&!0===s.options.centerMode&&(e<0||e>s.slideCount-s.options.slidesToScroll))return!1===s.options.fade&&(n=s.currentSlide,!0!==i?s.animateSlide(a,function(){_i_("269:83dfe16c1"),s.postSlide(n),_r_()}):s.postSlide(n)),_r_();if(!0===s.options.autoplay&&clearInterval(s.autoPlayTimer),r=n<0?s.slideCount%s.options.slidesToScroll!=0?s.slideCount-s.slideCount%s.options.slidesToScroll:s.slideCount+n:n>=s.slideCount?s.slideCount%s.options.slidesToScroll!=0?0:n-s.slideCount:n,s.animating=!0,s.$slider.trigger("beforeChange",[s,s.currentSlide,r]),s.currentSlide,s.currentSlide=r,s.setSlideClasses(s.currentSlide),s.updateDots(),s.updateArrows(),!0===s.options.fade)return!0!==i?s.fadeSlide(r,function(){_i_("269:a126f812"),s.postSlide(r),_r_()}):s.postSlide(r),s.animateHeight(),_r_();!0!==i?s.animateSlide(o,function(){_i_("269:ff62ff23"),s.postSlide(r),_r_()}):s.postSlide(r),_r_()},o.prototype.startLoad=function(){_i_("269:e1af5713");var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading"),_r_()},o.prototype.swipeDirection=function(){_i_("269:70a2ac4d");var e,t,i,n,r=this;if(e=r.touchObject.startX-r.touchObject.curX,t=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n)return _r_(!1===r.options.rtl?"left":"right");if(n<=360&&315<=n)return _r_(!1===r.options.rtl?"left":"right");if(135<=n&&n<=225)return _r_(!1===r.options.rtl?"right":"left");return _r_("vertical")},o.prototype.swipeEnd=function(e){_i_("269:c3f8361e");var t,i=this;if(i.dragging=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return _r_(!1);if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(t),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(t),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={});_r_()},o.prototype.swipeHandler=function(e){_i_("269:e1bbc1a7");var t=this;if(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe)return _r_();if(!1===t.options.draggable&&-1!==e.type.indexOf("mouse"))return _r_();switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}_r_()},o.prototype.swipeMove=function(e){_i_("269:1f54038b");var t,i,n,r,a,o=this;if(a=void 0!==e.originalEvent?e.originalEvent.touches:null,!o.dragging||a&&1!==a.length)return _r_(!1);if(t=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==a?a[0].pageX:e.clientX,o.touchObject.curY=void 0!==a?a[0].pageY:e.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),"vertical"===(i=o.swipeDirection()))return _r_();if(void 0!==e.originalEvent&&4<o.touchObject.swipeLength&&e.preventDefault(),r=(!1===o.options.rtl?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),n=o.touchObject.swipeLength,(o.touchObject.edgeHit=!1)===o.options.infinite&&(0===o.currentSlide&&"right"===i||o.currentSlide>=o.getDotCount()&&"left"===i)&&(n=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),!1===o.options.vertical?o.swipeLeft=t+n*r:o.swipeLeft=t+n*(o.$list.height()/o.listWidth)*r,!0===o.options.fade||!1===o.options.touchMove)return _r_(!1);if(!0===o.animating)return o.swipeLeft=null,_r_(!1);o.setCSS(o.swipeLeft),_r_()},o.prototype.swipeStart=function(e){_i_("269:c769c4b1");var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},_r_(!1);void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0,_r_()},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){_i_("269:02fdcdc5");var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit()),_r_()},o.prototype.unload=function(){_i_("269:ff1ea595");var e=this;s(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width",""),_r_()},o.prototype.unslick=function(){_i_("269:694228b1");this.destroy(),_r_()},o.prototype.updateArrows=function(){_i_("269:c5227483");var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled"))),_r_()},o.prototype.updateDots=function(){_i_("269:10e22fcf");var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false")),_r_()},o.prototype.visibility=function(){_i_("269:6b86169a");var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay()),_r_()},s.fn.slick=function(){_i_("269:48304cb3");for(var e,t=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.length,a=0;a<r;a++)if("object"==typeof i||void 0===i?t[a].slick=new o(t[a],i):e=t[a].slick[i].apply(t[a].slick,n),void 0!==e)return _r_(e);return _r_(t)},s(function(){_i_("269:d4d747eb"),s("[data-slick]").slick(),_r_()}),_r_()}),function(e){_i_("269:18dcaf60"),e.hotel.GallerySettings=e.hotel.GallerySettings||{},e.hotel.GallerySettings={slide:"div",autoplay:!1,autoplaySpeed:e.env.hp_gallery_autoplay_speed,dots:!1,easing:"swing",fade:!0,lazyLoad:e.env.hp_gallery_lazyload,infinite:!0,initialSlide:0,pauseOnHover:!1,speed:0,keydownOverride:!0,keydownSpeed:100,slidesToShow:1,centerMode:!0,slidesToScroll:1,rtl:e.env.rtl},_r_()}(window.booking),function(_,p){_i_("269:4f518205");var m=p.require("jquery"),i=p.require("hotel/utils/click-area"),n=!1,r=!1;p.hotel.Gallery=function(){_i_("269:c5622748");var t={container:null,gallery:null,slides:[],thumbs:[],nav:null,review:null,activeSlide:null,nextSlide:null,counter:null,isOldIE:"msie"===p.env.b_browser&&p.env.b_browser_version<10,toPhotoID:p.env.b_hp_tophotoid||0,initSlide:0,totalSlides:0,defaultFadeSpeed:p.env.hp_gallery_fade_speed,fadeSpeedOnHover:300,currentSlide:0,hoverTimer:0,initTimer:0,overrides:{},options:{},CLASS_THUMB:"js-hotel-thumb",CLASS_SELECTED_THUMB:"selected_thumb",CLASS_GALLERY_CONTROL:"hp-gallery-control",CLASS_GALLERY_SPECIAL_CONTROL:"hp-gallery-special-control",CLASS_REVIEW_FLOATER:"nha_large_photo_reviewFloater",CLASS_GALLERY_COUNTER:"js-hp-gallery__counter",CLASS_COUNTER_CURRENT:"js-hp-gallery__counter__current",CLASS_COUNTER_COUNT:"js-hp-gallery__counter__count",CLASS_VISIBLE:"visible",CLASS_HIDDEN:"hp-gallery__hidden",EVENT_GALLERY_BEFORE_CHANGE:p.hotel.Events.Gallery.BEFORE_SLIDE_CHANGE,EVENT_GALLERY_AFTER_CHANGE:p.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,EVENT_GALLERY_AFTER_CHANGE_PERSISTENT:p.hotel.Events.Gallery.AFTER_SLIDE_CHANGE_PERSISTENT,EVENT_GALLERY_INIT:p.hotel.Events.Gallery.INIT,EVENT_GALLERY_HOVER_THUMB:p.hotel.Events.Gallery.THUMB_HOVER,EVENT_GALLERY_NAVIGATE_MANUAL:p.hotel.Events.Gallery.NAVIGATE_MANUAL,GOAL_CLICK_NAVIGATION:p.hotel.Goals.Gallery.CLICK_NAVIGATION,GOAL_VIEW_ALL_PHOTOS:p.hotel.Goals.Gallery.VIEW_ALL_PHOTOS,GOAL_HOVER_THUMB:p.hotel.Goals.Gallery.HOVER_THUMB,trackingelem:m("#photo_wrapper"),emitter:p.require("events"),ga:p.require("ga-tracker"),photosViewed:[],trackedPhotosViewed:!1,freezeThumbs:!1,setup:function(e){_i_("269:ca7c1959");var t=this;t.container=e,t.gallery=t.container.find('[data-gallery=""]'),t.slides=t.gallery.children(),t.thumbs=t.container.find("a."+t.CLASS_THUMB),t.thumbs.length||(t.thumbs=m(".hp-main-gallery-thumbs a."+t.CLASS_THUMB)),t.nav=t.container.find("a."+t.CLASS_GALLERY_CONTROL),t.spNav=t.container.find("a."+t.CLASS_GALLERY_SPECIAL_CONTROL),t.review=t.container.find("div."+t.CLASS_REVIEW_FLOATER),t.counter=t.container.find("div."+t.CLASS_GALLERY_COUNTER),t.totalSlides=t.slides.length,t.initSlide=t.toPhotoID?t.slides.index(t.slides.filter('[data-photoid="'+t.toPhotoID+'"]')):0,t.defaultFadeSpeed=t.isOldIE?0:p.env.hp_gallery_fade_speed,t.fadeSpeedOnHover=t.isOldIE?0:300,t.overrides={initialSlide:t.initSlide,speed:t.defaultFadeSpeed,nextArrow:t.nav.filter('[data-nav="next"]'),prevArrow:t.nav.filter('[data-nav="prev"]'),waitForAnimate:!1,autoplay:!1},t.options=m.extend({},p.hotel.GallerySettings,t.overrides),t.initSlickEvents(),_r_()},initCornerNavigation:function(){_i_("269:4ba2ac76");var _,l,c=this,e=c.container.find(".hp-gallery"),h=c.container.find('[data-nav="next"]'),d=c.container.find('[data-nav="prev"]'),f=p.env.run_cinematic_gallery;f?(l=i.area(e,i.padding.bind(null,h,30)),_=i.area(e,i.padding.bind(null,d,30))):_=i.area(e,function(){return _i_("269:17d9aa3f"),_r_({width:.3*e.width()})},p.env.rtl);var u=function(e){if(_i_("269:2473c236"),!e||!e.target)return _r_();var t=m(e.target);if(t.is(".hp-gallery-control")||t.is(".gallery__last-item__cta")||t.parents(".hp-gallery-review").length)return _r_();var i=e.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.touches[0].pageY;_(i,n)?(h.removeClass("h"),d.addClass("h")):(f?l(i,n)?h.addClass("h"):h.removeClass("h"):h.addClass("h"),d.removeClass("h")),_r_()};e.on("mousemove",u),e.on("click",function(e){_i_("269:3b94f601");var t=m(e.target);if(window.innerHeight&&window.innerHeight<700)return _r_();if(t.parents(".hp-gallery-review").length)return _r_();var i=e.pageX||e.originalEvent.touches[0].pageX,n=e.pageY||e.originalEvent.touches[0].pageY;if(_(i,n))c.ga.trackEvent(c.ga.hotelPageTracker,"Gallery","Corner Navigation Prev"),d.click(),setTimeout(function(){_i_("269:838a08a0"),u(e),_r_()},50);else{if(f)if(l(i,n))h.click();else{if(t.hasClass("js-gallery__last-item__cta"))return _r_();var r=c.gallery.slick("getSlick"),a=m(r.$slides[r.getCurrent()]),o=a.attr("data-photoid");if("last_item_cta"===o){var s=a.attr("data-slick-index");return _r_(m(".bh-photo-modal").trigger("setPos",parseInt(s,10)))}if(p.env.fe_hotel_has_360_photos&&"thumb_360_view"===o){s=a.attr("data-slick-index");return _r_(!1)}a.hasClass("hp-gallery__slide--landmark")&&(o=a.attr("data-landmarkid")),m(".bh-photo-modal").trigger("openPhotoId",o)}else h.click();c.ga.trackEvent(c.ga.hotelPageTracker,"Gallery","Corner Navigation Next"),setTimeout(function(){_i_("269:838a08a01"),u(e),_r_()},50)}_r_()}),e.on("mouseout",function(){_i_("269:ef5e2a8a"),h.removeClass("h"),d.removeClass("h"),_r_()}),_r_()},initSlickEvents:function(){_i_("269:03e9728a");var s=this;s.gallery.bind("init",function(e,t){_i_("269:997a3bd2"),s.initControls(),s.setupCounter(),s.trackGoals("autoplay",s.currentSlide),s.updatePhotosViewed(s.initSlide),s.freezeThumbs||s.highlightThumb(t.$slides.eq(s.initSlide).attr("data-photoid")),s.bindEmitterEvents(t),p.env.b_run_hp_gallery_corner_navigation&&s.initCornerNavigation(),p.hotel.Gallery.slick=t,s.emitter.trigger(s.EVENT_GALLERY_INIT,[s]),_r_()}).bind("beforeChange",function(e,t,i,n){_i_("269:9926a4c7"),s.activeSlide=s.slides.eq(i),s.nextSlide=s.slides.eq(n),"true"===s.nextSlide.attr("data-gallery-pause")?s.gallery.slick("slickPause"):s.gallery.slick("slickPlay"),s.updatePhotosViewed(n),s.highlightThumb(t.$slides.eq(n).attr("data-photoid"),!0),s.updateCounter(n+1);var r=!0,a=t.$slides.index(s.activeSlide),o=t.$slides.index(s.nextSlide);(o<a||o===t.$slides.length-1&&0===a)&&(r=!1),s.emitter.trigger(p.hotel.Events.ReviewFloater.FORCE_SLIDE,[r]),s.emitter.trigger(s.EVENT_GALLERY_BEFORE_CHANGE,[e,t,s.activeSlide,s.nextSlide]),_r_()}).bind("afterChange",function(e,t,i){_i_("269:ff770c01"),s.activeSlide=s.slides.eq(i),p.env.b_gallery_slide_onview&&s.trackSlideView(),s.trackGoals(s.GOAL_VIEW_ALL_PHOTOS),s.emitter.trigger(s.EVENT_GALLERY_AFTER_CHANGE,[e,t,s.activeSlide]),s.emitter.trigger(s.EVENT_GALLERY_AFTER_CHANGE_PERSISTENT,[e,t,s.activeSlide]),_r_()}).bind("reInit",function(e,t){_i_("269:5001ce61"),s.counter.length&&s.updateCounter(t.getCurrent()+1,t.slideCount),_r_()}),s.run(),_r_()},initControls:function(){_i_("269:2b08a2b2");var s=this;s.gallery.add(s.nav).add(s.spNav).add(s.review).bind("mouseenter",function(){_i_("269:0190d3e7"),s.nav.addClass(s.CLASS_VISIBLE),s.gallery.slick("slickSetOption","speed",s.fadeSpeedOnHover),_r_()}).bind("mouseleave",function(){_i_("269:7fc9f1e4"),s.nav.removeClass(s.CLASS_VISIBLE),s.gallery.slick("slickSetOption","speed",s.defaultFadeSpeed),_r_()}),s.nav.bind("click",function(){return _i_("269:e88bdb18"),s.navigate(s,this),_r_(!1)}).bind("click.tracking",function(){_i_("269:48caa1d1"),s.trackGoals(s.GOAL_CLICK_NAVIGATION),_r_()}),s.spNav.bind("click mouseenter",function(e){_i_("269:ab03ca09"),e.preventDefault(),s.nav.addClass(s.CLASS_VISIBLE);var t=this,i="click"===e.type?0:300;clearTimeout(s.hoverTimer),s.hoverTimer=_.setTimeout(function(){_i_("269:3a19213d"),s.navigate(s,t),_r_()},i),s.gallery.slick("slickSetOption","speed",s.fadeSpeedOnHover),_r_()}).bind("mouseleave",function(){_i_("269:5c3afef9"),s.gallery.slick("slickSetOption","speed",s.defaultFadeSpeed),clearTimeout(s.hoverTimer),_r_()}),s.thumbs.bind("mouseenter click",function(e){_i_("269:11cae607");var t,i,n,r=m(this),a="click"===e.type?0:300;function o(){_i_("269:6cc1aad1"),t=r.attr("data-photoid"),i=s.slides.filter('[data-photoid="'+t+'"]'),n=s.gallery.slick("getSlick"),s.gallery.slick("slickSetOption","speed",s.fadeSpeedOnHover),s.gallery.slick("slickGoTo",n.$slides.index(i.get(0))),_r_()}if(m('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length)return"click"===e.type&&(e.stopImmediatePropagation(),s.freezeThumbs=!0,t=r.attr("data-photoid"),i=s.slides.filter('[data-photoid="'+t+'"]'),n=s.gallery.slick("getSlick"),s.gallery.slick("slickGoTo",n.$slides.index(i.get(0))+1),s.freezeThumbs=!1,m('.hp-gallery-navigation-link[data-toggle="hp-gallery-main"]').click(),o()),_r_(!1);if(p.env.fe_hotel_has_360_photos&&"mouseenter"===e.type&&s.thumbs.filter("."+s.CLASS_SELECTED_THUMB).data("keepFocus"))return _r_(!1);clearTimeout(s.hoverTimer),s.hoverTimer=_.setTimeout(function(){_i_("269:878c07ec"),o(),_r_()},a),_r_()}).bind("mouseleave",function(){_i_("269:5c3afef91"),s.gallery.slick("slickSetOption","speed",s.defaultFadeSpeed),clearTimeout(s.hoverTimer),_r_()}).bind("mouseenter.tracking click.tracking",function(){_i_("269:13042655"),s.trackGoals(s.GOAL_HOVER_THUMB),_r_()}),s.container.on("mouseenter.pause","div.hp-gallery-thumbs",function(){_i_("269:895ab4b3"),s.gallery.slick("slickSetOption","autoplaySpeed",1e7),s.gallery.slick("slickPause"),_r_()}).on("mouseleave.pause","div.hp-gallery-thumbs",function(){_i_("269:eb039802"),s.gallery.slick("slickSetOption","autoplaySpeed",p.env.hp_gallery_autoplay_speed),s.gallery.slick("slickPlay"),_r_()}),s.emitter.on(p.hotel.Events.ReviewFloater.MOUSE_ENTER,function(){_i_("269:ca6cb989"),s.gallery.slick("slickSetOption","autoplaySpeed",1e7),s.gallery.slick("slickPause"),_r_()}),s.emitter.on(p.hotel.Events.ReviewFloater.MOUSE_LEAVE,function(){_i_("269:e8185af0"),s.gallery.slick("slickSetOption","autoplaySpeed",p.env.hp_gallery_autoplay_speed),s.gallery.slick("slickPlay"),_r_()}),_r_()},bindEmitterEvents:function(e){_i_("269:ff4d7601");this.emitter.on("main-tab-opened",function(){_i_("269:c3474a1f"),e&&e.setPosition(),_r_()}),_r_()},highlightThumb:function(e,t){_i_("269:e69c2224");var i=this;if(m('.hp-gallery-navigation-link.hp-gallery-navigation-link--selected[data-toggle="hp-gallery-streetview"]').length&&!t)return _r_();i.thumbs.filter("."+i.CLASS_SELECTED_THUMB).removeClass(i.CLASS_SELECTED_THUMB),e&&i.thumbs.filter('[data-photoid="'+e+'"]').addClass(i.CLASS_SELECTED_THUMB),_r_()},getThumb:function(e){_i_("269:d668216c");var t=this.gallery.slick("getSlick").$slides.eq(e).attr("data-photoid");if(t)return _r_(this.thumbs.filter('[data-photoid="'+t+'"]'));_r_()},updatePhotosViewed:function(e){_i_("269:90db9359");void 0!==typeof e&&-1===m.inArray(e,this.photosViewed)&&this.photosViewed.push(e),this.trackGoals(this.GOAL_VIEW_ALL_PHOTOS),_r_()},setupCounter:function(){_i_("269:bf7bdc09");var e=this;e.counter.length&&e.counter.find("span."+e.CLASS_COUNTER_CURRENT).text(e.initSlide+1).end().find("span."+e.CLASS_COUNTER_COUNT).text(e.totalSlides).end().removeClass(e.CLASS_HIDDEN),_r_()},updateCounter:function(e,t){_i_("269:fa254759");e&&this.counter.find("span."+this.CLASS_COUNTER_CURRENT).text(e),t&&this.counter.find("span."+this.CLASS_COUNTER_COUNT).text(t),_r_()},navigate:function(e,t){var i,n,r;_i_("269:f3e2d5ce"),t.hasAttribute("data-jumpto-photoid")&&(i=t.getAttribute("data-jumpto-photoid"),n=e.slides.filter('[data-photoid="'+i+'"]'),r=e.gallery.slick("getSlick"),e.gallery.slick("slickSetOption","speed",e.fadeSpeedOnHover),e.gallery.slick("slickGoTo",r.$slides.index(n.get(0)))),_r_()},trackGoals:function(e,t){_i_("269:1a471896");var i=this;switch(e){case i.GOAL_CLICK_NAVIGATION:n||(i.emitter.trigger(i.GOAL_CLICK_NAVIGATION),n=!0),p.env.b_save_user_hotel_interactions?p.require("hotel/track/goals_sort_hotel_history").track(i.GOAL_CLICK_NAVIGATION):i.nav.unbind("click.tracking");break;case i.GOAL_VIEW_ALL_PHOTOS:i.trackedPhotosViewed||i.photosViewed.length!==i.totalSlides||(i.emitter.trigger(i.GOAL_VIEW_ALL_PHOTOS),i.trackedPhotosViewed=!0);break;case i.GOAL_HOVER_THUMB:r||(i.emitter.trigger(i.GOAL_HOVER_THUMB),r=!0),p.env.b_save_user_hotel_interactions?p.require("hotel/track/goals_sort_hotel_history").track(i.GOAL_HOVER_THUMB):i.thumbs.unbind("mouseenter.tracking click.tracking");break;default:i.trackingelem.trigger(e,t)}_r_()},parseTrackOption:function(e){if(_i_("269:c14cbf36"),"string"===m.type(e)&&(e=m.trim(e)).length){var t,i,n=e.match(/^(.+)(__|:)([1-9])$/),r=e;return n&&(":"===n[2]?i=n[3]:t=n[3],r=n[1]),_r_({hash:r,customGoal:t,stage:i})}return _r_(e)},trackSlideView:function(){_i_("269:cffb62b1");var e,t=this.activeSlide.data("track-slide-view"),i=[];if(t){i=m.trim(t).split(",");for(var n=0;n<i.length;n++)(e=this.parseTrackOption(i[n])).stage?p.et.stage(e.hash,e.stage):e.customGoal?p.et.customGoal(e.hash,e.customGoal):p.et.track(e.hash)}_r_()},run:function(){_i_("269:47280413");var e=this;e.initTimer=_.setTimeout(function(){_i_("269:40de2691"),e.gallery.slick(e.options),_r_()},0),_r_()}};return _r_({init:function(e){_i_("269:632039ff"),t.setup(e),_r_()},slick:null})}(),m(function(){_i_("269:c8cc0254");var e=m("div.hp-gallery-container");e.length&&p.hotel.Gallery.init(e),_r_()}),_r_()}(window,window.booking),function(){_i_("269:60b72253");var e,t,i,n,r,a=window.booking,o=a.require("jquery"),s=a.require("events"),_=1e4,l=!1,c=2<=o(".hp_floater_popout, .reviews-carousel").length,h=function(){if(_i_("269:15fc9d18"),!c)return _r_();var e=o(window).width(),t=a.env.b_lang;return _r_("zh"!==t&&1504<=e||"zh"===t&&1532<=e)};function d(e){(_i_("269:e9843f79"),t)&&(h()?t.removeClass("g-hidden"):e&&e.currentSlide+1===e.slideCount?t.addClass("g-hidden"):t.removeClass("g-hidden"));_r_()}function f(e,t,i){_i_("269:306c0e4f");var n=o(this);t&&t.slideCount===i+1?function(e){_i_("269:d7948d76"),s.emit(a.hotel.Events.Gallery.ON_CTA_SLIDE),e.slick("slickPause"),"hotel"===a.env.b_action&&"www"===a.env.b_site_type&&(l=setTimeout(function(){_i_("269:849ff4dd"),u(e),e.slick("slickNext"),_r_()},_));_r_()}(n):l&&u(n),_r_()}function u(e){_i_("269:2efc8692"),s.emit(a.hotel.Events.Gallery.OFF_CTA_SLIDE),l&&(clearTimeout(l),l=!1),e.slick("slickPlay"),_r_()}function p(e){_i_("269:49839489");var t=r?"a[name=availability]":"#available_rooms";o("html").animate({scrollTop:o(t).offset().top},500),_r_()}o(function(){_i_("269:c7ffa707"),r=!a.env.b_has_valid_dates,e=o("div.hp-gallery"),i=e.find(".hp-gallery-slides"),t=e.find(".hp-gallery-review"),n=i.find(".js-gallery__last-item"),_i_("269:6a267f69"),n.length&&(i.bind("afterChange",f),n.length&&o(".js-gallery__last-item__cta").bind("click",p)),c&&(i.bind("afterChange",function(e,t){_i_("269:9b75212a"),d(t),_r_()}),o(window).resize(function(){_i_("269:7e5a9c73");var e=a&&a.hotel&&a.hotel.Gallery&&a.hotel.Gallery.slick;e&&d(e),_r_()})),_r_(),_r_()}),_r_()}(),function(l,c){_i_("269:a58ffb0d"),c(function(){_i_("269:c2d9eca1"),c("#photo_wrapper").on("click",".gallery-info__rn,.gallery-info__fc,.gallery-info__um",function(e){_i_("269:9d794af5");var t=c(e.target);e.stopPropagation(),t.data("stopPropagation")&&e.stopPropagation(),t.data("triggerEvent")&&setTimeout(function(){_i_("269:52e1c8b3"),String(t.data("triggerEvent")).split(/ +/).forEach(function(e){_i_("269:ce981e2a"),l.events.emit(c.trim(e)),_r_()}),_r_()},0);var i,n=t.parents(".slick-slide"),r=n.data("room-id"),a=n.data("is-group-recommendation"),o=l.env.b_hp_sticky_offset||0;if(!r)return _r_();if(a?i=c(".hp-group_recommendation__title"):(l.env.is_rooms_table_rewrite?o=c(".hprt-table").find("> thead:not(.sticked-placeholder)").height()||30:o+=c(".roomstable").find("> thead:not(.sticked-placeholder)").height()||30,i=c('a[name="RD'+r+'"]')),!i.length)return _r_();if(!a){var s=c("[name=RD"+r+"]").parents(".hprt-table-cell").first(),_="roomType--highlight hprt-table-cell-roomtype--active";c(".hprt-table").find(".hprt-table-cell.-first").removeClass(_).removeClass("roomType--highlight"),s.addClass(_)}c("html, body").animate({scrollTop:i.offset().top-o},1e3),_r_()}),_r_()}),_r_()}(window.booking,window.jQuery),function(){_i_("269:bb3f7ff7");var n=B.require("jquery"),r="hp-gallery-navigation-link--selected",e=n(".hp-gallery-navigation");if(0<e.length){var a=n(".hp-main-gallery-wrapper"),o=e.find(".hp-gallery-navigation-link");e.on("click",".hp-gallery-navigation-link",function(e){_i_("269:cffb9952"),e.preventDefault();var t=this,i=n(this).data("toggle");o.filter(function(){return _i_("269:ee8f9911"),_r_(!n(this).is(t))}).removeClass(r),n(this).addClass(r),a.filter(function(){return _i_("269:93780bde"),_r_(!n(this).hasClass(i))}).hide(),a.filter(function(){return _i_("269:9ba9c282"),_r_(n(this).hasClass(i))}).show(),_r_()})}_r_()}(),function(m){_i_("269:ddd14e33");var b=m.require("jquery");b(function(){_i_("269:50fc70ac");var a=0,e=[],t=b(".reviews-carousel"),i=t.find(".reviews-carousel-scroll"),o=t.find(".althotelsDiv2"),n=b(".large_image_slider"),s=m.require("events"),_=o.length-1,r=!1,l=!1;function c(){_i_("269:2603cf95"),i.css(m.env.rtl?{"margin-right":(e[a]||0)+"px"}:{"margin-left":(-1*e[a]||0)+"px"}),_r_()}function h(){_i_("269:fcd59aa9"),m.env.hp_reviewFloaterLoaded=!0,s.trigger(m.hotel.Events.ReviewFloater.LOADED),_r_()}var d=function(){_i_("269:e68a3b07"),_i_("269:bda58568"),e=[],o.each(function(){_i_("269:5171b6ba"),e.push(b(this).position().left),_r_()}),_r_(),(e.length<=1||1<e.length&&0!==e[1])&&(d=Function()),_r_()};if(window.location.hash&&/tab\-reviews|tab\-4/.test(window.location.hash))s.on("main-tab-opened",function(){_i_("269:b39cbf01"),1<e.length&&0===e[1]&&(d(),c(),h()),_r_()});else{var f=function(){_i_("269:57379d01"),o.is(":visible")?(d(),c(),h()):setTimeout(f,200),_r_()};0<o.length&&setTimeout(f,200)}var u=function(e){_i_("269:c6a7696c");var t=a,i="right";e&&"currentTarget"in e?b(e.currentTarget).hasClass("reviews-carousel-control-left")&&(i="left"):e&&!e[0]&&(i="left"),a="left"===i?0===a?_:a-1:a===_?0:a+1;var n=o.eq(t),r=o.eq(a);n.css({opacity:0}),r.css({opacity:1}),d(),c(),s.trigger(m.hotel.Events.ReviewFloater.SLIDE,[i,a,_]),_r_()};t.bind("mouseenter",function(e){_i_("269:8ad80fe6"),l=!0,s.trigger(m.hotel.Events.ReviewFloater.MOUSE_ENTER,[e]),_r_()}).bind("mouseleave",function(e){_i_("269:1898c88b"),l=!1,m.env.is_bh_property_page||(r=!1),s.trigger(m.hotel.Events.ReviewFloater.MOUSE_LEAVE,[e]),_r_()}),t.delegate(".reviews-carousel-control","mouseover",function(e){_i_("269:46666e33"),e.stopPropagation(),l||m.env.is_bh_property_page||(r=!0),n.hide(),b(e.currentTarget).addClass("reviews-carousel-hover"),_r_()}).delegate(".reviews-carousel-control","mouseleave",function(e){_i_("269:af2a6c31"),b(e.currentTarget).removeClass("reviews-carousel-hover"),_r_()}).delegate(".reviews-carousel-control","keypress",function(e){_i_("269:85c718bd"),0!==e.keyCode&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),b(e.currentTarget).trigger("click")),_r_()}).delegate(".reviews-carousel-control","click",u),s.on(m.hotel.Events.ReviewFloater.FORCE_SLIDE,function(e){_i_("269:256c1675"),r||u(e),_r_()});var p=b(".js-hotel-review-score");p.on("focus",function(){_i_("269:bbd72be8"),p.trigger("mouseenter"),_r_()}),p.on("blur",function(){_i_("269:99866180"),p.trigger("mouseleave"),_r_()}),_r_()}),_r_()}(window.booking),function(){if(_i_("269:1491c6cf"),!B.env.b_run_hp_fixed_review_height)return _r_();var e=$("#reviewFloater, #ph-reviewFloater, #under-gallery-reviews"),t=e.find(".althotelsReview2 span, .js-fixed-height-review");t.each(function(){_i_("269:ae14bc07");var e=$(this),t=parseInt(e.css("height")),i=85,n=100,r=e.attr("data-resize-only-if-higher")||!1;e.css("height","auto"),e.css("max-height","none"),t!==e.height()&&(n=i=t);var a,o,s=$.trim(e.text()),_=e.height();i<_&&(o=_/i,(a=(s=s.slice(0,Math.floor(s.length/o))).match(/(\w+)\s/g))&&(a=a.slice(-1)[0],s=s.slice(0,s.lastIndexOf(a)+a.length)),e.text(s+"…")),(!r||i<_)&&e.css("height",n+"px"),_r_()}),e.removeClass("fixed_review_container_not_ready"),_r_()}(),function(n){_i_("269:95138706");var t=n.require("jquery"),i=!1;function r(){var e;if(_i_("269:c1fe85a3"),i)return _r_();4<t("#maxotel_rooms tbody tr").length&&(function(e){_i_("269:b330c044");var t=new e,i={};n.env.b_hp_sticky_offset&&(i.initialOffset=n.env.b_hp_sticky_offset);t.init("#maxotel_rooms thead","#maxotel_rooms",i),_r_()}(e=n.require("booking-sticker")),function(e){_i_("269:9a1c12c5");var t=new e,i={};n.env.b_hp_sticky_offset&&(i.initialOffset=n.env.b_hp_sticky_offset);t.init(".bookNowWrap","#bookNow1",i),_r_()}(e),n.events.on(n.hotel.Events.RT.ROOM_SELECTED,function(){_i_("269:5fa41ae0"),window.setTimeout(e.update,5),window.setTimeout(e.update,10),_r_()}),2===e.stickedElements.length&&(i=!0)),_r_()}n.when({events:"ready"}).run(function(e){_i_("269:2a35b376"),"hotel"===n.env.b_action&&n.env.b_bookings_owned&&n.env.b_has_maxotel_rooms&&t("#maxotel_rooms").length&&(r(),_i_("269:f2f78cb8"),n.events.on("main-tab-opened",function(){_i_("269:42fb8c83"),i||r(),_r_()}),_r_()),_r_()}),_r_()}(booking),_i_("269:91ad3e18"),B.when({events:"ready"}).run(function(e){_i_("269:c101a57d");var l=e("jquery");({priority:2,urg_msgs:{},init:function(){_i_("269:19d3ddc7");var e=!1,t=this;_i_("269:58bb16e4"),e=!1,l(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function(){_i_("269:2fb39ad1"),0!=parseInt(l(this).val())&&(e=!0),_r_()}),e?l("#bookNow1 .book_now_best_price_reinforcement").show():l("#bookNow1 .book_now_best_price_reinforcement").hide(),_r_(),l(".b_available_multi_room_price, .b_available_multi_room_price_single").change(function(){_i_("269:8ec3e22a"),e=!1,l(".b_available_multi_room_price, .b_available_multi_room_price_single").each(function(){_i_("269:848b0740"),0==parseInt(l(this).val())||l(this).hasClass("free_cancellation_trigger")||(e=!0),_r_()}),e?(l("#bookNow1 .book_now_best_price_reinforcement").show(),l("#book_now_free_cancellation_reinforcement").hide()):l("#bookNow1 .book_now_best_price_reinforcement, #mbnbb div.book_now_best_price_reinforcement").hide(),t.getFilterPrice(this),_r_()});var i=this;l(".b_available_multi_room_price_single").change(function(){_i_("269:9df02662"),i.updateUrgencyMsg(this,"room_single"),_r_()}),l(".b_available_multi_room_price").change(function(){_i_("269:272e0baf"),i.updateUrgencyMsg(this,"room_double"),_r_()}),_r_()},getFilterPrice:function(){if(_i_("269:e3f29fce"),l("#pr_filter").length&&l("#pr_filter_range").length){var e=l("#pr_filter").val();if(-1<e.indexOf(",")){var t=e.split(",")[0],i=e.split(",")[1];l("#pr_filter_range").val("0"),isNaN(t)||isNaN(i)||l("select.b_room_selectbox").each(function(){if(_i_("269:b49d7828"),0<l(this).val()){var e=parseInt(l(this).attr("data-price-avg-filter").replace(/[^0-9.]/g,""));e>=parseInt(t)&&e<=parseInt(i)&&l("#pr_filter_range").val("1")}_r_()})}}_r_()},updateUrgencyMsg:function(e,t){_i_("269:92924115");var i,n=e.getAttribute("data-relid"),r=l("#"+n);if(0!==r.length){var a,o;a=o=parseInt(e.value,10),r.attr("data-meta")||r.attr("data-meta",r.html()),void 0!==this.urg_msgs[n]?"room_single"===t&&this.urg_msgs[n].room_double?a+=parseInt(this.urg_msgs[n].room_double,10):"room_double"===t&&this.urg_msgs[n].room_single&&(a+=parseInt(this.urg_msgs[n].room_single,10)):this.urg_msgs[n]={},this.urg_msgs[n][t]=o;var s=parseInt(e.getAttribute("data-roomsleft"),10)-a;if(s<=0)r.fadeOut();else{if(s==l("option",e).length-1&&r.attr("data-meta"))var _=r.attr("data-meta");else _=booking.env.x_left_rate[s-1],(i=r.attr("data-um-trans"))&&s&&("persuasion_hp_high_demand"==i||"persuasion_hp_high_demand_compliant"==i)&&(_=B.jstmpl.translations(i,s,{num_room:s,amountRooms:s,num_left:s}));r.hide().html(_).fadeIn("slow")}}_r_()}}).init(),_r_()}),_r_(),function(r){_i_("269:f29d7f2f"),r.when({events:"ready"}).run(function(e){_i_("269:6a6d1596");var i=e("jquery"),n=i(".js--jackpot-msg");r.events.on("HP:RT:RoomSelectChanged",function(e){var t;if(_i_("269:3838b731"),e&&e.totalSelectedRooms&&e.originalEvent&&e.originalEvent.target&&(t=i(e.originalEvent.target).attr("data-rc")),!t)return _r_();n.length&&(1<t?r.env.b_less_shouty_persuasion?n.text(r.jstmpl.translations("dd_hp_rt_noshout_hp_rt_jackpot_best_price")):n.text(r.jstmpl.translations("hp_rt_jackpot_best_price")):r.env.b_dehotelized_scarcity_messages?n.text(r.jstmpl.translations("bh_fun_scarcity_mup_jackpot_dehotelize")):r.env.b_hide_scarcity_messages||n.text(r.jstmpl.translations("hp_rt_jackpot_last_room"))),_r_()}),_r_()}),_r_()}(booking),function(){_i_("269:410dffff");var e,o,s,_,t,i,l=B.require("jquery");function n(e){_i_("269:5809f3d4");var t=o.filter(function(){return _i_("269:8d30ea68"),_r_("0"!==l(this).val())});if(1===t.length){var i=t.parents('tr[class^="room_loop_counter"]').find(".destination_budgets_notification_container div");i.length&&e.push(i.text())}if(e){var n,r="",a=e.length;for(n=0;n<a;n++)""!==l.trim(e[n])&&(r+="<li><span>"+e[n]+"</span></li>");_.html(r),s.addClass("show")}else _.empty(),s.removeClass("show");_r_()}function r(e){if(_i_("269:bb52d524"),1===function(e){_i_("269:134edd50");for(var t={},i=[],n=0,r=e.length;n<r;++n){if(t.hasOwnProperty(e[n]))continue;i.push(e[n]),t[e[n]]=1}return _r_(i)}(e).length)return _r_(!0);return _r_(!1)}function a(){_i_("269:b57ef853");var e,t,i=o.filter(function(){return _i_("269:636f9756"),_r_("0"!==l(this).val())});1===i.length?(e=i.parents('tr[class^="room_loop_counter"]').find("ul.hp-rt__policy-list")).length&&(_.html(e.html()),_.find(".jq_tooltip").removeClass("jq_tooltip").removeAttr("data-title title"),_.find(".g-hidden").removeClass("g-hidden"),(t=_.find(".green_condition")).length&&t.removeClass("green_condition"),s.addClass("show")):(_.empty(),s.removeClass("show")),_r_()}function c(){if(_i_("269:0fb5b13b"),o.filter(function(){return _i_("269:636f97561"),_r_("0"!==l(this).val())}).length){var t=[];o.filter(function(){return _i_("269:9accd100"),_r_("0"!==l(this).val())}).each(function(){_i_("269:1e61a56f");var e=l(this).parents('tr[class^="room_loop_counter"]').find(".ico_policy_info > span").text();t.push(e),_r_()}),r(t)?n((e=t[0],_i_("269:bcaa0182"),_r_(l.grep(e.split("•"),function(e){return _i_("269:d5a93ba0"),_r_(""!==e)})))):n()}else n();var e;_r_()}l(function(){_i_("269:31ea33a4"),_i_("269:b6c87c14"),e=l("#maxotel_rooms.conditions_summary"),o=e.find(".b_room_selectbox"),s=e.find("div.rt_conditions_summary"),_=l("#rt_conditions_summary_list"),t=e.find("ul.hp-rt__policy-list"),i=t.length?a:c,_r_(),l("#rooms_table").on("change",".b_room_selectbox",function(e){_i_("269:9d05a71c"),i(),_.loadComponents(),B.events.trigger("HP:RT:RoomSelectChanged",{originalEvent:e,totalSelectedRooms:[].slice.call(o,0).reduce(function(e,t){return _i_("269:bc6d0d33"),_r_(+t.value+e)},0)}),_r_()}),_r_()}),_r_()}(),function(){_i_("269:ed18e4f3");var t,i=window.booking,n=i.require("jquery"),e="rt__room-selection--not-selected",r=!1;function a(){_i_("269:3306159e"),t.addClass(e),r=!0,_r_()}function o(){_i_("269:4e49a7ac"),r&&(t.removeClass(e),r=!1),_r_()}i.when({events:"ready"}).run(function(e){if(_i_("269:4be18a3d"),!i.env.b_has_maxotel_rooms)return _r_();t=n(".roomMultiRoomPrice"),_i_("269:77d5061e"),i.events.on(i.hotel.Events.RT.ROOM_SELECTED,o),i.events.on(i.hotel.Events.RT.NO_ROOM_SELECTED_POSTALERT,a),_r_(),_r_()}),_r_()}(),function(){_i_("269:d1b49d7b");var e=window.booking,t=e.require("jquery");function i(){_i_("269:4ab4e9eb"),_i_("269:eebb473d"),_r_(!t(".b_room_selectbox").find("option:selected").filter("[value!=0]").length)&&e.events.emit(e.hotel.Events.RT.NO_ROOM_SELECTED),_r_()}e.when({events:"ready"}).run(function(e){_i_("269:af7e2b36"),t("#rooms_table").on("click",".js-rt__summary__reserve-button",i),_r_()}),_r_()}(),B.when({events:"ready"}).run(function(e){_i_("269:76c09dfb");var n=e("jquery");n("#rooms_table").on("change",".b_room_selectbox",function(){_i_("269:fa60c42e");var e=n(this),t=e.find(":selected"),i={room_id:e.data("roomid"),roomrate_id:e.data("roomrateid"),block_id:e.data("block-id"),price:e.data("price"),raw_total_price:t.attr("data-price-raw"),formatted_total_price:t.attr("data-price-without-addons"),no_rooms:e.val(),max_adults:e.closest("tr").find(".roomMaxPersons").attr("data-occupancy-for-tracking"),has_genius_rate:e.data("has-genius-rate"),has_a_deal:e.data("has-a-deal"),$el:e};booking.events.emit(booking.hotel.Events.RT.ROOM_SELECTED,i),_r_()}),_r_()}),function(){_i_("269:ede64bc1");var r=B.require("jquery");B.when({events:"ready"}).run(function(e){if(_i_("269:fbf0937f"),!r("#maxotel_rooms.hp_rt_cleanup").length)return _r_();var t=r("#rooms_table"),i=r("#bookNow1"),n=t.find(".b_room_selectbox");t.on("change",".b_room_selectbox",function(){_i_("269:6ca48919");var e=n.filter(function(){return _i_("269:131bcd441"),_r_(0!=r(this).val())});r(this).hasClass("b_available_multi_room_price_single")&&(0<this.value?r("#roomsForm").append('<input type="hidden" value="1" name="is_single_occ" id="is_single_occ">'):r("#is_single_occ").remove()),e.length?fminit(i):fminit(i,!0,"#fff",[255,255,255],[255,255,255]),_r_()}),_r_()}),_r_()}(),function(e){_i_("269:605ca002");var t=e.require("jquery");t(function(){_i_("269:4af5b8a9"),t("#rooms_table").on("submit","#roomsForm",validate),_r_()}),_r_()}(window.booking),_i_("269:c12c15fd"),B.when({events:"ready"}).run(function(e){_i_("269:60633410");var _=B.require("jquery"),s=_("#maxotel_rooms"),l=s.find(".b_room_selectbox"),c=s.find("#booking-summary"),h=0,d=s.find(".rt_pricedetails_above_button"),f={active:!1,str:""},t={calculate:function(){_i_("269:b5de95ae");var i,n,e,r=0,a=0,o=new RegExp((e=".",_i_("269:05f4bb09"),_r_(e.replace(".","\\."))+"[0-9]{1,3}$")),s=[];return l.each(function(){if(_i_("269:459d835d"),i=_(this).find("option:selected"),parseInt(i.val(),10)){var e=i.parent().attr("data-rtid"),t=29==(h=e?parseInt(e,10):0)||31==h||1==h||17==h||19==h||26==h;t||(h=0),s.length?_(s).each(function(e){_i_("269:f52a4097"),s[e]!=h&&s.push(h),_r_()}):s.push(h),t?(f.active=!0,f.str={29:"hh",31:"villa",1:"apt",17:"chalet",19:"bungalow",26:"bed"}[h]):(f.active=!1,f.str="")}r+=parseInt(i.val(),10),parseInt(i.val(),10)&&(n=i.data("price-raw").toString())&&(o.test(n)?a+=parseFloat(n):a+=parseInt(n,10)),_r_()}),1<s.length&&(f.active=!1),booking.env.no_rooms_selected=r,_r_({count:r,totalPrice:a})},updateColumn:function(){_i_("269:be9d17ca");var e,t,i=this.calculate(),n=10<i.count?s.data("translation-10"):s.data("translation-"+i.count),r=_("#availability_target").find(".ar_notice");if(i.count){if(i.count<11&&f.active&&s.data("translation-"+f.str)){var a=10<i.count?s.data("translation-10"):s.data("translation-"+f.str),o=a?a.replace(/'/g,'"'):"";n=_.parseJSON(o)["count-"+i.count]}n=n.replace(/\d+/,"<strong>"+i.count+"</strong>"),e=booking.utils.accounting.formatMoney(i.totalPrice),t={price:e,nr_rooms:i.count,rawPrice:i.totalPrice},B.events.emit(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,c,t),c.find(".total-price").html(e).end().find(".rooms-count").html(n).end().fadeIn(function(){_i_("269:2a48cc87"),setTimeout(function(){_i_("269:7feb72df"),B.events.emit(B.hotel.Events.RT.SUMMARY_CHANGE,c,t),_r_()},1),booking.events.trigger("change:bookNowHeight"),_r_()}),booking.events.trigger("booking-summary-room-selected"),r.length&&r.addClass("bold")}else c.hide(),d.removeClass("show"),booking.events.trigger("change:bookNowHeight"),booking.events.trigger("booking-summary-room-not-selected"),setTimeout(function(){_i_("269:e2541881"),B.events.emit(B.hotel.Events.RT.SUMMARY_HIDE,c),_r_()},1),r.length&&r.removeClass("bold");_r_()}},i=B.env.b_run_hp_booking_summary?_.proxy(t.updateColumn,t):Function();i(),s.filter(".booking_summary").delegate(".b_room_selectbox","change",function(){_i_("269:47e8a793"),i(),_r_()}),_("#roomsForm").bind("submit",function(){if(_i_("269:8f201ef3"),l.filter(function(){if(_i_("269:a216847f"),0!=_(this).val())return _r_(!0);return _r_(!1)}).length){var e=l.filter(function(){if(_i_("269:fe9d9714"),0!=_(this).val())return _r_(!0);return _r_(!1)}),t=l.filter(function(){return _i_("269:32947e09"),_r_(0==this.value)});return 20<l.length&&t.slice(20-e.length).remove(),_r_(!0)}_r_()}),_r_()}),_r_(),B.when({events:"ready"}).run(function(e){_i_("269:8d72bb56");var t=e("jquery");t("#rooms_table").on("click","#rm_cond_link",function(){_i_("269:14770190"),t("#maxotel_table_header #conditions_info").show(),fminit(t("#maxotel_rooms .ratepolicy"),!0,"transparent"),_r_()}),_r_()}),function(){_i_("269:9db4ca42");var h=B.require("jquery");B.when({events:"ready"}).run(function(e){_i_("269:5d757561"),{priority:2,elementSelector:"select.limited_rooms",maxRooms:{},init:function(){if(_i_("269:38853c3b"),"hotel"!==B.env.b_action&&!B.env.b_has_maxotel_rooms)return _r_();this.bindSelectors(),_r_()},bindSelectors:function(){_i_("269:fbb47f0a"),this.$selects=h(this.elementSelector),this.$selects.length&&(this.getOccupancy(),this.attachEvents()),_r_()},attachEvents:function(){_i_("269:5c7e881c"),B.events.on(B.hotel.Events.RT.ROOM_SELECTED,this.occupancyHandler.bind(this)),_r_()},occupancyHandler:function(e){if(_i_("269:4ea95e1d"),!e.$el.is(this.elementSelector))return _r_();var t=e.$el,i=t.attr("id");this.maxRooms[i]?this.changeOccupancy(t):this.getOccupancy(t),_r_()},changeOccupancy:function(e){if(_i_("269:48de4d0c"),!e||!e.length)return _r_();var t,i,n=e.data("roomid"),r=this.maxRooms[n].max,a=0;for(t in this.maxRooms[n].items)"0"!==(i=h("#"+t).val())&&(a+=parseInt(i,10));var o=r-a;for(t in this.maxRooms[n].items){var s=h("#"+t),_=0;i=s.val(),s.find("option").each(function(){_i_("269:18a11c37"),_>o+parseInt(i,10)?this.disabled=!0:this.disabled=!1,_++,_r_()})}var l=h("#"+n+" .only_x_left");if(l.length){var c="";l.attr("data-meta")||l.attr("data-meta",l.text()),o==r?c=l.attr("data-meta"):booking.env.x_left_room[o-1]&&(c=booking.env.x_left_room[o-1]),o<6&&l.hide().html(c).fadeIn("slow")}_r_()},getOccupancy:function(e){_i_("269:191230f0");var a=this;this.$selects.each(function(){_i_("269:1926f28a");var e=h(this),t=e.data("roomid"),i=e.attr("id");if(a.maxRooms[t])a.maxRooms[t].items[i]=e.clone();else{var n=e.find("option").length-1,r=a.maxRooms[t]={};r.max=n,r.items={},r.items[i]=e.clone()}_r_()}),e&&this.changeOccupancy(e),_r_()}}.init(),_r_()}),_r_()}(),function(){_i_("269:9566529d");var i=window.booking,n=i.require("jquery"),r=n("#roomsForm select.js-b_room_selectbox"),a=i.components&&n("html").component("keyboard"),o=function(){return _i_("269:bcab12c0"),_r_(r.filter(function(){return _i_("269:10bf9bf8"),_r_(0==this.value)}))},s=function(){_i_("269:9eee55ab");var e=o();e&&e.prop("disabled",!1),_r_()};i.when({events:"ready"}).run(function(e){var t;if(_i_("269:079c3e83"),"www"!==i.env.b_site_type)return _r_();n("#rooms_table").on("submit","#roomsForm",function(){_i_("269:f274bdb8"),_i_("269:7afe1b2b"),(t=_r_(r.filter(function(){return _i_("269:9e8aac2b"),_r_(0!=this.value)})))&&t.length&&(o().prop("disabled",!0),a.on("keyup:Escape",s)),_r_()}),n(window).on("pageshow",function(e){_i_("269:c2230ae6"),e.originalEvent.persisted&&s(),_r_()}),s(),_r_()}),_r_()}(),function(n){"use strict";_i_("269:590fec49");var r=n.require("jquery");n.when({events:"ready"}).run(function(e){_i_("269:5e7caf62"),r(".js--hp-rt-just-booked").add(".js--hp-rt-recently-booked").each(function(e,t){_i_("269:17b0bbc7");var i=r(t);n.tools.dom.watchIfBlockVisibleInViewport(i,function(){_i_("269:a20f12c4"),i.addClass("fadeIn"),_r_()}),_r_()}),_r_()}),_r_()}(booking),B.when({events:"ready"}).run(function(e){_i_("269:0e590f5f");var n=e("jquery"),r=e("events");n("#rooms_table").on("click",".rt-show-more-facilities",function(e){_i_("269:709c2d72"),e.preventDefault();var t=n(this),i=t.parent().prev();i.toggle("fast",function(){_i_("269:08b1a3fd"),i.is(":visible")?t.text(B.jstmpl.translations("hp_rt_info_collapse")):t.text(B.jstmpl.translations("hp_rt_loc_more")),r.trigger("ROOM_TABLE:resize"),_r_()}),_r_()}),_r_()}),B.define("formatting/distance",function(e,t,i){_i_("269:ac3fef91");var a={km:1,m:1e3,cm:1e5,mi:.621371192,yd:1093.6133,in:39370.0787,ft:3280.8399,min:12},o={default:{unit_size:"large",unit_type:"distance",round:!1},auto:function(e,t){return _i_("269:8459bbf5"),_r_({unit_size:t>{imperial_gb:1/a.mi,imperial_us:1/a.mi,metric:1}[e]?"large":"tiny",unit_type:"distance",round:!1})},short_distance:{unit_size:"tiny",unit_type:"distance",round:!1},height:{unit_size:"tiny",unit_type:"height",round:!0},distance_rounded:{unit_size:"tiny",unit_type:"distance",round:!0},walking_time:{unit_size:"large",unit_type:"distance",round:!0}},s={distance:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},tiny:{metric:"m",imperial_us:"ft",imperial_gb:"yd"}},length:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},medium:{metric:"m",imperial_us:"ft",imperial_gb:"yd"},small:{metric:"cm",imperial_us:"in",imperial_gb:"in"}},height:{large:{metric:"km",imperial_us:"mi",imperial_gb:"mi"},tiny:{metric:"m",imperial_us:"ft",imperial_gb:"ft"}}};function _(e,t){return _i_("269:7d457b7f"),_r_(Math.ceil(t/e)*e)}return _r_({localize_distance:function(e){_i_("269:7f920f47");e="object"!=typeof e?{distance:e}:e;var t,i=function(e){if(_i_("269:1e26bf83"),"ca"==e.country&&"en"==e.language)return _r_("imperial_us");return _r_("gb"!=e.country&&"us"!=e.country||"en"!=e.language?"metric":"imperial_"+e.country)}(e=$.extend({distance:0,format:"default",language:B.env.b_lang,country:B.env.b_guest_country},e)),n=o[e.format]instanceof Function?o[e.format](i,e.distance):o[e.format];t="walking_time"==e.format&&e.distance<=1.25?"min":s[n.unit_type][n.unit_size][i];var r=e.distance*a[t];return n.round&&(r=Math.ceil(r)),"en"==e.language&&"distance"==n.unit_type&&t=={gb:"yd",us:"ft"}[e.country]&&10<r?r=_(50<r?50:10,r):"auto"==e.format&&("tiny"==n.unit_size&&10<r?r=_(50<r?50:10,r):"large"==n.unit_size&&(r=_(5<r?1:.1,r))),r%1&&(r=parseFloat(r.toFixed(1))),_r_([B.jstmpl.fn.format_number_decimal(r).trim()," ",t].join(""))}})}),B.define("hotel/rooms_table/lightbox/gallery",function(e,t,i){_i_("269:aa7fae81");var s=e("jquery"),n=e("events"),r=e("ga-tracker"),a=!1;function o(e,t){_i_("269:4363658f"),this.slick=null,this.container=e,this.gallery=null,this.slides=[],this.thumbs=[],this.nav=null,this.activeSlide=null,this.nextSlide=null,this.isOldIE="msie"===B.env.b_browser&&B.env.b_browser_version<10,this.toPhotoID=B.env.b_hp_tophotoid||0,this.initSlide=0,this.totalSlides=0,this.defaultFadeSpeed=B.env.hp_gallery_fade_speed,this.fadeSpeedOnHover=300,this.currentSlide=0,this.hoverTimer=0,this.initTimer=0,this.overrides={},this.options={},this.thumbs_options={},this.CLASS_THUMB="js-hotel-thumb",this.CLASS_SELECTED_THUMB="selected_thumb",this.CLASS_GALLERY_CONTROL="hp-gallery-control",this.CLASS_VISIBLE="visible",this.CLASS_HIDDEN="hp-gallery__hidden",this.photosViewed=[],this.setup(),this.initSlickEvents(),this.run(),_r_()}o.prototype.setup=function(){_i_("269:915dcf8c"),this.gallery=this.container.find('[data-gallery=""]'),this.slides=this.gallery.children().filter("div"),this.thumbs=this.container.find("a."+this.CLASS_THUMB),this.nav=this.container.find("."+this.CLASS_GALLERY_CONTROL),this.totalSlides=this.slides.length,this.initSlide=this.toPhotoID?this.slides.index(this.slides.filter('[data-photoid="'+this.toPhotoID+'"]')):0,this.defaultFadeSpeed=this.isOldIE?0:B.env.hp_gallery_fade_speed,this.fadeSpeedOnHover=this.isOldIE?0:300,this.overrides={initialSlide:this.initSlide,speed:this.defaultFadeSpeed,nextArrow:this.nav.filter('[data-nav="next"]'),prevArrow:this.nav.filter('[data-nav="prev"]'),waitForAnimate:!1,autoplaySpeed:5e3},this.options=s.extend({},B.hotel.GallerySettings,this.overrides),_r_()},o.prototype.initCornerNavigation=function(){_i_("269:7637e40d");var r=this.container.find(".hp-gallery");B.env.is_rooms_table_splitter&&!r.length&&(r=this.container.find(".hprt-lightbox-gallery"));var a=this.container.find('[data-nav="next"]'),o=this.container.find('[data-nav="prev"]'),n=function(e){var t,i,n;if(_i_("269:4b965e94"),!e||!e.target)return _r_();if(s(e.target).is(".hp-gallery-control"))return _r_();t=this.container.width(),i=r.offset(),n=((e.pageX||e.originalEvent.touches[0].pageX)-(i?i.left:0))/t*100,B.env.rtl?70<=n?(a.removeClass("h"),o.addClass("h")):(a.addClass("h"),o.removeClass("h")):30<=n?(a.addClass("h"),o.removeClass("h")):(a.removeClass("h"),o.addClass("h")),_r_()}.bind(this);r.on("mousemove",n),r.on("click",function(e){_i_("269:a38314ee");var t=this.container.width(),i=r.offset();30<=((e.pageX||e.originalEvent.touches[0].pageX)-(i?i.left:0))/t*100?(B.env.is_rooms_table_splitter&&B.env.rtl?o.click():a.click(),setTimeout(function(){_i_("269:80bd2db5"),n(e),_r_()},50)):(B.env.is_rooms_table_splitter&&B.env.rtl?a.click():o.click(),setTimeout(function(){_i_("269:80bd2db51"),n(e),_r_()},50)),_r_()}.bind(this)),r.on("mouseout",function(){_i_("269:eaf9c100"),a.removeClass("h"),o.removeClass("h"),_r_()}),_r_()},o.prototype.pauseSlick=function(){_i_("269:67d4feef"),this.slick&&this.gallery&&this.gallery.slick&&this.gallery.slick("slickPause"),_r_()},o.prototype.playSlick=function(){_i_("269:556783bd"),this.slick&&this.gallery.slick&&(this.slick.windowWidth=0,setTimeout(function(){_i_("269:4b1b8136"),s(window).trigger("resize.slick"),_r_()},5),this.gallery.slick("slickPlay")),_r_()},o.prototype.initSlickEvents=function(){_i_("269:773ed4ce");var i=this.gallery;this.gallery.bind("init",function(e,t){_i_("269:775a1552"),this.initControls(),this.updatePhotosViewed(this.initSlide),this.highlightThumb(t.$slides.eq(this.initSlide).attr("data-photoid")),B.env.b_run_hp_gallery_corner_navigation&&this.initCornerNavigation(),this.slick=t,setTimeout(function(){_i_("269:8e2fa703"),n.trigger(B.hotel.Events.RT.LIGHTBOX_GALLERY_READY,t,i),_r_()},5),_r_()}.bind(this)).bind("beforeChange",function(e,t,i,n){_i_("269:c740db24"),this.activeSlide=this.slides.eq(i),this.nextSlide=this.slides.eq(n),"true"===this.nextSlide.attr("data-gallery-pause")?this.gallery.slick("slickPause"):this.gallery.slick("slickPlay"),this.updatePhotosViewed(n),this.highlightThumb(t.$slides.eq(n).attr("data-photoid")),_r_()}.bind(this)),this.gallery.on("setCurrentPhotoById",this.setCurrentPhotoById.bind(this)),_r_()},o.prototype.initControls=function(){_i_("269:0559e89f");var o=this,e=this.container.find('[data-nav="next"]'),t=this.container.find('[data-nav="prev"]');this.gallery.add(this.nav).bind("mouseenter",function(){_i_("269:2b578888"),o.nav.addClass(o.CLASS_VISIBLE),o.gallery.slick("slickSetOption","speed",o.fadeSpeedOnHover),o.gallery.slick("slickPause"),_r_()}).bind("mouseleave",function(){_i_("269:b64ab7d6"),o.nav.removeClass(o.CLASS_VISIBLE),o.gallery.slick("slickSetOption","speed",o.defaultFadeSpeed),o.gallery.slick("slickPlay"),_r_()}),this.nav.bind("click",function(){return _i_("269:77fcf4f9"),_r_(!1)}),this.thumbs.bind("mouseenter click",function(e){_i_("269:6c8418b3");var t,i,n,r=s(this),a="click"===e.type?0:300;clearTimeout(o.hoverTimer),o.hoverTimer=window.setTimeout(function(){_i_("269:787a525d"),t=r.attr("data-photoid"),i=o.slides.filter('[data-photoid="'+t+'"]'),n=o.gallery.slick("getSlick"),o.gallery.slick("slickSetOption","speed",o.fadeSpeedOnHover),o.gallery.slick("slickGoTo",n.$slides.index(i.get(0))),_r_()},a),_r_()}).bind("mouseleave",function(){_i_("269:dbb91330"),o.gallery.slick("slickSetOption","speed",o.defaultFadeSpeed),clearTimeout(o.hoverTimer),_r_()}),this.container.on("mouseenter.pause","div.hp-gallery-thumbs",function(){_i_("269:a76dc8fc"),o.gallery.slick("slickSetOption","autoplaySpeed",1e7),o.gallery.slick("slickPause"),_r_()}).on("mouseleave.pause","div.hp-gallery-thumbs",function(){_i_("269:8230602e"),o.gallery.slick("slickSetOption","autoplaySpeed",B.env.hp_gallery_autoplay_speed),o.gallery.slick("slickPlay"),_r_()}),e.on("click",function(e){_i_("269:ecf3fa9b"),void 0!==e.originalEvent&&r.trackEvent(r.hotelPageTracker,"RT: Lightbox","Click: Image Arrows"),_r_()}),t.on("click",function(e){_i_("269:ecf3fa9b1"),void 0!==e.originalEvent&&r.trackEvent(r.hotelPageTracker,"RT: Lightbox","Click: Image Arrows"),_r_()}),_r_()},o.prototype.highlightThumb=function(e){_i_("269:ecbb00bb"),this.thumbs.filter("."+this.CLASS_SELECTED_THUMB).removeClass(this.CLASS_SELECTED_THUMB),e&&this.thumbs.filter('[data-photoid="'+e+'"]').addClass(this.CLASS_SELECTED_THUMB),_r_()},o.prototype.getThumb=function(e){if(_i_("269:908d872a"),this.slick&&this.gallery&&this.gallery.slick){var t=this.gallery.slick("getSlick").$slides.eq(e).attr("data-photoid");if(t)return _r_(this.thumbs.filter('[data-photoid="'+t+'"]'))}_r_()},o.prototype.updatePhotosViewed=function(e){_i_("269:79d509fc"),void 0!==typeof e&&-1===s.inArray(e,this.photosViewed)&&this.photosViewed.push(e),a||this.photosViewed.length!==this.totalSlides||(B.et.goal("hp_lb_viewed_all_gallery_photos"),a=!0),_r_()},o.prototype.setCurrentPhotoById=function(e,i){_i_("269:00211ce3");var n=this;setTimeout(function(){_i_("269:a1bd6174");var e=n.slides.filter('[data-photoid="'+i+'"]'),t=n.gallery.slick("getSlick");n.gallery.slick("slickGoTo",t.$slides.index(e.get(0))),_r_()},0),_r_()},o.prototype.run=function(){_i_("269:028bec0b"),this.initTimer=window.setTimeout(function(){_i_("269:6dee8e7d"),this.gallery.slick(this.options),_r_()}.bind(this),0),_r_()},i.exports=o,_r_()}),B.ensureNamespaceExists("hotel"),B.hotel.rtLightbox=function(o,e,t,i){_i_("269:8d8c500c");var s=o.require("jquery"),_=o.require("et"),l=o.require("ga-tracker"),c=o.require("trap-focus"),n=o.require("hotel/rooms_table/lightbox/gallery"),h=o.require("rewrite_tt"),r="hp_rt_lightbox_wrapper";r+=" hprt-lightbox--wrapper",r+=" hprt-lightbox--two_column_layout";var a=o.require("querystring");o.env.b_run_droom_hp_rt_lb_new_gallery&&(r+=" hp_rt_lightbox_wrapper_v3",o.env.b_run_droom_hp_increase_lb_photo_res&&(r+=" hp_rt_lightbox_wrapper_v3_hires"),o.env.fe_run_gallery_photo_tags&&(r+=" hp_rt_lightbox_wrapper_v3_tags"),r+=" hp_rt_lightbox_wrapper_v3_two_column");var d,f,u,p=o.events,m=s(e),b=s(t),g=s("body"),v=s("<div></div>",{class:"hp_rt_lightbox_overlay"}),y=s("<div></div>",{class:r}),M=s("<div></div>",{class:"hp_rt_lightbox_content"}).appendTo(y),w=s("<a></a>",{class:"lightbox_close_button",href:"#close-lightbox",html:"&times;"}).appendTo(y),k=o.env.lp_hp_meta_hightlighted_room?s("#rooms_table, .hp__pinned-room"):s("#rooms_table"),B=v.add(w),E=o.env.run_hp_rt_lightbox||o.env.run_hp_rt_lightbox_no_dates,C=!1,S=!1,x=!1,T="",N=!1,I=o.env.rtl,A=function(){if(_i_("269:f6353757"),1<y.height()&&!o.env.is_rooms_table_splitter){var e=y.find(".hprt-lightbox-gallery-container"),t=y.find(".rt_lightbox_description_meta"),i=e.height()-t.height();i<0&&(i*=-1)}(y.height()>m.height()-100||y.find(".js-dr_rt_no_dates").length)&&y.css({position:"absolute",top:m.scrollTop()+20}),_r_()},P=function(e){if(_i_("269:d6ee1242"),!S){var t,i=s(this).attr("href"),n=i.replace("#","#blocktoggle");f=s(n),u=s(n).parent(),M.append(f),s(this).hasClass("hp_rt_see_photos_button")?y.addClass("hp_rt_only_photos"):y.removeClass("hp_rt_only_photos"),N?v.add(y).show(1,A).addClass("visible"):(v.add(y).css({display:"block"}).addClass("visible"),setTimeout(A,0)),j(),T=location.hash.slice("1");var r=(d=i.replace(/#/,"")).replace(/RD/,"");t="room_"+r,location.hash=t;var a=M.find('[data-component="room-lightbox-async"]');a.data("RoomLightboxEventsBinded")||(a.data("RoomLightboxEventsBinded",!0),o.events.on(o.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,function(e){_i_("269:49437ac6"),r==e.roomId&&(setTimeout(A,0),e.success?(O(),M.find(".js-async-room-lightbox-date-picker").removeClass("g-hidden")):S=!0),_r_()})),a.length?a.first().component("room-lightbox-async").load():O(M),f.data("firstRoom")&&_.stage("ZdfbdKUcbWZAPQORHe",1)}return _r_(!1)},O=function(){_i_("269:961747cb"),p.trigger(o.hotel.Events.RT.LIGHTBOX_OPEN,d,M),S=!0,o.hotel.rtLightbox.isLightboxOpen=!0;var e=s('a.togglelink.jqrt[href="#'+d+'"]');if(0<e.length){var t=e.data("room-name-en");t&&l.trackEvent(l.hotelPageTracker,"Hotel: Lightbox open",t)}var i=d.replace(/RD/,"");x||isNaN(i)||(x=!0,s.ajax({method:"POST",dataType:"json",url:"/hotel_lightbox_opened",data:{hotel_id:o.env.b_hotel_id,room_id:i}})),_.stage("BUcJPPBASMffaAJYeCIObTae",1),c.trap(y[0]),y.attr({"aria-hidden":!1}),setTimeout(function(){_i_("269:db53446f");try{if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var e=document.createEvent("CustomEvent");e.initEvent("scroll",!1,!1),window.dispatchEvent(e)}}catch(e){}_r_()},100),_r_()},D=function(e,t){if(_i_("269:d0170d7b"),S){var i,n,r={click:"Click on close button",esc:"Escape key",back:"Browser back button"},a=r[e=e&&"object"==typeof e?"click":e]?r[e]:"other";h.showHideTooltip(null,0,0),y.add(v).css({display:"none"}).removeClass("visible"),f.prependTo(u),S=!1,o.hotel.rtLightbox.isLightboxOpen=!1,y.css({position:"fixed",top:"10%"}),"pushState"in history?history.pushState("",document.title,location.pathname+location.search):(i=g[0].scrollTop,n=g[0].scrollLeft,location.hash=T||"_",g[0].scrollTop=i,g[0].scrollLeft=n),"book_now_click"!==e&&p.trigger(o.hotel.Events.RT.LIGHTBOX_CLOSE,d,M,a,e),l.trackEvent(l.hotelPageTracker,"Hotel: Lightbox closed",a),(t=t&&"function"==typeof t?t:e&&"function"==typeof e?e:null)&&t(),c.release(),y.attr({"aria-hidden":!0})}return _r_(!1)},j=function(){_i_("269:38025434");try{o.maps&&o.maps.map_opened&&o.maps.close()}catch(e){}_r_()},L=function(){_i_("269:454c3ad0"),k.delegate(".togglelink","click",P).delegate("a.smll_roomphoto","click",function(e){return _i_("269:766d5a5b"),e.preventDefault(),function(){_i_("269:1857d7dd");var e=s(this).parents(".rt-room-info").attr("id"),t=s('a[href="#RD'+e+'"]:not(.avoid-trigger-lightbox)');h.showHideTooltip(null,0,0),t.length&&t.trigger("click"),_r_()}.call(this),_r_(!1)}),s("a.b-group-recommendation__togglelink").bind("click",P),o.env.is_rooms_table_splitter||s(".gr-toggle-room-lightbox").bind("click",function(e){_i_("269:91c8aef0"),e.preventDefault();var t=s(this).attr("href"),i=s('#available_rooms .togglelink[href="'+t+'"]');i.length&&i.click(),_r_()}),_r_()};return _r_({isLightboxEnabled:E,isLightboxOpen:S,show:P,close:D,init:function(){_i_("269:3b6a1432"),E&&!C&&(C=!0,g.append(v,y),y.attr({role:"dialog","aria-hidden":!0,"aria-labelledby":"hp_rt_room_gallery_modal_room_name","aria-live":"polite","aria-modal":!0}),M.attr({role:"document"}),w.attr("aria-label",o.jstmpl.translations("a11y_cta_close")),s(window).resize(function(){_i_("269:d3f85c14"),S&&(y.css({position:"fixed",top:"10%"}),A()),_r_()}),I&&y.addClass("lightbox_rtl"),N=function(e){_i_("269:03e963c3");var t=!1,i="Webkit Moz ms O".split(" "),n=document.createElement("div"),r=null;if(e=e.toLowerCase(),n.style[e]&&(t=!0),!1===t){r=e.charAt(0).toUpperCase()+e.substr(1);for(var a=0;a<i.length;a++)if(void 0!==n.style[i[a]+r]){t=!0;break}}return _r_(t)}("transition"),_i_("269:1811ed6f"),L(),B.bind("click",D),b.bind("keyup",function(e){_i_("269:1a0b7ebf"),27===(e||window.event).keyCode&&D("esc"),_r_()}),m.bind("hashchange",function(){_i_("269:a4eca22e"),-1===location.hash.slice(1).indexOf("room_")&&S&&D("back"),_r_()}),_r_(),p.on(o.hotel.Events.RT.LIGHTBOX_OPEN,function(e){if(_i_("269:a1bf1bab"),o.env.b_run_droom_hp_rt_lb_new_gallery){var t=M.find(".hprt-lightbox-gallery-container");t.hasClass("slicked")?o.events.trigger(o.hotel.Events.RT.LIGHTBOX_GALLERY_READY,t.find("[data-gallery]").slick("getSlick")):t.length&&(t.addClass("slicked"),new n(t))}_r_()}),p.trigger(o.hotel.Events.RT.LIGHTBOX_READY),p.on(o.hotel.Events.RT.LIGHTBOX_GALLERY_READY,function(){_i_("269:4b6c18ed"),M.find(".slick-list").removeAttr("tabindex").removeAttr("aria-live"),_r_()})),setTimeout(function(){_i_("269:161b2c18"),function(){_i_("269:99964000");var e=a.parseUrl(location.href).query.activeTab;if(1==location.hash.indexOf("room")&&(e=location.hash.slice(1)),!e)return _r_();var t=e.match(/room_([0-9]*)_?.*/);if(!t||t.length<2||!t[1])return _r_();var i=t[1];s('.togglelink[href="#RD'+i+'"]').click(),_r_()}(),_r_()},500),_r_()}})}(window.booking,window,document),function(){_i_("269:d8c6d779");var n,r=window.booking,a=r.require("jquery");r.ensureNamespaceExists("hotel"),r.hotel.roomTable=r.hotel.roomTable||{},r.hotel.roomTable.highlightRoom=function(e){if(_i_("269:ff901095"),"string"!==a.type(e)||"RD"!==e.substring(0,2))return _r_();e=e.substring(2);var t=n.find("#"+e).parents(".rt__room-detail"),i="rt__room-detail--highlighted";t.addClass(i),setTimeout(function(){_i_("269:d2304754"),t.removeClass(i),_r_()},500),_r_()},r.when({events:"ready"}).run(function(e){if(_i_("269:0885811f"),!r.feature&&!r.feature.transition||!r.env.b_has_maxotel_rooms)return _r_();n=a("#rooms_table"),_i_("269:2f62be09"),r.events.on(r.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i,n){_i_("269:2bc8c904"),r.hotel.roomTable.highlightRoom(e),_r_()}),_r_(),_r_()}),_r_()}(),B.ensureNamespaceExists("hotel"),B.hotel.rtGallery=function(e){_i_("269:55a05568");var t=e.require("jquery"),i=e.events,n=e.env.b_run_hp_rt_lightbox_image_gallery,r=t("div.hp_rt_lightbox_content"),a=null,o=null,s=null,_=null,l=0,c=null,h=function(){_i_("269:7deb7621"),a=r.find("ul.rt-lightbox-photo-gallery"),o=a.find("li"),_=o.length,s=r.find("span.rt-lightbox-gallery-controls"),_<=3?s.addClass("disabled"):s.removeClass("disabled"),c||function(){_i_("269:a2241aad");var e=_?o.first():null;c=e&&e.length?e.width()+1:0,_r_()}(),_r_()},d=function(e){_i_("269:f347d48b");var t=e*c;a.css({marginLeft:-t}),l=e,_r_()},f=function(){_i_("269:b5b586a1");var e=l+1;_-2<=e&&(e=0),d(e),_r_()},u=function(){_i_("269:5f724ed9");var e=l-1;e<0&&(e=_-2-1),d(e),_r_()};i.on("rt-lightbox-ready",function(){_i_("269:5b310825"),n&&(r=t("div.hp_rt_lightbox_content"),i.on("rt-lightbox-open",h),r.delegate("span.rt-lightbox-gallery-prev","click",u).delegate("span.rt-lightbox-gallery-next","click",f)),_r_()}),_r_()}(B),function(i){_i_("269:a73a15ec");var n=i.require("jquery");i.ensureNamespaceExists("hotel"),i.hotel.rtLightbox.gallery={_currentId:!1,_minId:!1,_maxId:!1,_rtl:!!i.env.rtl,goTo:function(e){_i_("269:ab3ad32e"),n(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__img[data-order="+e+"]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"),n(".js-rt_lightbox_gallery_v2__thumb[data-order="+e+"]").addClass("selected"),this._currentId=e,_r_()},goToPhoto:function(e){_i_("269:398c9595"),n(".js-rt_lightbox_gallery_v2__img").removeClass("js-rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__img[data-id="+e+"]").addClass("js-rt_lightbox_gallery_v2__current").addClass("rt_lightbox_gallery_v2__current").removeClass("rt_lightbox_gallery_v2__hidden"),n(".js-rt_lightbox_gallery_v2__thumb").removeClass("selected"),n(".js-rt_lightbox_gallery_v2__thumb[data-id="+e+"]").addClass("selected"),this._currentId=n(".js-rt_lightbox_gallery_v2__img[data-id="+e+"]").data("order"),_r_()},prev:function(){var e;_i_("269:14a4a448"),e=1===this._currentId?this._maxId:this._currentId-1,this.goTo(e),_r_()},next:function(){var e;_i_("269:08ec0355"),e=this._currentId===this._maxId?this._minId:this._currentId+1,this.goTo(e),_r_()},addBinds:function(){_i_("269:396de8b0");var t=this;i.events.on("rt-lightbox-open",function(){_i_("269:0a162841"),t._currentId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__current").data("order")),t._minId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:first").data("order")),t._maxId=parseFloat(n(".hp_rt_lightbox_content .js-rt_lightbox_gallery_v2__thumb:last").data("order")),t.goTo(1),_r_()}),n(document).keyup(function(e){_i_("269:ffcc0889"),37===e.keyCode?t.prev():39===e.keyCode&&t.next(),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__thumb",function(e){_i_("269:bc5e1767"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:thumb:click"),t.goTo(parseFloat(n(this).data("order"))),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__gallery_arrows_left",function(e){_i_("269:c9cfe22d"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:left:click"),t._rtl?t.next():t.prev(),_r_()}),n(document).on("click",".js-rt_lightbox_gallery_v2__gallery_arrows_right",function(e){_i_("269:540ccf98"),e.preventDefault(),i.events.trigger("hp:rt:room:lightbox:gallery:right:click"),t._rtl?t.prev():t.next(),_r_()}),_r_()},init:function(){_i_("269:8699bfac"),this.addBinds(),_r_()},initElse:function(){}},i.env.b_run_hp_rt_lightbox_image_gallery_v2&&i.hotel.rtLightbox.gallery.init(),_r_()}(booking),$(B.hotel.rtLightbox.init),B.define("hotel/review-list",function(e,t,i){_i_("269:75850776");var a=e("et"),o=e("jquery"),s=e("hotel/reviews"),_=e("announce-to-screen-reader"),l="adUAVYCOTdCNTVXBUHcWCHT",c=a.track(l),n="OTfdASFadUAVYCOTdCNIILZYfHcWKYbaORe",r=a.track(n);i.exports={isInit:!1,scrollArea:"#hp-reviews-sliding .sliding-panel-widget-scrollable",placeholder:"#review_list_page_container",container:"#review_list_score_container",typeSelect:"#reviewer_type_filter",scoreSelect:"#review_score_filter",sortSelect:"#review_sort",pageLinks:".c-pagination .bui-pagination__item a",loader:".review_list_loader, .reviews_placeholder_wrapper",errorMessage:"#reviews-error-message",wrapper:".review_list_container.review-list--clean",resetBtn:"[data-js-clear-filters-btn]",clearAllButton:"[data-js-reviews-empty-reset]",init:function(){_i_("269:3b264e51"),this.bindEvents(),B.hotel.hashedTabs&&B.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&(this.doLoadReviews(),0<o("#review_list_score").length&&a.stage("adUTWALOLOLOOTdCNVdBDTKe",1)),-1<window.location.hash.indexOf("tab-reviews-business_traveller")&&s.setState({type:"business_traveller"}),_r_()},bindEvents:function(){_i_("269:e254064b"),B.events.on("reviews-tab-opened",this.handleTabOpen.bind(this)),s.on(s.events.LOAD_BEFORE,this.handleLoadBefore.bind(this)),s.on(s.events.LOAD_SUCCESS,this.handleLoadSuccess.bind(this)),s.on(s.events.LOAD_ERROR,this.handleLoadError.bind(this)),o(this.container).delegate(this.resetBtn,"click",this.handleResetFilters.bind(this)),o(this.container).delegate(this.typeSelect,"change",this.handleTypeChange.bind(this)),o(this.container).delegate(this.scoreSelect,"change",this.handleScoreChange.bind(this)),o(this.container).delegate(this.sortSelect,"change",this.handleSortChange.bind(this)),o(this.container).delegate(this.placeholder+" "+this.pageLinks,"click",this.handleLinkClick.bind(this)),o(this.container).delegate(this.clearAllButton,"click",this.handleClearAllBtn.bind(this)),_r_()},handleClearAllBtn:function(e){_i_("269:68738980"),e.preventDefault(),s.load({lang:[],offset:0,score:[],sort:"",text:"",topics:[],type:["total"]}),_r_()},handleResetFilters:function(){_i_("269:db48240f"),o.cookie("hpRevFil",null,{path:"/"}),s.load({type:["total"],sort:null,score:null,offset:0,topics:[],lang:[]}),a.customGoal(l,1),_r_()},handleTabOpen:function(e,t){_i_("269:45984cdf"),t=t||e.tab,(!this.isInit||B.env.reviewsPrefiltered||B.env.reviewsFilteredByFood||B.env.reviewsFiltersShouldBeReset)&&(this.doLoadReviews(),0<o("#review_list_score").length&&(a.stage("adUTWALOLOLOOTdCNVdBDTKe",1),a.stage(n,1))),_r_()},doLoadReviews:function(){_i_("269:c42ded66");var e=JSON.parse(o.cookie("hpRevFil")||null);e&&1!=o("[data-js-reviewlist-is-empty]").length?s.load(c?e:null,{cookie:!0}):s.load(),_r_()},handleTypeChange:function(e){_i_("269:f0e6fd26"),e&&e.preventDefault();var t=[o(this.typeSelect).val()||""];s.load({type:t,offset:0},{announceFiltering:!0}),a.stage(l,2),_r_()},handleScoreChange:function(e){_i_("269:40099440"),e&&e.preventDefault();var t=o(this.scoreSelect).val()||"";s.load({score:[t],offset:0},{announceFiltering:!0}),a.stage(l,2),_r_()},handleSortChange:function(e){_i_("269:59c21fb3"),e&&e.preventDefault();var t=o(this.sortSelect).val()||"";s.load({sort:t,offset:0},{announceFiltering:!0}),a.stage(l,2),_r_()},handleLoadBefore:function(e,t){_i_("269:a9ed7533"),o(this.loader).removeClass("hideme"),o(this.errorMessage).hide(),o(this.placeholder).hide(),o(this.wrapper).show(),this.cachedA11yFilteringMessage()&&_.announce(this.cachedA11yFilteringMessage()),_r_()},handleLinkClick:function(e){_i_("269:463e5929"),e.preventDefault();var t=o(e.currentTarget).attr("href");s.loadUrl(t,{announceFiltering:!0}),_r_()},handleLoadSuccess:function(e,t,i){_i_("269:b17f22c9"),o(this.placeholder).html(null),o(this.placeholder).html(t),o(this.placeholder).show(),this.scrollToContent(),o(this.loader).addClass("hideme"),o(this.placeholder).loadComponents(),window.BUI&&o(this.wrapper).find("[data-bui-component]").map(function(e,t){_i_("269:3a6991a7"),t&&window.BUI.initComponents(t),_r_()}),a.initAttributesTracking(o(this.placeholder)),this.matchSelectorsWithState(),o(window).trigger("scroll"),this.cachedA11yLoadedMessage()&&_.announce(this.cachedA11yLoadedMessage()),a.stage(l,1);var n=s.getState(),r={};n.sort.length&&(r.sort=n.sort),n.score.length&&(r.score=n.score),n.topics.length&&(r.topics=n.topics),n.lang.length&&(r.lang=n.lang),n.type[0]&&"total"!=n.type[0]&&(r.type=n.type),o.cookie("hpRevFil",null,{path:"/"}),(r.type||r.sort||r.score||r.lang||r.topics)&&o.cookie("hpRevFil",JSON.stringify(r),{expires:7,path:"/"}),i&&i.cookie&&(a.stage(l,3),c&&o("[data-js-clear-filters-wrapper]").show()),_r_()},handleLoadError:function(e,t){_i_("269:cd3ac2dc"),o(this.loader).addClass("hideme"),o(this.placeholder).show(),o(this.errorMessage).show(),o(this.wrapper).hide(),_r_()},scrollToContent:function(){if(_i_("269:9fb090ac"),!this.isInit)return this.isInit=!0,_r_(!0);window.setTimeout(o.proxy(function(){_i_("269:0fde8c7b");var e=o(".bui-panel-group.bui-panel-group--filters-wrapper").height()||0;e+=o(".bui-panel-group.bui-panel-group--reviewlist").height()||0,e+=o(".review_list_score_container.scores_full_layout").height()||0,o(this.scrollArea).scrollTop(e/2),o(this.scrollArea).stop().animate({scrollTop:e},500,"easeOutExpo"),r&&(a.stage(n,2),o(this.placeholder).find(".review_list:first").attr("tabindex",-1).focus()),_r_()},this),10),_r_()},matchSelectorsWithState:function(){_i_("269:a5a84e09");var e=s.getState();o(this.typeSelect).val(e.type),o(this.scoreSelect).val(e.score[0]||""),o(this.sortSelect).val(e.sort),_r_()},cachedA11yLoadedMessage:function(){return _i_("269:6d98917d"),this.loadedAnnounce||(this.loadedAnnounce=o("ul.review_list").data("js-a11y-loaded")),_r_(this.loadedAnnounce)},cachedA11yFilteringMessage:function(){return _i_("269:ace324c6"),this.filteringAnnounce||(this.filteringAnnounce=o("ul.review_list").data("js-a11y-filtering")),_r_(this.filteringAnnounce)}},_r_()}),B.when({events:"ready"}).require(["hotel/review-list"],function(e){_i_("269:2448170b"),e.init(),_r_()}),function(t){_i_("269:92ad86da");var i=t.require("jquery"),n=function(){_i_("269:130b23d7");var e=t.env.b_hotel_id;i.ajax({method:"GET",url:"/has_seen_review_list",data:{hotel_id:e},error:function(e){},success:function(){}}),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:f949a1cb"),_i_("269:7ddbf135"),t.events.on("hotel:reviewlist:success:tab",n),_r_(),_r_()}),_r_()}(window.booking),function(t){_i_("269:15ba39b7");var s=t.require("jquery"),i=t.require("hotel/reviews"),e={isInit:!1,dirty:!1,modaleInputs:"#reviews_filters_lang_modal [data-js-review-language]",modalButton:"#reviews_filters_lang_modal_button",init:function(){_i_("269:94750647");var e=this;this.modal=window.BUI.createInstance("Modal",document.createElement("div"),{id:"reviews_filters_lang_modal",onBeforeOpen:function(){_i_("269:f138186e"),e.dirty=!1,_r_()},onAfterOpen:function(){_i_("269:947271b1"),s(e.modaleInputs).click(function(){_i_("269:9e2e9f93"),e.dirty=!0,_r_()});var a=i.getState().lang||[];s(e.modaleInputs).each(function(e,t){_i_("269:9387a129");var i=s(t),n=i.val(),r=0<=a.indexOf(n);i.prop("checked",r),_r_()}),_r_()},onBeforeClose:function(){if(_i_("269:fd7c2e7c"),!e.dirty)return _r_(!0);var r=[];s(e.modaleInputs).filter(":checked").each(function(e,t){_i_("269:0bd8edc1");var i=s(t).val(),n=r.indexOf(i);i&&n<0&&r.push(i),_r_()}),e.dirty=!1,i.load({lang:r,offse:0}),t.et.customGoal("adUAVYCdKNKNKZaFFEZICFLcMLaUC",3),n.updateInputState(r),_r_()}}),this.modal.mount(),_r_()},open:function(){_i_("269:c3cc9363"),this.modal.open(),_r_()}},n={pageInputs:"[data-js-review-language].reviews_filters_language_main",modalButton:"#reviews_filters_lang_modal_button",init:function(){_i_("269:38481e91"),e.init(),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:18242491"),s(this.modalButton).on("click",function(){_i_("269:caa3e56d"),e.open(),_r_()}),s(this.pageInputs).on("change",this.onPageInputChange.bind(this)),i.on(i.events.LOAD_AFTER,this.matchSelectedWithState.bind(this)),_r_()},matchSelectedWithState:function(){_i_("269:cc5b5560");var e=i.getState().lang||[];this.updateInputState(e),_r_()},updateInputState:function(a){_i_("269:63043827"),s(this.pageInputs).each(function(e,t){_i_("269:c31b6574");var i=s(t),n=i.val(),r=0<=a.indexOf(n);i.prop("checked",r),_r_()}),_r_()},onPageInputChange:function(e){_i_("269:71ae5486");var o=i.getState().lang||[];s(this.pageInputs).each(function(e,t){_i_("269:3b843ea4");var i=s(t),n=i.val();if(!n)return _r_(!0);var r=i.is(":checked"),a=o.indexOf(n);r&&a<0&&o.push(n),!r&&0<=a&&o.splice(a,1),_r_()}),i.load({lang:o,offset:0}),t.et.customGoal("adUAVYCdKNKNKZaFFEZICFLcMLaUC",3),_r_()}};t.when({events:"ready"}).run(function(e){_i_("269:a4fc650a"),n.init(),_r_()}),_r_()}(window.booking),function(t){_i_("269:2587ae0f");var r=t.require("jquery"),i=r("#review_list_score_container").find(".score_bar_value"),n=function(e){_i_("269:eaf81f36"),e&&e.each||(e=i),e.each(function(e,t){_i_("269:307dd1a2");var i=r(t),n=i.data("score")+"%";i.animate({width:n}),_r_()}),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:e3577036"),_i_("269:e5523c99"),t.events.on("reviews-tab-opened",n),_r_(),t.hotel.hashedTabs&&t.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&window.setTimeout(n,400),_r_()}),_r_()}(window.booking),function(t){_i_("269:7397f3db");var e=t.require("jquery"),i=e("#guidelines_content"),n=function(e){_i_("269:dd33df0e"),e.preventDefault(),t.lightbox.show(i),i.focus(),function(){_i_("269:e1ecf883");var e=t.require("ga-tracker");e.trackEvent(e.clickTracker,"Action: reviewlist","Review guidelines open"),_r_()}(),_r_()},r=function(){_i_("269:455ac795"),e(".js-guidelines_open_link").bind("click",n),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:9cd55e2c"),r(),t.events.on("REVIEWS:fetched",r),_r_()}),_r_()}(window.booking),function(t){_i_("269:4f951b9d");var n=t.require("jquery"),r=t.lightbox,e=function(){_i_("269:459bd5f1");var e=n(this).find("img").data("image"),i=document.createElement("img");i.onload=function(){_i_("269:d96b0679"),r.show(i,{customWrapperClassName:"review_photo_lightbox",positionAfterCallBack:function(){_i_("269:e2008a73");var e=parseInt(i.width,10)+48,t=parseInt(i.height,10)+48;n(".modal-wrapper").css({width:e,height:t,left:Math.max(0,n(window).width()/2-e/2)}),_r_()}}),_r_()},i.src=e,_r_()},i=function(){_i_("269:6471278b"),n(".review_item_photo").bind("click",e),_r_()};t.when({events:"ready"}).run(function(e){_i_("269:47d4021e"),_i_("269:638bf7bd"),"reviews_hotel"!==t.env.b_action&&"reviews_review"!==t.env.b_action||i(),"hotel"===t.env.b_action&&(t.events.on("REVIEWS:fetched",function(){_i_("269:1f58c0c4"),i(),_r_()}),t.events.on("RECENT_REVIEWS:fetched",function(){_i_("269:1f58c0c41"),i(),_r_()}),t.hotel.hashedTabs&&t.hotel.hashedTabs.getVisibleTab().is("#blockdisplay4")&&window.setTimeout(function(){_i_("269:51c48f4d"),i(),_r_()},250)),_r_(),_r_()}),_r_()}(window.booking),function(e){_i_("269:382859b8");var t=e("sliding-panel-model"),i=e("events"),n=e("jquery"),r=B.hotel.hashedTabs,a=t.get("hp-reviews-sliding");n(window).hashchange(function(){if(_i_("269:6ed0eeae"),!a.isPanelShown())return _r_();var e=window.location.hash.slice(1);"tab-reviews"!==e&&"tab-4"!==e&&a.hide(),_r_()}),i.on("sliding-panel/on:hide",function(e){_i_("269:caa937e7"),i.trigger("open-tab",{tab:"main"}),_r_()}),a.on(t.EVENTS.show,function(){}),r.getVisibleTab().is("#blockdisplay4")&&a.show(),i.on("reviews-tab-opened",function(){_i_("269:b1ab4391"),a.show(),_r_()}),i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(){_i_("269:a3e65c3b"),t.hideAll(),_r_()}),_r_()}(B.require),B.define("atlas-tools/public-map-api",function(){return _i_("269:c56389e6"),_r_(function(t){_i_("269:97b79eb4");var i=null,n=[],r=null;function e(e){return _i_("269:2734888f"),_r_(function(){_i_("269:aac7c079"),i?i[e].apply(i,arguments):n.push({method:e,args:Array.prototype.slice.call(arguments)}),_r_()})}return _r_({init:function(e){if(_i_("269:4553ef72"),r)return _r_(r);return r=t(e).then(function(e){_i_("269:0e36a606"),i=e,r=null,_i_("269:970a0174"),n.forEach(function(e){_i_("269:38f6b451"),i[e.method].apply(i,e.args),_r_()}),n=[],_r_(),_r_()}).catch(function(){_i_("269:f98fe1d4"),r=null,_r_()}),_r_(r)},isInitialized:function(){return _i_("269:7e9f9693"),_r_(!!i)},getState:function(){return _i_("269:d5ce6605"),_r_(this.isInitialized()?i.getState():{})},trigger:function(e,t){return _i_("269:02edc89b"),_r_(this.isInitialized()?i.trigger(e,t):null)},on:e("on"),off:e("off"),once:e("once")})})}),B.define("hotel/map",function(r){_i_("269:e12eabac");var a=B.require("promise"),o=r("async-loader"),e=r("atlas-tools/public-map-api"),s=r("trap-focus");return _r_(e(function(i){_i_("269:82cc033c");var e=o.load({js:"cn"===B.env.b_guest_country?"async_atlas_v2_cn_js":"async_atlas_v2_non_cn_js"}),t=o.load({js:"async_hp_atlas_map_js",css:"async_atlas_css"}),n=document.querySelector(".b_map_container_fixed");return n&&s.trap(n,null,!0),_r_(a.all([e,t]).then(function(){_i_("269:5f9fc64d");var e,t=[];return i.atlasBbox?t=(e=new(B.require("Atlas/geo.bounds"))(i.atlasBbox)).getCenter().toArray():i.latlng&&(t=i.latlng.split(",")),Object.assign(B.atlas,r("atlas/core.tracking")),_r_(B.require("map/map_atlas_hp").init({coords:t,bbox:e}))}).catch(function(e){throw _i_("269:58534a99"),e}))}))}),B.define("Atlas/pin-favicon",[],function(){_i_("269:80ebfae2");var i=$('link[rel="shortcut icon"]').first().attr("href")+"#f={counter}",n="//q-cf.bstatic.com/static/img/map-pin-favicon/b96539b4bc3662d46832d3d778308b00ef283a95.png#f={counter}",r=0;function e(e){_i_("269:99c5a648");var t=(e?n:i).replace("{counter}",r++);$('link[rel="shortcut icon"]').first().attr("href",t),_r_()}return _r_({addPin:function(){_i_("269:68195cac"),e(!0),_r_()},removePin:function(){_i_("269:4c520498"),e(!1),_r_()}})}),B.when({events:"ready"}).run(function(t,e,i){_i_("269:b434dbf3");var n="map_opened",r="auto_open",a=(B.require("server-data"),B.require("events")),o=B.require("Atlas/util-env"),s=(B.require("async-loader"),B.require("Atlas/pin-favicon")),_=(t=B.require("jquery"),B.require("hotel/map")),l=t(document),c=t(".map_full_overlay__wrapper"),h=t("body");function d(){_i_("269:2137f9e2"),location.hash="map_closed",_r_()}function f(e){return _i_("269:734bb954"),s.addPin(),c.addClass("b_map_container_fixed").css({display:"block"}),a.trigger("hp:main_map_opened"),h.css("overflow","hidden"),_.on("close",function(){_i_("269:fd8d0cb9");var e=document.querySelector(".show_map");e&&(e.focus(),e.blur()),_r_()}),_r_(_.init(e))}function u(){_i_("269:523e33f5");var e=new RegExp("(?:"+n+"-)(.+)","i").exec(location.hash)||[];e.length?e[1]===r?f({atlasBbox:o.get("hotelBbox")}):f(t("#"+e[1]).data()):(_i_("269:18224d8c"),c.css({display:"none"}),h.css("overflow","auto"),s.removePin(),_r_(),a.trigger("hp:main_map_closed",{source:"hash"})),_r_()}t(window).on("hashchange",u),l.on("keyup",function(e){_i_("269:9c6d8d84"),27===e.which&&c.is(":visible")&&(d(),a.trigger("hp:main_map_closed",{source:"esc"})),_r_()}),h.find("#close_map_lightbox, .map_full_overlay__close").on("click",function(){_i_("269:e642b2ef"),d(),_r_()}),o.get("triggerAutoOpen")?location.hash=n+"-"+r:u(),_r_()}),B.define("hotel/tpi/data-api",function(e,t,i){_i_("269:c02e0c11");var n,r,h="PPXGFRURURYAQDFO",d=e("et"),f=e("fragment"),a=e("promise");function u(e,t){return _i_("269:765694c3"),"www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.customGoal(h,1),_r_($.ajax({type:"POST",url:e,data:JSON.stringify(t),cache:!1,xhrFields:{withCredentials:!0},dataType:"json",contentType:"application/json; charset=utf-8",timeout:2e4}))}function p(e){_i_("269:a0cb4c70"),B.squeak&&B.env.wholesaler_configuration.tpi_track_ajax_failures&&e&&B.squeak(e),_r_()}function m(e,t){return _i_("269:c6ffc0a4"),_r_(function(){return _i_("269:084bf321"),_r_(e.apply(t,arguments))})}function b(){return _i_("269:8d2c6544"),_r_((new Date).getTime())}function g(e,t){return _i_("269:7dd93ba2"),_r_(t-e)}i.exports={run:function(o,s,_,l,e){_i_("269:7965254d");var c=(B.env||{}).wholesaler_configuration||{};return r&&e&&(r.should_abort=1,n=void 0),n||(n=new a(m(function(i,n){if(_i_("269:258ee39a"),o&&s&&_&&l||n("Error: Missing args, avData, avData, frgName and frgData  are required"),this.time_before_carrier_call=b(),"www"===B.env.b_site_type&&"hotel"===B.env.b_action&&B.env.wholesaler_configuration.worker_url&&B.env.wholesaler_configuration.decision_url&&B.env.b_fragment_url_json&&d.track(h)){var e=B.env.b_fragment_url_json.split("?"),t=1<e.length?e[1]:"",r=Object.assign({},s),a=Object.assign({},l);a.exps=B.env.wholesaler_configuration.tpi_exps||{},r.url=o,r.worker_token=B.env.wholesaler_configuration.worker_token,r.frag_url=B.env.wholesaler_configuration.decision_url+"?"+t,r.frag_req=a,u(B.env.wholesaler_configuration.worker_url,r).then(m(function(e){_i_("269:8df3dcdc"),this.time_after_fragment_response=b(),d.goalWithValue("js_tpi_www_soa_time_to_response",g(this.time_before_carrier_call,this.time_after_fragment_response)),this.should_abort?n("frg-aborted"):e&&e.data?(d.stage(h,2),i(e.data)):n("frg-error"),_r_()},this),function(e,t,i){_i_("269:8fabdd8c"),t&&"timeout"===t?(d.customGoal(h,2),p(c.tpi_av_timeout_squeak_name)):(d.customGoal(h,3),p(c.tpi_av_squeak_name)),n("av-error"),_r_()})}else u(o,s).then(m(function(e){if(_i_("269:04ee9f2d"),this.time_after_carrier_call=b(),this.should_abort)return n("av-aborted"),_r_();var t=Object.assign({},l,{rooms:e,exps:B.env.wholesaler_configuration.tpi_exps||{}});f.call(_,t).then(m(function(e){_i_("269:4e23095d"),this.time_after_fragment_response=b(),"www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.goalWithValue("js_tpi_www_soa_time_to_response",g(this.time_before_carrier_call,this.time_after_fragment_response)),this.should_abort?n("frg-aborted"):e?("www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.stage(h,2),i(e)):n("frg-error"),_r_()},this),function(e){_i_("269:7ee51c93"),"www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.customGoal(h,3),p(c.tpi_frg_squeak_name),n("frg-error"),_r_()}),_r_()},this),function(e,t,i){_i_("269:fea3040f"),t&&"timeout"===t?("www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.customGoal(h,2),p(c.tpi_av_timeout_squeak_name)):("www"===B.env.b_site_type&&"hotel"===B.env.b_action&&d.customGoal(h,3),p(c.tpi_av_squeak_name)),n("av-error"),_r_()});_r_()},r={}))),_r_(n)}},_r_()}),B.define("hotel/tpi/postproc-api",function(e,t,i){_i_("269:cca324dc"),i.exports={send_postproc_request:function(e){_i_("269:97faa462");var t="";"object"==typeof e?(e.forEach(function(e){_i_("269:1bdb3ed6"),t+=e+"_",_r_()}),t=t.substring(0,t.length-1)):t=""+e;var i=B.env.b_countrycode;$.getJSON("/tpi_postproc?hotel_ids="+t+"&cc="+i+"&src=sr",null,function(){}),_r_()}},_r_()}),B.define("component/tpi/placeholder-loader",function(e,t,i){_i_("269:3576f316");var n=e("jquery"),r=n(".tpi--cst-placeholder-source");function a(e){_i_("269:5c5da1e2"),e.find('[data-placeholder="1"]').each(function(e){_i_("269:ca51c9e6"),function(e){_i_("269:f58e2041");var t,i=e.data("placeholderSource"),n=e.data("noClone");i&&(t=r.find("#"+i)),t.length&&(n?e.replaceWith(t.detach()):e.replaceWith(t.clone())),_r_()}(n(this)),_r_()}),_r_()}function o(){_i_("269:25c0dd25"),a(this),_r_()}t.loadPlaceholders=a,t.registerJQuery=function(){_i_("269:d1d50807"),n.fn.loadTPIPlaceholders=o,_r_()},_r_()}),function(){_i_("269:2d0d906f");var u=B.require("et"),p=B.require("jquery"),o=B.require("promise"),i=p.Deferred(),s=new o(function(e,t){_i_("269:f47983c0"),i.then(function(){_i_("269:06630aca"),e(),_r_()},function(){_i_("269:ac180d96"),t(),_r_()}),_r_()});B._tpiCSTDeferred=i,B.when({action:"hotel",condition:1==B.env.b_bookings_owned&&B.env.wholesaler_configuration&&B.env.wholesaler_configuration.url&&B.env.wholesaler_configuration.b_bbasic_availability_api_request,events:"ready"}).run(function(e){_i_("269:f2438113");var l=e("jstmpl"),t=e("hotel/tpi/data-api"),c=e("hotel/tpi/postproc-api"),i=e("component/tpi/placeholder-loader"),h=e("component/tpi/room_block/block_v2"),d=e("component/tpi/room_block/tmpl_data"),n="0"!==B.env.wholesaler_configuration.b_3pi_thirdparty_api_failed,r="1"===B.env.wholesaler_configuration.b_tpi_hide,f=p(".hprt-table > tbody"),a=function(){_i_("269:8623923e");var e=p(l("tpi_roomblock").render({show_placeholders:!0})),t=new h;f.prepend(e),t.prepare({el:e[0],$el:e}),t.init&&t.init({showNoResultsFound:!0}),p(window).resize(),_r_()};if(r)return _r_(!0);if(n)return p(function(){_i_("269:a5eee273"),s.then(a),_r_()}),_r_(!0);i.registerJQuery(),o.all([t.run(B.env.wholesaler_configuration.url,B.env.wholesaler_configuration.b_bbasic_availability_api_request,"wholesaler.decide_winner_rooms",B.env.wholesaler_configuration.b_bbasic_decision_fragment_request),s]).then(function(e){_i_("269:e7dd6358");var t,a,i,n=e[0],r=B.env.b_hotel_id,o=n[r],s=l("tpi_roomblock"),_=n.exps||{};o&&(Array.isArray(o)?(t=[],o.forEach(function(e){_i_("269:c97cf4d3"),t.push(e.min_room_block),_r_()})):t=[o.min_room_block],a=t.length,i=t.reverse().map(function(e,t){_i_("269:af75c4ea");var i=new h,n=Object.assign({room_block:e,exps:_,booking_rooms_facilities:B.env.wholesaler_configuration.b_booking_rooms_facilities},d),r=p(s.render(n));return f.prepend(r),i.prepare({el:r[0],$el:r}),i.init&&i.init(e,_,a-t-1),_r_(i)}),p(window).resize(),p(document).ready(function(){_i_("269:1dfe5cdf"),h.bindToRoomsTable(i.map(function(e){return _i_("269:757d84c5"),u.customGoal("PPXGFRURURYAQDFO",4),_r_(e.mappedRoomData)})),c.send_postproc_request(r),_r_()})),_r_()}).catch(function(){}),_r_()}),_r_()}(),_i_("269:fbd0027c"),B.when({events:"ready"}).run(function(o){_i_("269:a4b58f14");var s=o("jquery");!function(){_i_("269:25016e2d");var e,t,i="tpi_counters__hotel_id__"+B.env.b_hotel_id,n=Date.now(),r={};if(s.cookie(i)&&(r=JSON.parse(s.cookie(i))),r.timestamp&&n-r.timestamp<36e5){var a=o("et");"book1"==r.last_seen?(r.last_seen="hp1",a.goal("bbasic_bp_hp_1")):"book2"==r.last_seen?(r.last_seen="hp2",a.goal("bbasic_bp_hp_2")):"book3"==r.last_seen&&(r.last_seen="hp3",a.goal("bbasic_bp_hp_3")),r.timestamp=n,e=r,t=i,_i_("269:b723ffd0"),s.cookie(t,JSON.stringify(e),{expires:1,path:"/",domain:".booking.com"}),_r_()}_r_()}(),_r_()}),_r_(),B.define("dismiss-item",function(e,t,i){_i_("269:4fa1a5b8");var n=e("jquery");i.exports=function(e){if(_i_("269:ffcf03b7"),!e)throw new Error("param itemId is required");return _r_(n.ajax({url:"/dismiss_item",type:"POST",data:{item_id:e}}))},_r_()}),B.define("component/dismissible-item/block",function(e,t,i){_i_("269:1d6e38f0");var n=e("component"),r=e("dismiss-item"),a=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:60262eac"),this.options=a(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),this._bindEvents(),_r_()},_bindEvents:function(){_i_("269:bc2d0b27"),this.$el.on("click",".js-close",function(){_i_("269:5fb0e455"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){return _i_("269:40f33ccd"),_r_(r(this.options.itemId))},hide:function(){_i_("269:9a2d9335"),this.$el.hide(),_r_()}}),_r_()}),B.define("component/dismissible-item/on-init",function(e,t,i){_i_("269:8d48d686");var n=e("component"),r=e("dismiss-item"),a=e("read-data-options");i.exports=n.extend({init:function(){return _i_("269:16676dbf"),this.options=a(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),_r_(r(this.options.itemId))}}),_r_()}),booking.jstmpl("lists_share_template",function(){_i_("269:4ff53ab4");var n=["\n    "," padding: 5px; color: #1d3386; font-size: 12px; ","\n\n"," width: 100%; font-size: 13px; padding: 4px; ",'\n\n<div style="','">\n    <p>\n        ',"/private/share_list_with_friend_3/name",'\n    </p>\n    <p>\n        <input\n            class="js-lists-share-input"\n            style="','"\n            readonly\n            type="text"\n            value="','">\n    </p>\n</div>\n',"\n"],r=["lists_share_appearance","lists_share_input_appearance","sharing_url"];return _r_(function(e){_i_("269:f3d6fcd5");var t="",i=this.fn;return t=function(e){_i_("269:51b9b038");var t="";return t+=n[1],i.MN(r[0],t),e+=n[2],t="",t+=n[3],i.MN(r[1],t),e+=[n[4],i.MB(r[0]),n[5],i.ME(n[6],i.MB,i.MN,null),n[7],i.MB(r[1]),n[8],i.MB(r[2]),n[9]].join(""),_r_(e)}(t+=n[0]),t+=n[10],_r_(t)})}()),booking.jstmpl("price_watch_example_email",function(){_i_("269:024e6da9");var n=['\n    <div class="price-watch-example">\n        <div class="price-watch-example__text">','</div>\n        <img class="price-watch-example__image" src="','">\n    </div>\n'],r=["annotrans_price_watch_example_1"];return _r_(function(e){_i_("269:b5e842a1");var t="",i=this.fn;return t+=[n[0],i.MB(r[0]),n[1],i.STATIC_HOSTNAME("/static/img/pricewatch/price-watch-sample.jpg",0,0,0),n[2]].join(""),_r_(t)})}()),booking.jstmpl("price_watch_banner",function(){_i_("269:003c616c");var r,a=["\n    ",'<div class="price-watch-banner">\n\t<span class="pw-icon"></span>\n\t<div class="pw-inner">\n\t','\n\t\t<button class="b-button b-button_primary pw-stop-button" type="button">','</button>\n\t\t<strong class="pw-title">','</strong>\n\t\t<p class="pw-text">',"</p>\n\t",'\n\t\t<button\n\t\t\tclass="',"b-button b-button_primary pw-start-button ","pw-banner-start-button",'"\n\t\t\ttype="button"\n\t\t>',"</a>",'<a class="pw-link" href=#>',"\n\t</div>\n</div>\n","\n"],o=["deals_price_watch9","deals_price_watch_1","deals_price_watch_2","watching","b_include_dropdown","deals_price_watch6","deals_price_watch1","deals_price_watch7"];return _r_(function(e){_i_("269:81b3c087");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("269:b2ba87ba"),t+=a[1],n.MD(o[3])?t+=[a[2],n.MB(o[0]),a[3],n.MB(o[1]),a[4],n.MB(o[2]),a[5]].join(""):(t+=a[6],t+=a[7],n.MD(o[4])&&(t+=a[8]),t+=[a[9],n.MB(o[5]),a[3],n.MB(o[6]),a[4],(e.unshift({end_link:a[10],start_link:a[11]}),r=n.MB(o[7]),e.shift(),r),a[5]].join("")),t+=a[12],i=_r_(t),i+=a[13],_r_(i)})}()),booking.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2",function(){_i_("269:4c6b5d3e");var o,s=["\n    <div class='big_tooltip_x'>\n        <h1>","</h1>\n        ","\n            <p>\n                <strong>\n                    ","\n                        ",", ","\n                    ","\n                </strong>\n                <br />\n            </p>\n        ","\n        <hr/>\n\n        <p>\n            <strong>","/private/bp_dates_num_nights_1/name","</strong><br />\n        </p>\n        <p>\n            ","/private/check_in/name",": </span>","\n        </p>\n        <p>\n            ","/private/check_out/name","\n        </p>\n\n    </div>\n\n    <div class='big_tooltip_message'>\n        ","\n            ","/private/ge_boost_hp_rt_reserve_button_hover_nongenius/name","\n        ","/private/hp_rt_reserve_hover_no_account_2_minutes/name","\n    </div>\n\n    ",'\n            <div class="big_tooltip_message big_tooltip_message__green pay_later">\n                ',"/private/hp_rt_pay_at_property/name","\n            </div>\n        ","\n    ","\n\n"],_=["b_hotel_name","b_room_details","b_room_name","b_interval","b_checkin_localized_date_with_weekday","b_checkout_localized_date_with_weekday","b_user_auth_level_is_low_or_high","b_all_rooms_have_pay_later","b_is_lightbox"];return _r_(function(e){_i_("269:ea7d2db4");var t="",i=this.fn;if(t+=[s[0],i.F.html(i.MC(_[0])),s[1]].join(""),i.MD(_[1])){t+=s[2];var n=i.MC(_[1])||[];e.unshift(null);for(var r=1,a=n.length;r<=a;r++)e[0]=n[r-1],t+=[s[3],i.F.html(i.MC(_[2]))].join(""),i.MJ(r==n.length)||(t+=s[4]),t+=s[5];e.shift(),t+=s[6]}return t+=[s[7],(e.unshift({num_nights:i.MC(_[3])}),o=i.ME(s[8],i.MB,i.MN,i.MO(i.MC(_[3]),null,s[8])),e.shift(),o),s[9],i.ME(s[10],i.MB,i.MN,null),s[11],i.MC(_[4]),s[12],i.ME(s[13],i.MB,i.MN,null),s[11],i.MC(_[5]),s[14]].join(""),i.MD(_[6])?t+=[s[15],i.ME(s[16],i.MB,i.MN,null),s[17]].join(""):t+=[s[15],i.ME(s[18],i.MB,i.MN,null),s[17]].join(""),t+=s[19],i.MK(i.MC(_[8]))&&(t+=s[17],i.MD(_[7])&&(t+=[s[20],i.ME(s[21],i.MB,i.MN,null),s[22]].join("")),t+=s[23]),t+=s[24],_r_(t)})}()),booking.jstmpl("cheapest_banner_block",function(){_i_("269:2391b89d");var n,r=['\n    <tr id=\'cheapestBanner\' class="blockBanner" data-cheapest-room-id="','" data-cheapest-block-id="',"\">\n        <td\n            colspan=\"4\"\n            class='cheapest_banner'>\n            <div class='cheapest_banner_content'>\n            <i class='bicon-pricetag'></i>\n            <span>\n                ","/private/hp_rt_jackpot_cheapest_youve_seen_city/name","</b>","<b>","\n                <br><br>\n                <b>\n                    ","     ","   ","\n                    ","    ","  ","\n\n                    ","/private/hp_best_priced_your_search_v2_jackpot_dates/name","\n                </b>\n            </span>\n            </div>\n        </td>\n    </tr>\n"],a=["room_id","block_id","in_city_name","fe_localized_checkin_date","checkin_date","fe_localized_checkout_date","checkout_date","num_nights"];return _r_(function(e){_i_("269:00ed6e12");var t="",i=this.fn;return t+=[r[0],i.MC(a[0]),r[1],i.MC(a[1]),r[2],(e.unshift({end_bold:r[4],in_city_name:i.MB(a[2]),start_bold:r[5]}),n=i.ME(r[3],i.MB,i.MN,null),e.shift(),n),r[6]].join(""),i.MN(a[3],[r[7],i.DATE(i.MB(a[4]),"short_date_with_weekday_without_year","","",""),r[8]].join("")),t+=r[9],i.MN(a[5],[r[10],i.DATE(i.MB(a[6]),"short_date_with_weekday_without_year","","",""),r[11]].join("")),t+=[r[12],(e.unshift({date_with_short_weekday_without_year:i.MB(a[3]),date_with_short_weekday_without_year_1:i.MB(a[5]),num_nights:i.MB(a[7])}),n=i.ME(r[13],i.MB,i.MN,i.MO(i.MC(a[7]),null,r[13])),e.shift(),n),r[14]].join(""),_r_(t)})}()),booking.jstmpl("hp_book_now_summary",function(){_i_("269:246d1044");var n,r=["/private/{summary_copy}/name","\n"],a=["fe_accommodation_type","fe_num","fe_price"];return _r_(function(e){_i_("269:2d571023");var t="",i=this.fn;return i.MJ(201==i.MB(a[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_apartments"):i.MJ(220==i.MB(a[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_holiday"):i.MJ(213==i.MB(a[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_villa"):i.MJ(228==i.MB(a[0]))?i.MN("summary_copy","gsb_hp_book_now_cta_chalet"):i.MN("summary_copy","gsb_hp_book_now_cta_room"),t+=[(e.unshift({group_recommendation_price:i.MB(a[2]),num:i.MB(a[1])}),n=i.ME(r[0],i.MB,i.MN,i.MO(i.MC(a[1]),null,r[0])),e.shift(),n),r[1]].join(""),_r_(t)})}()),booking.jstmpl("template_gallery_new_photo",function(){_i_("269:bee9dd28");var n=["\n    ","\n        ","/private/prc_pg_new_photo/name","/private/prc_pg_recent_photo/name","\n"],r=["isNew"];return _r_(function(e){_i_("269:3cf270a5");var t="",i=this.fn;return t+=n[0],i.MD(r[0])?t+=[n[1],i.ME(n[2],i.MB,i.MN,null),n[0]].join(""):t+=[n[1],i.ME(n[3],i.MB,i.MN,null),n[0]].join(""),t+=n[4],_r_(t)})}()),booking.jstmpl("template_gallery_new_photo_modal",function(){_i_("269:9023a643");var n=['\n    <div class="bh-photo-modal-recent__body js-img-width">\n        <span class="bh-photo-modal-recent__badge">\n            ',"\n                ","/private/prc_pg_new_photo/name","\n            ","/private/prc_pg_recent_photo/name","\n        </span>\n    </div>\n"],r=["isNew"];return _r_(function(e){_i_("269:c372a28d");var t="",i=this.fn;return t+=n[0],i.MD(r[0])?t+=[n[1],i.ME(n[2],i.MB,i.MN,null),n[3]].join(""):t+=[n[1],i.ME(n[4],i.MB,i.MN,null),n[3]].join(""),t+=n[5],_r_(t)})}()),function(){_i_("269:98d34168");var e=window.booking,r=e.require("jquery"),n=e.require("ga-tracker"),a="Price Alert: ",o=function(){};try{"object"==typeof localStorage&&localStorage["debug:price_watch"]&&(o=function(){_i_("269:5344e470"),console.log.apply(console,arguments),_r_()})}catch(e){}function s(){_i_("269:4cf9ef28"),this.watching=booking.env.b_price_alert_exists,booking.events.Emitter.extend(this),_r_()}function _(){var e;if(_i_("269:08731006"),n.trackEvent(n.clickTracker,a+"Signin form"),e=r(".js-user-access-menu-lightbox .user_access_form"),booking.command("show-auth-lightbox").run({titleSignin:booking.env.priceWatch.b_signin_header}),e.each(function(e,t){_i_("269:958e384c");var i=r.extend({},booking.hotel.priceWatch.data(),{for_price_alert:1}),n=[];r.each(i,function(e,t){_i_("269:40c9f1b9"),n.push('<input type="hidden" name="price_alert_'+e+'" value="'+t+'">'),_r_()}),r(t).append(n.join("")),_r_()}),!1===booking.hotel.priceWatch.watching)try{localStorage.setItem("price_watch_after_login",1),o("Setting delayed price watch")}catch(e){}_r_()}s.prototype.data=function(){return _i_("269:3162e1ea"),_r_({checkin:booking.env.b_checkin_date,checkout:booking.env.b_checkout_date,currency:booking.env.b_selected_currency||booking.env.b_hotel_currencycode,hotel_id:booking.env.b_hotel_id,language:booking.env.b_lang,adults:booking.env.b_occupancy.adults,children:booking.env.b_occupancy.children,rooms:booking.env.priceWatch.b_price_alert_rooms,price:booking.env.priceWatch.b_price_alert_price})},s.prototype.params=function(e){return _i_("269:bc70cd6a"),_r_(r.extend({aid:booking.env.b_aid,sid:booking.env.b_sid,stype:booking.env.b_site_type_id,lang:booking.env.b_lang_for_url},e))},s.prototype.watchNotify=function(){_i_("269:2a9c0248");var e=window.location.search;if(!this.watching||e.indexOf("auth_success=1")<0&&e.indexOf("account_created=1")<0)return _r_();try{o("Checking delayed price watch");var t=localStorage.getItem("price_watch_after_login");localStorage.removeItem("price_watch_after_login"),t&&(o("Triggering delayed price watch"),setTimeout(function(){_i_("269:cff1088c"),booking.lightbox.show(r(".js-price-watch-unsubscribe--watch"),{customWrapperClassName:"price-watch-unsubscribe-wrapper"}),_r_()},0))}catch(e){}_r_()},s.prototype.subscribe=function(t){_i_("269:76721fc7");var i=this,e=this.data();o("Subscribing",e),r.post("/pricealerts/subscribe",this.params(e),function(e){if(_i_("269:93a0da05"),"success"==e.status||"already_subscribed"==e.reason)i.watching=!0,i.emit("change"),o("Subscribe successful",e);else{if("failed"!=e.status)throw new Error("Price alert subscribe failed - "+[e.param,e.reason].join(" "));i.emit("error",e),e.reason&&i.emit("error:"+e.reason),o("Subscribe failed",e)}"function"==typeof t&&t(e),_r_()}),_r_()},s.prototype.unsubscribe=function(t){_i_("269:2fdec292");var i=this,e={checkin:booking.env.b_checkin_date,checkout:booking.env.b_checkout_date,hotel_id:booking.env.b_hotel_id};o("Unsubscribing",e),r.post("/pricealerts/unsubscribe",this.params(e),function(e){if(_i_("269:42fead06"),"success"==e.status)i.watching=!1,i.emit("change"),o("Unsubscribe successful",e);else{if("failed"!=e.status)throw new Error("Price alert unsubscribe failed - "+[e.param,e.reason]);i.emit("error",e),e.reason&&i.emit("error:"+e.reason),o("Unsubscribe failed",e)}"function"==typeof t&&t(e),_r_()}),_r_()},e.when({events:"ready"}).run(function(e){_i_("269:7cf71914"),booking.hotel.priceWatch=new s,booking.hotel.priceWatch.watchNotify(),booking.hotel.priceWatch.on("error:not_logged_in",_);var t=function(){_i_("269:afe76cb7");var e=r.fly.dropdown.extend({defaults:{extraClass:"ge-price-watch",position:booking.env.rtl?"bottom left":"bottom right",content:function(){return _i_("269:000c2e25"),_r_(this.template.render(this.data()))}},init:function(){_i_("269:40ede596"),this.template=booking.jstmpl("price_watch_dropdown"),_r_()},data:function(){return _i_("269:53dc7a9f"),booking.env.priceWatch.watching=booking.hotel.priceWatch.watching,_r_(booking.env.priceWatch)},onrootready:function(){_i_("269:21f6b005");var t=this,e=this.root();this.bind(this.events.show,function(){_i_("269:8880bd5c"),n.trackEvent(n.clickTracker,a+"Show dropdown"),_r_()}),booking.hotel.priceWatch.on("change",this.update,this),booking.hotel.priceWatch.on("error:not_logged_in",this.hide,this),booking.hotel.priceWatch.on("error:too_many_alerts",function(){_i_("269:a0631179"),t.error("too-many-alerts"),_r_()}),booking.hotel.priceWatch.on("error",function(){_i_("269:6e4e3e22"),t.loading(!1),_r_()}),e.delegate(".pw-start-button","click",function(e){if(_i_("269:9df922f9"),/loading/.test(e.target.className))return _r_();t.loading(),t.error(!1),n.trackEvent(n.clickTracker,a+"Subscribe","dropdown"),booking.hotel.priceWatch.subscribe(),e.preventDefault(),_r_()}),e.delegate(".pw-stop-button","click",function(e){if(_i_("269:b058ee92"),/loading/.test(e.target.className))return _r_();t.loading(),t.error(!1),n.trackEvent(n.clickTracker,a+"Unsubscribe","dropdown"),booking.hotel.priceWatch.unsubscribe(),e.preventDefault(),_r_()}),e.delegate(".pw-sample-link","click",function(e){_i_("269:d2b6ba6c"),e.preventDefault(),n.trackEvent(n.clickTracker,a+"Example");var t=booking.jstmpl("price_watch_example_email").render();booking.lightbox.show(t),_r_()}),e.bind("click",function(e){_i_("269:e354901c"),e.stopPropagation(),_r_()}),_r_()},error:function(e){_i_("269:7bfa9d44"),this.root().find(".js-alert").hide(),e&&this.root().find(".js-alert--"+e).show(),_r_()},update:function(){_i_("269:dea737c6");var e=booking.hotel.priceWatch.watching;o("Updating dropdown",e),this.redraw();var t=this.handle().find(".js-price-watch-icon");t.toggleClass("ge_price_watch_icon_small_selected",e),t.toggleClass("ge_price_watch_icon_small",!e),_r_()},loading:function(e){_i_("269:42edeeac"),e=!arguments.length||e,this.root().find(".b-button_primary").toggleClass("loading",e),_r_()}});return _r_(e)}(),i=function(){_i_("269:68cf4095");var e={root:r(".price-watch-banner-container"),template:booking.jstmpl("price_watch_banner"),init:function(){return _i_("269:faa34f2c"),this.events(),_r_(this)},update:function(){_i_("269:6fb65d32"),this.root.html(this.template.render({watching:booking.hotel.priceWatch.watching})),_r_()},loading:function(){_i_("269:74428458"),this.root.find(".b-button_primary").addClass("loading"),_r_()},events:function(){_i_("269:7ebfc4ff");var t=this;this.root.delegate(".pw-start-button, .pw-link","click",function(e){if(_i_("269:476481e8"),/loading/.test(e.target.className))return _r_();t.loading(),n.trackEvent(n.clickTracker,a+"Subscribe","banner"),booking.hotel.priceWatch.subscribe(),e.preventDefault(),_r_()}),this.root.delegate(".pw-stop-button","click",function(e){if(_i_("269:be444433"),/loading/.test(e.target.className))return _r_();t.loading(),n.trackEvent(n.clickTracker,a+"Unsubscribe","banner"),booking.hotel.priceWatch.unsubscribe(),e.preventDefault(),_r_()}),booking.hotel.priceWatch.on("change",this.update,this),_r_()}};return _r_(e)}();t.create(".js-price-watch-dropdown-handle"),i.init(),booking.env.priceWatch&&booking.env.priceWatch.b_price_alert_canceled&&booking.lightbox.show(r(".js-price-watch-unsubscribe--one"),{customWrapperClassName:"price-watch-unsubscribe-wrapper"}),o(booking.hotel.priceWatch),_r_()}),_r_()}(),B.define("read-data-options",function(e,t,i){_i_("269:b2e7a21d1"),i.exports=function(r,a){_i_("269:9b133c1b1");var o={};return r.jquery&&(r=r[0]),Object.keys(a).forEach(function(e){_i_("269:dcce88771");var t=a[e],i="data-"+e,n=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!r.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}n=r.getAttribute(i);if(t.type===Boolean)n=!/^0|false|no|off$/.test(n);else if(t.type===String)n=n||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);n=parseFloat(n,10),isNaN(n)&&(n=t.defaultValue)}o[e]=n,_r_()}),_r_(o)},_r_()}),B.define("component/core/lightbox/trigger",function(e,t,i){_i_("269:65afa4321");var n=e("read-data-options"),r=e("lightbox");i.exports=e("component").extend({init:function(){_i_("269:77c342bc1");var e=this.$el.data("event")||"click";this.options=n(this.el,{bCloseButton:{name:"close-button",type:Boolean},bCanScroll:{name:"scrollable",type:Boolean},bOverflowVisible:{name:"overflow-visible",type:Boolean},autoWidth:{name:"auto-width",type:Boolean},ajax:{name:"ajax",type:Boolean},iframe:{name:"iframe",type:Boolean},customWrapperClassName:{name:"wrapper-class",type:String},customMaskClassName:{name:"mask-class",type:String},bMaskClick:{name:"mask-click",type:Boolean},trigger:{name:"trigger",type:String},position:{name:"position",type:String},autoCenter:{name:"auto-center",type:Boolean},limitHeight:{name:"limit-height",type:Boolean},cloneElement:{name:"clone-element",type:Boolean},trapFocus:{name:"trap-focus",type:Boolean},modalLabeledById:{name:"modal-labeled-by-id",type:String},bAnimation:{name:"animation",type:Number},addDialogStartEndText:{name:"add-dialog-start-end-text",type:Boolean}}),"page-load"===e?(this.target=this.$el,$(document).ready(function(){_i_("269:55c7125e1"),setTimeout(this.open.bind(this),150),_r_()}.bind(this))):(this.target=this.$el.attr("href")||this.$el.data("src")||this.target,this.$el.bind(e,this.open.bind(this))),_r_()},open:function(e){_i_("269:44868de71"),e&&e.preventDefault&&e.preventDefault(),r.show(this.target,this.options),this.options.trigger&&B.events.trigger(this.options.trigger,e,this.target),_r_()}}),_r_()}),function(n){_i_("269:3ffe5162"),n.define("hotel/rooms-table/filter-core",function(e,t){_i_("269:fc78f261");var a,r=e("jquery");function o(t,i){_i_("269:740a87e5"),Object.keys(t).forEach(function(e){_i_("269:a74bd293"),t[e].forEach(function(e){var t;_i_("269:e8c15643"),i?(t=e,_i_("269:d31d9b01"),t.removeClass("roomRateSingle room-rate__disabled"),_r_()):function(e){_i_("269:e99e4ea0"),e.addClass("room-rate__disabled"),"msie"===n.env.b_browser&&e.addClass("roomRateSingle");_r_()}(e),_r_()}),_r_()}),_r_()}function s(e){return _i_("269:e8081b75"),_r_(e.reduce(function(e,t){_i_("269:9ec9fb40");var i=t.attr("data-room-id");return e.rooms[i]||e.order.push(i),e.rooms[i]=e.rooms[i]||[],e.rooms[i].push(t),_r_(e)},{rooms:{},order:[]}))}function i(){_i_("269:414f44de");var e=Array.prototype.slice.call(arguments);return _r_(function(i){return _i_("269:c40b34af"),_r_(e.reduce(function(e,t){return _i_("269:1e96d4e7"),_r_(e||t(i))},!1))})}t.match=function(e,n){return _i_("269:5af548db"),_r_(e.reduce(function(e,t){_i_("269:52d05998");var i=r(t);return e[n(i)?"success":"fail"].push(i),_r_(e)},{success:[],fail:[]}))},t.apply=function(e,t){_i_("269:71d4fcfe");var i=s(e.success),n=s(e.fail),r=!e.fail.length&&e.success.length;!a&&r&&(a=i.order[0]);o(i.rooms,!0),o(n.rooms,!1),e.fail.length&&i.order.forEach(function(e){_i_("269:c9639b4e"),i.rooms[e]=i.rooms[e].sort(function(e,t){_i_("269:35b11198");var i=parseFloat(e.data("ratePrice")),n=parseFloat(t.data("ratePrice"));return _r_(i-n)}),_r_()});_r_()},t.filterTypes={or:i,and:function(){_i_("269:e4a71021");var e=Array.prototype.slice.call(arguments);return _r_(function(i){return _i_("269:25676b4f"),_r_(e.reduce(function(e,t){return _i_("269:d9a85a30"),_r_(e&&t(i))},!0))})},radio:i},t.filters={occupancy:function(e,t){if(_i_("269:36077c69"),e&&e.filterValue)return _r_(t.data("occupancy")===e.filterValue);throw"`filterValue` must be provided"},breakfast:function(e,t){if(_i_("269:af1b50ad"),e){var i=t.is("[data-filter-breakfast-included=1]");if(e.filterValue)return _r_(i);return _r_(!i)}_r_()},cancellation:function(e,t){if(_i_("269:df83a147"),e&&e.filterValue)return _r_(t.data("filterCancellation")===e.filterValue);_r_()},meal:function(e,t){if(_i_("269:aab25d1a"),e&&e.filterValue)return _r_(t.data("filterMealIncluded")===e.filterValue);_r_()},any:function(){return _i_("269:2b9083c0"),_r_(!0)}},_r_()}),_r_()}(window.booking),function(o){_i_("269:7e4ac1cd"),o.define("component/hotel/rooms-table/filter-ui",function(e,t,i){_i_("269:69a56bfa");var f=e("jquery"),n=e("component"),u=e("hotel/rooms-table/filter-core"),r=e("jstmpl"),a=e("events");function p(r,e){_i_("269:b9883b58");r=Object.keys(r).reduce(function(e,t){_i_("269:fed070a2");var i=r[t],n=Object.keys(i.values).filter(function(e){return _i_("269:56276e7d"),_r_("on"===i.values[e].filterState)}).map(function(e){return _i_("269:6a664535"),_r_(u.filters[t].bind(null,i.values[e]))});return 0<n.length&&e.push(u.filterTypes[i.config.filterType].apply(null,n)),_r_(e)},[]);return _r_(r.length?u.filterTypes[e].apply(null,r):u.filters.any)}function l(e,t){_i_("269:858e774b");var i=e.values[t].filterState;if("disabled"===i)return _r_();return"off"===i?e.values[t].filterState="on":"on"===i&&(e.values[t].filterState="off"),_r_(!0)}i.exports=n.extend({setupComponent:function(){_i_("269:2bee4d3e");var e=this.$el,t=e.data();Object.assign(t,{filterType:"and"}),this.config=t,this.$filterCount=e.find(".js-rt-filter-count"),this.filters={},this.items=f(t.items).toArray(),_r_()},setupFilters:function(){_i_("269:134bfb2b");var e=this.$el,r=this.filters;e.find("[data-filter]").each(function(){_i_("269:6c6b569a");var e=f(this),t=e.attr("data-filter"),i=e.attr("data-filter-type")||"radio",n=r[t]=r[t]||{};n.config=n.config||{},n.values=n.values||{},n.config.filterType=i,e.find("[data-filter-value]").each(function(){_i_("269:ada7995b");var e=f(this),t=e.attr("data-filter-value"),i=e.data();n.values[t]=n.values[t]||{},Object.assign(n.values[t],{filterState:"off"},i),_r_()}),_r_()}),_r_()},applyFilter:function(){_i_("269:3fb2db11");var e=p(this.filters,this.config.filterType),t=this.match=u.match(this.items,e);a.emit(this.events.filterMatched,t),u.apply(t,this.items),a.emit(this.events.filterApplied,this.filters),_r_()},setupEventHandlers:function(){_i_("269:07729e25");var e=this.$el,_=this;e.on("click","[data-filter-value]",function(e){_i_("269:b279d597"),e.preventDefault();var t=f(this),i=t.closest("[data-filter]"),n=i.attr("data-filter"),r=_.filters[n],a=r.config.filterType,o=t.attr("data-filter-value"),s=_.filterTypes[a]||_.filterType[l];s.call(_,r,o)&&(_.applyFilter(),_.updateUI()),_r_()}),_r_()},updateUI:function(){_i_("269:690ef1e5");var e=this.$el,h=this.filters,d=this,t=this.match.success.length;this.$filterCount.html(r.translations("hp_rt_filters_header",t,{num_rates:t})),e.find("[data-filter]").each(function(){_i_("269:b3ad9aa8");var e=f(this),_=e.attr("data-filter"),l=h[_],c=l.config.filterType;e.find("[data-filter-value]").each(function(){_i_("269:607c616b");var e=f(this),t=e.attr("data-filter-value"),i=l.values[t],n=i.filterState;if("on"!==n){var r=f.extend(!0,{},h),a=f.extend(!0,{},l);a.values[t].filterState="off",d.filterTypes[c].call(d,a,t),r[_]=a;var o=p(r,d.config.filterType),s=u.match(d.items,o);i.filterState=s.success.length?"off":"disabled"}e.attr("data-filter-state",i.filterState),_r_()}),_r_()}),_r_()},events:{filterApplied:o.hotel.Events.RT.FILTER_APPLIED,filterMatched:o.hotel.Events.RT.FILTER_MATCHED},filterTypes:{radio:function(t,i){_i_("269:608a2988");var e=t.values[i].filterState;{if("disabled"===e)return _r_();"off"===e?Object.keys(t.values).forEach(function(e){_i_("269:3eef1bee"),"disabled"!==t.values[e].filterState&&(t.values[e].filterState=e===i?"on":"off"),_r_()}):"on"===e&&Object.keys(t.values).forEach(function(e){_i_("269:f69b0b7f"),"disabled"!==t.values[e].filterState&&(t.values[e].filterState="off"),_r_()})}return _r_(!0)},and:l,or:l},init:function(){_i_("269:fd0a8b19"),this.setupComponent(),this.setupFilters(),this.applyFilter(),this.setupEventHandlers(),_r_()}}),_r_()}),_r_()}(window.booking),B.define("utils/deepequal",function(e,t,i){_i_("269:2885b5f1"),i.exports=function e(t,i,n){if(_i_("269:b8431e73"),typeof t!=typeof i)return _r_(!1);var r;for(r in i){if(!i.hasOwnProperty(r))continue;if(!t.hasOwnProperty(r))return _r_(!1);if("object"==typeof t[r]){if(!e(t[r],i[r],n))return _r_(!1);continue}if(n){if(t[r]!=i[r])return _r_(!1)}else if(t[r]!==i[r])return _r_(!1)}for(r in t){if(!t.hasOwnProperty(r))continue;if(!i.hasOwnProperty(r))return _r_(!1)}return _r_(!0)},_r_()}),function(a){function o(e,t){if(_i_("269:cfbd17e3"),!(this instanceof o))return _r_(new o(e,t));t=t||"localStorage",this.ns=e,this._storage=this.getStorage(t),this.loadData(),_r_()}_i_("269:da8ddea9"),a.define("component/feedback-base",function(r,e,t){_i_("269:cbca5fdd");var i=r("component"),c=r("jquery"),n=r("events"),h={StorageService:o,submitModel:function(e,t){_i_("269:9acf2ef8");var i=c.ajax({url:e,method:"POST",data:t});return _r_(i)},setObjectPath:function(e,t,i){_i_("269:74753e22");var n=t.split("."),r=e,a=n.length-1;n.forEach(function(e,t){if(_i_("269:92f47154"),t===a)return r[e]=i,_r_();r[e]=r[e]||{},r=r[e],_r_()}),_r_()}};t.exports=i.extend({_utils:h,config:{url:"/receive_feedback",defaultView:"index",defaultErrorView:"error",defaultActionEvent:"click",defaultPoll:"general",defaultStorage:"floops",defaultTimeout:168,defaultAutoclose:!1,stopPropagation:!1,neverExpire:!0},init:function(){if(_i_("269:4f181444"),this.setupComponent(),!this.config.neverExpire&&(this.setupStorage(),!this.storage))return _r_();if((this.setupModel(),!this.config.neverExpire)&&!this.storage.isExpired(this.model.poll)){var e=c(".feedback-loop");return e.length&&e.hide(),_r_()}this.setupViews(),this.setupActions(),this.initActions(),this.render(),_r_()},setupComponent:function(){_i_("269:de6ead02"),this.config=c.extend({},this.config,this.$el.data()),_r_()},setupStorage:function(){_i_("269:3b117858");var e=this.config.storage||this.config.defaultStorage;this.storage=new o(e),this.storage.removeExpired(),_r_()},setupViews:function(){_i_("269:1b40aebe");var a=this.views={};this.$el.children("[data-view]").each(function(e,t){_i_("269:5514ca10");var i=c(t),n=i.data(),r=n.view;a[r]={config:n,view:t,$view:i},_r_()}),this.setupGroups(),_r_()},setupGroups:function(){_i_("269:82719688");var a=this;this.$el.off(".feedbackGroups").on("click.feedbackGroups",".feedback-loop__group-header :checkbox",function(){_i_("269:937bcb86"),function(e){_i_("269:f6a33c25");var t=e.find(".feedback-loop__group-body"),i=e.find(".feedback-loop__group-header :checkbox"),n=t.is(":visible"),r=i.is(":checked");n!=r&&t.slideToggle({duration:200,complete:function(){_i_("269:6cf7902e"),a.triggerResize(),_r_()}});_r_()}(c(this).closest(".feedback-loop__group")),_r_()}),_r_()},triggerResize:function(){_i_("269:92bff38c"),this.$el.trigger("feedbackBase_resize"),_r_()},setupModel:function(){_i_("269:50a8bb1b"),this.model={poll:this.config.poll||this.config.defaultPoll},c.extend(this.model,{url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action}),_r_()},setupActions:function(){_i_("269:12426c42");var e=this.actions={};e.showView=function(e){_i_("269:4011e8fa"),this.render(e.view),_r_()},e.submit=function(e){_i_("269:9206980d");var t=this;h.submitModel(this.config.url,this.model).done(function(){_i_("269:4ee30ade");var e=t.config.timeout;e&&!t.config.neverExpire&&t.storage.set(t.model.poll,!0,1e3*e*3600),_r_()}).fail(function(){_i_("269:9beecf9b");var e=t.config.defaultErrorView;if(t.views[e])return _r_(t.render(e));throw n.emit("FLOOPS.request.error"),Error("[FLOOPS] Error submitting feedback")}),_r_()},e.beforeSubmit=function(e){_i_("269:79db7a77"),this.$el.trigger("feedback_beforeSubmit"),this.updateModel(this.currentView),_r_()},e.autoClose=function(){_i_("269:c5dba1d8"),setTimeout(function(){_i_("269:1c41d85f"),$el.fadeOut(200),_r_()},3e3),_r_()},e.reset=function(){_i_("269:9a0521b6"),this.updateModel(this.currentView,!0),_r_()},e.close=function(){_i_("269:e7199284"),this.$el.hide(),_r_()},e.trackGaEvent=function(e){_i_("269:ae1fba28");var t,i=(e.feedbackGaEvent||"").split("|"),n={nonInteraction:!0};"www"===a.env.b_site_type?t=r("ga-tracker"):"mdot"===a.env.b_site_type&&(t=r("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&("www"===a.env.b_site_type?t.trackEvent(n.type,n.action,n.label,n.value):"mdot"===a.env.b_site_type&&t.trackEvent(n.type,n.action,n.label,n.value)),_r_()},_r_()},updateModel:function(e,o){_i_("269:8c5f6d43");var s=this,t=this.views[e],_=t?t.$view:this.$el,l={};_.find("[data-model]").each(function(e,t){_i_("269:c8bca89d");var i,n=c(t),r=n.data();if(r.model&&(i=String(r.model).match(/^([^\[\]]+)\[\]$/)))return function(r){if(_i_("269:89662d3e"),l[r])return _r_();l[r]=[],_.find('[data-model="'+r+'[]"]').each(function(e,t){_i_("269:f9d9f114");var i=c(t),n=o?"":i.val();i.is(":checkbox,:radio")&&!i.prop("checked")&&(n=""),n&&l[r].push(n),_r_()}),h.setObjectPath(s.model,r,l[r].join(",")),_r_()}(i[1]),_r_();if(r.hasOwnProperty("modelValue"))return _r_();var a=o?"":n.val();n.is(":checkbox,:radio")&&!n.prop("checked")&&(a=""),h.setObjectPath(s.model,r.model,a),_r_()}),_r_()},initActions:function(){_i_("269:259473b1");var a=this;this.$el.find(":not([data-component]) [data-action]").each(function(e,t){_i_("269:36b8259b");var i=c(t),n=c.extend({action:a.config.defaultAction,on:a.config.defaultActionEvent,autoclose:i.data("autoclose")||!1,stopPropagation:i.data("stopPropagation")||a.config.stopPropagation},i.data()),r=n.action.split(/\s+/);i.on(n.on,function(e){_i_("269:83d6d4ab"),n.model&&n.modelValue&&h.setObjectPath(a.model,n.model,n.modelValue),a.updateModel(a.currentView),n.stopPropagation&&e.stopPropagation(),r.forEach(function(e){_i_("269:756f323f"),a.actions[e].call(a,n),_r_()}),_r_()}),_r_()}),a.config.stopPropagation&&this.$el.on("click",function(e){_i_("269:72b5d735"),e.stopPropagation(),_r_()}),_r_()},render:function(i){_i_("269:477c817d");var n=this;if(!this.views)return _r_();if(this.$el.removeClass("feedback-loop--hidden"),(i=i||this.config.defaultView)===this.currentView)return _r_();Object.keys(this.views).forEach(function(e){_i_("269:964d4dbb");var t=this.views[e].$view;if(e===i){this.currentView=e,t.data("viewAnimated")?t.slideDown(300):t.show();t.data("autoclose")&&!/off|0|disabled|none/g.test(t.data("autoclose"))&&setTimeout(function(){_i_("269:4d1f0d35"),n.$el.fadeOut(300),_r_()},2e3)}else t.hide();_r_()}.bind(this)),this.triggerResize(),_r_()}}),_r_()}),o.prototype.getStorage=function(e){_i_("269:461c66cd");try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),_r_(t)}catch(e){return _r_()}_r_()},o.prototype.saveData=function(){if(_i_("269:c040d6c7"),!this._storage)return _r_();return _r_(this._storage.setItem(this.ns,JSON.stringify(this.data)))},o.prototype.loadData=function(){_i_("269:55940a9d");var t=this._storage.getItem(this.ns);try{t=t&&JSON.parse(t)||{}}catch(e){t={}}this.data=t,_r_()},o.prototype.removeExpired=function(){_i_("269:c16e0b02");var e=Object.keys(this.data),t=this.data;e.filter(this.isExpired.bind(this)).forEach(function(e){_i_("269:ba16d4d4"),delete t[e],_r_()}),this.saveData(),_r_()},o.prototype.isExpired=function(e,t){_i_("269:52fac0b6"),t=t||(new Date).getTime();var i=this.data[e];if(!i||!i.expires)return _r_(!0);return _r_(t>i.expires)},o.prototype.remove=function(e){_i_("269:29b0b53c"),delete this.data[e],this.saveData(),_r_()},o.prototype.set=function(e,t,i){if(_i_("269:5b7dfa47"),i&&i.constructor!==Date){var n=(new Date).getTime();i=new Date(n+i).getTime()}this.data[e]={value:t,expires:i},this.saveData(),_r_()},o.prototype.get=function(e){_i_("269:4f04d384");var t,i=this.data,n=i[e];return i[e]&&(this.isExpired(e)?this.remove(e):t=n.value),_r_(t)},_r_()}(window.booking),function(l){_i_("269:6bfd22f0"),l.define("component/feedback-inline",function(s,e,t){_i_("269:d0c93dc4");var i=s("component"),n=s("events"),_=s("jquery");t.exports=i.extend({init:function(){_i_("269:b98f0641");var i=this;this.config={url:"/receive_content_feedback",modalExtraClass:"feedback-modal-wrapper",modalMaskExtraClass:"",hideClass:"",modalPosition:"fixed",modalTopMargin:0,autoFocus:!0},this.setupComponent(),this.$el.on("click","[data-action]",function(e){_i_("269:20084900");var t=_(this);e.preventDefault(),t.data("stopPropagation")&&e.stopPropagation(),i.runElementActions(t),_r_()}),_r_()},runElementActions:function(n,e){_i_("269:271c4ea2");var r=this,t=(e||n.data("action")||"").split(/\s+/);_.each(t,function(e,t){_i_("269:0434bc19");var i=r["action_"+t];"function"==typeof i&&i.call(r,n),r.triggerActionEvents(t),_r_()}),_r_()},action_submit:function(e){_i_("269:4e6dfb26");var t=e.data("model"),i=e.data("modelValue"),n=this.getModel();return t&&(n[t]=i),this.$el.trigger("feedbackInline_submit",n),_r_(_.ajax({url:this.config.url,method:"POST",data:n}))},action_external:function(e){_i_("269:0d5779b7");var t=l.env&&l.env.b_is_tdot_traffic?l.lightbox:s("lightbox"),i=e.data("url"),n=e.data("iframe_height_percentage")||90,r={iframe:!0,iframeHeight:Math.max(Math.floor(n*_(window).height()/100),550),hideCallBack:function(){_i_("269:ed8d9f5d"),_(document.body).css("overflow",""),_r_()}};i&&(t.show(i,r),_(document.body).css("overflow","hidden")),_r_()},action_modal:function(e){_i_("269:1d295707");var t,i=this,n=l.env&&l.env.b_is_tdot_traffic?l.lightbox:s("lightbox"),r=e.data("showForm"),a=e.data("modalView"),o=r?_(r):_(".feedback-loop-lightbox").filter('[data-poll="'+this.config.poll+'"]').eq(0);if(!o.length)return _r_();a&&(t=o.data("componentInstanceFeedbackBase"))&&t.render&&t.render(a),n.show(o,{customWrapperClassName:this.config.modalExtraClass,position:this.config.modalPosition,topMargin:this.config.modalTopMargin,customMaskClassName:this.config.modalMaskExtraClass,hideCallBack:function(){_i_("269:d70cc8f4"),i.$el.trigger("feedbackInline_hideModal",{$feedbackForm:o}),i.triggerActionEvents("hideModal"),_r_()},hideBeforeCallBack:function(){_i_("269:bc2c01f7"),i.$el.trigger("feedbackInline_beforeHideModal",{$feedbackForm:o}),_r_()}}),o.off(".feedbackInline").on("click.feedbackInline","[data-close]",function(){_i_("269:70046991"),n.hide(),_r_()}).on("click.feedbackInline",'[data-action~="submit"]',function(){_i_("269:52ad58e5"),i.$el.trigger("feedbackInline_submitModal"),i.triggerActionEvents("submitModal",{$modal:o}),e.data("hideOnModalSubmit")&&i.action_hide(),_r_()}).on("feedbackBase_resize",function(){_i_("269:78825520"),n.rePosition({preserveAbsolute:!0}),_r_()}),i.config.autoFocus&&o.find("input:visible, textarea:visible").first().focus(),i.$el.trigger("feedbackInline_showModal"),i.triggerActionEvents("showModal",{$modal:o}),_r_()},action_extraForm:function(e){_i_("269:b91183ca");var t,i=this,n=e.data("showForm"),r=_(n||'.feedback-loop-extra[data-poll="'+this.config.poll+'"]');if(!r.length)return _r_();r.data("tmplName")&&(r=this.replaceWithJsTmpl(r)).addClass("feedback-loop-extra").attr("data-poll",this.config.poll),e.data("extraFormAnimated")?r.slideDown(300):r.show(),this.config.autoFocus&&setTimeout(function(){_i_("269:3d81a8ff"),r.find("input:text:visible,textarea:visible").focus(),_r_()},50),this.$el.trigger("feedbackInline_showExtra"),r.find('[data-action~="close"],[data-close]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("269:fcdcf62d"),i.$el.trigger("feedbackInline_hideExtra"),e.data("showOnCancel")&&!t?i.$el.show():e.data("hideOnExtraClose")&&i.action_hide(),_r_()}).end().find('[data-action~="submit"]').off(".feedbackInline").on("click.feedbackInline",function(){_i_("269:c886f54b"),t=!0,e.data("hideOnExtraSubmit")&&i.action_hide(),i.$el.trigger("feedbackInline_submitExtra"),i.triggerActionEvents("submitExtra",{$extraForm:r}),_r_()}),_r_()},action_hide:function(e){_i_("269:199b9109");var t=this,i=e?e.data("hideDelay"):null,n=e?e.data("hideAnimated"):null,r=function(){_i_("269:9052449d"),n?t.$el.slideUp(200):t.$el.hide(),t.config.hideClass&&t.$el.addClass(t.config.hideClass),_r_()};i?setTimeout(r,i):r(),_r_()},action_hideOther:function(e){_i_("269:22f931fe"),_('[data-component*="feedback-inline"][data-poll="'+this.config.poll+'"]').not(this.$el).hide(),_r_()},action_hideForeign:function(e){_i_("269:8bfe7520");var t=(e.data("hideForeign")||"").split(/\s+/);t.length&&_.each(t,function(e,t){_i_("269:5f346003"),t&&_('[data-component*="feedback-inline"][data-poll="'+t+'"]').hide(),_r_()}),_r_()},action_showView:function(e){_i_("269:682b0ccb");var n=this,r=e.data("showView"),t=this.$el.find("[data-view]"),a=t.filter('[data-view="'+r+'"]').data("viewAnimated");t.each(function(){_i_("269:129d638c");var e=_(this),t=e.data("view"),i=e.is(":visible");t!==r||i?t!==r&&i&&(a?e.slideUp(200):e.hide()):a?(n.$el.css({overflow:"hidden",height:n.$el.height()}),e.slideDown(300,function(){_i_("269:13b8c923"),n.$el.css({overflow:"",height:""}),_r_()}),_(".inline-feedback__hidden").focus()):e.show(),_r_()}),_r_()},action_trackGaEvent:function(e){_i_("269:5b4052cd");var t,i=(e.data("feedbackGaEvent")||"").split("|"),n={nonInteraction:!0};"www"!==l.env.b_site_type&&"mdot"!==l.env.b_site_type||(t=s("ga-tracker")),2<=i.length&&(n.type=i[0],n.action=i[1]||"",n.label=i[2]||"",void 0!==i[3]&&(n.value=i[3])),t&&t.trackEvent&&n.type&&n.action&&n.label&&t.trackEvent(n.type,n.action,n.label,n.value),_r_()},replaceWithJsTmpl:function(e){_i_("269:e07a2005");var t=e.data(),n={poll_id:this.config.poll},i="",r=e;return l.jstmpl&&t.tmplName&&(_.each(t,function(e,t){_i_("269:188ac3e4");var i=e.match(/^tmplData(.+)$/);i&&i[1]&&(n[String(i[1]).toLowerCase()]=t),_r_()}),_.isPlainObject(t.tmplData)&&_.extend(n,t.tmplData),i=l.jstmpl(t.tmplName).render(n)),i&&(r=_(i),e.replaceWith(r),r.loadComponents()),_r_(r)},setupComponent:function(){_i_("269:4feb1c29"),_.extend(this.config,this.$el.data()),_r_()},getModel:function(){_i_("269:50979ab4");var e=this.$el.find("[data-view]:visible"),i={url:window.location.href,action:window.booking&&window.booking.env&&window.booking.env.b_action,poll:this.config.poll};return e.length||(e=this.$el),e.find("[data-model]").each(function(){_i_("269:cae24094");var e=_(this),t=e.data();!t.hasOwnProperty("modelValue")&&t.model&&(i[t.model]=e.val()),_r_()}),_r_(i)},triggerActionEvents:function(e,t){_i_("269:b886f9dc");var i=_.extend({feedbackInline:this},t||{});n&&e&&(n.emit("feedbackInline:"+e,i),this.config.poll&&n.emit("feedbackInline:"+e+":"+this.config.poll,i)),_r_()}}),_r_()}),_r_()}(window.booking),B.when({action:"hotel"}).run(function(e){_i_("269:c0b22bce");var a=null,o=e("jquery"),s=e("jstmpl"),t=e("events"),i=o('[data-lang-item="true"]'),n=o(".reviewer_type_filter");t.on("hotel:reviewlist:success:tab",function(){_i_("269:4cf6a14b");var e=n.val();if(e===a)return _r_();a=e,i.each(function(e,t){_i_("269:5fa50ec1");var i=o(t),n=i.find(".language_review_count"),r=parseInt(i.data("review-count-"+a),10)||0;n.text(s.translations("reviews_number_hotel_display",r,{number_of_reviews:r.toString()})),_r_()}),_r_()}),_r_()}),function(e){_i_("269:d1ae6d14"),e.when({events:"ready",action:"hotel",condition:function(){return _i_("269:6f6b8e9c"),_r_(document.querySelectorAll(".hprt-table-cell-conditions").length&&document.querySelectorAll(".hprt-table .hprt-conditions-tooltip").length)}}).run(function(e){_i_("269:946b880e");var i=e("jquery"),n=window.BUI;i(".hprt-table .hprt-conditions-tooltip").each(function(){_i_("269:964bf7a2");var e=i(this).attr("data-policy-long-id"),t=i("#"+e).html();n.createInstance("Tooltip",this,{text:t}).mount(),_r_()}),_r_()}),_r_()}(booking),function(){_i_("269:6b0cc6c2");var t="BKPBOTfdASFNHWbOTdfdQRMFXJaGabaSVZOHYO";B.when({action:"hotel",events:"ready",experiment:t}).run(function(e){_i_("269:9d520dcf");var t=e("jquery"),i=t(".hprt-table .hprt-table-header").outerHeight();t(".js-fake-header").css({height:i}),B.events.emit("fake-header-loaded"),_r_()}),B.when({action:"hotel",events:"view #hprt-form"}).run(function(e){_i_("269:8076f808"),e("et").stage(t,1),_r_()}),_r_()}(),B.when({}).run(function(e){_i_("269:11179fb9");var i=e("jquery");i(document).on("click",".js--rt-lightbox-reviews-container-close",function(e){_i_("269:724f65f2");var t=i(this).parents(".rt-lightbox-reviews-container").first();t.length&&t.addClass("g-hidden"),_r_()}),_r_()}),B.require(["please"],function(t){_i_("269:30a7a1be");function i(e,t,i){_i_("269:043efd7a");var n=e;i.target&&(n=$(i.target)),n[i.action].apply(n,t),_r_()}["empty","hide","show","remove","addClass","removeClass","toggleClass"].forEach(function(e){_i_("269:dd6253a8"),t.addAction(e,i),_r_()}),_r_()}),B.require(["please"],function(e){function t(e,t){_i_("269:456524a8"),B.et.customGoal(t[0],t[1]),_r_()}_i_("269:07fe50ab"),e.addAction("track",function(e,t){_i_("269:e27024b9"),B.et.track(t[0]),_r_()},{once:[]}),e.addAction("stage",function(e,t){_i_("269:52ce2044"),B.et.stage(t[0],t[1]),_r_()},{once:[]}),e.addAction("customGoal",t,{once:[]}),e.addAction("goal",t,{once:[]}),_r_()}),function(){_i_("269:0d9edb4a");var l="action",c="arguments";B.define("please",function(e,t,i){_i_("269:0acd3cc7");var n=[],r=B.debug("please");function a(e,t){return _i_("269:77d9fc05"),_r_(function(){return _i_("269:825d0223"),_r_(t.apply(this,[e].concat(Array.prototype.slice.call(arguments))))})}function o(e,t){if(_i_("269:acee3ab8"),!t)return _r_();t.on&&0!=t.on.length||(t.on=["init"],r.warn('Missing event-name on "'+t[l]+'". Will use on(init) instead.'));var i=a(function(){},function(){_i_("269:07cfb184"),function(e,t){_i_("269:5d52a65a"),n[t[l]]?n[t[l]](e,t[c],t):r.warn('Undetected action "'+t[l]+'", probably missing action plugin for please-component ');_r_()}(e,t),_r_()}.bind(this));switch(t.delay&&t.delay[0]?t.delay=function(e){_i_("269:da8d65c5");var t=parseInt(e);return e.match(/\d+s/im)?t*=1e3:e.match(/\d+m(in)?$/im)&&(t=60*t*1e3),_r_(t)}(t.delay[0]):t.delay=0,i=a(i,function(e){_i_("269:d95be803"),setTimeout(e,t.delay),_r_()}),t.on[0]){case"view":B.tools.dom.watchIfBlockVisibleInViewport(e,i,!0);break;case"click":case"hover":case"focus":case"blur":case"mouseover":case"mouseenter":case"mouseleave":e.on(t.on.join(","),i);break;case"init":i();break;default:r.warn('Undetected event type: "'+t.on+'"')}_r_()}function s(e){_i_("269:74670c63");for(var t,i=[],n=!1,r=[],a=0;a<e.length;a++)" "===(t=e[a])||","===t?n?r.push(t):0<r.length&&(i.push(r.join("")),r=[]):"'"===t||'"'===t?n===t?n=!1:!1===n?(n=t,r.push("")):r.push(t):r.push(t);return 0<r.length&&(i.push(r.join("")),r=[]),_r_(i)}function _(e){_i_("269:fbde15b7");var n={},t=e.match(/\w+(\(.*?\))?/gim);if(!t)return 0<e.trim().length&&r.warn("Can't parse string, probably syntax error: "+e),_r_(!1);return t.forEach(function(e,t){_i_("269:c2de00fb");var i=e.indexOf("(");-1<i?0!=t?n[e.substring(0,i)]=s(e.substring(i+1,e.length-1)):(n[l]=e.substring(0,i),n[c]=s(e.substring(i+1,e.length-1))):0!=t?n[0!=t?e:l]="":n[l]=e,_r_()}),_r_(n)}r.log("Core initialized"),i.exports={addAction:function(e,t,i){_i_("269:82ba9465"),n[e]=t,_r_()},go:function(e,t){_i_("269:c9283373"),e.split(";").map(_,this).forEach(function(e){_i_("269:1a9ba08a"),o(t,e),_r_()}.bind(this)),_r_()}},_r_()}),B.define("component/please",function(e,t,i){"use strict";_i_("269:d32de52b");var n=e("component"),r=e("please"),a=B.debug("please");i.exports=n.extend({init:function(){_i_("269:3b81329e"),a.log("[component] Incoming please-string: "+this.$el.attr("data-please")),r.go(this.$el.attr("data-please"),this.$el),_r_()}}),_r_()}),_r_()}(),B.define("hotel/price-control",function(e,t,i){_i_("269:4a1aaf5a");var n=e("event-emitter"),r=e("jstmpl"),a=function(){_i_("269:5e7c26d1"),this.options={classes:{active:"hp-availability-section--active",noNightsCount:"hp-availability-section--no-nights-count",nightsStayControl:"hp-availability-section--ns-control"}},this.$element=$(".js-hp-availability-section"),this.$checkin=this.$element.find(".lp_bold_date_picker_checkin span"),this.$checkout=this.$element.find(".lp_bold_date_picker_checkout span"),n.extend(this),this._addHandlers(),_r_()};return $.extend(a.prototype,{_addHandlers:function(){_i_("269:86f0334c");var t=this;this.$element.find(".lp_bold_date_picker_select").on("click",function(){_i_("269:2e2d86b1"),t._showCalendar(),_r_()}),this.$element.find(".lp_bold_date_picker_btn").on("click",function(){return _i_("269:a14636b4"),t._showCalendar(),_r_(!1)}),this._getNightsStayControlContainer().on("change",function(){_i_("269:a0bf6116"),t._setNightsStayCount(t._getNightsStayControl().val()),_r_()}),this._getNightsStayControlContainer().on("click",function(e){_i_("269:0f0101a8"),e.stopPropagation(),_r_()}),this.on("datesChanged",function(e){_i_("269:2f6774fb"),t._changeDates(e),_r_()}),_r_()},_showCalendar:function(){_i_("269:91a5a08d"),this.trigger("JACK:showCalendar"),this._enableCTA(),this._showNightStayControl(),_r_()},_enableCTA:function(){_i_("269:d92a044a"),this.$element.find(".lp_bold_date_picker_btn").prop("disabled",!1).removeClass("b-button_disabled"),this.$element.addClass(this.options.classes.active),_r_()},_showNightStayControl:function(){_i_("269:65f83452");var e=this;e.$element.addClass(e.options.classes.noNightsCount),setTimeout(function(){_i_("269:670b0811"),e._getNightsStayPresenter().hide(),e.$element.addClass(e.options.classes.nightsStayControl),_r_()},300),_r_()},_getNightsStayPresenter:function(){return _i_("269:ffc8868e"),_r_(this.$element.find(".b-form-number-of-nights"))},_getNightsStayControl:function(){return _i_("269:5a859a22"),_r_(this.$element.find(".js-hp-availability-section__nights-count"))},_getNightsStayControlContainer:function(){return _i_("269:23b5e451"),_r_(this._getNightsStayControl().parent())},_setNightsStayCount:function(e){_i_("269:bf7e866b"),this.trigger("JACK:changeNightsStayCount",e||1),_r_()},_getNightsStayCount:function(){return _i_("269:7daaff63"),_r_(this._getNightsStayControl().val())},_changeNightsStayTranslation:function(){_i_("269:cd473c44");var e=this._getNightsStayCount(),t=this._getNightsStayControlContainer(),i=this._getNightsStayControl().clone();i.find("option").removeAttr("selected"),i.find("option[value="+e+"]").attr("selected","selected"),t.html(r.translations("deals_flexi_calendar_nights_stay_selector",this._getNightsStayCount(),{number_nights:$("<div />").append(i).html()})),_r_()},_changeDates:function(e){_i_("269:fe28ed38");var t=B.formatter.date(e.checkinDate),i=B.formatter.date(e.checkoutDate);this._setCheckinDate(t),this._setCheckoutDate(i),_r_()},_setCheckinDate:function(e){_i_("269:10218408"),this.$checkin.text(e||""),_r_()},_setCheckoutDate:function(e){_i_("269:2cdf8319"),this.$checkout.text(e||""),_r_()}}),_r_(a)}),B.when({events:"ready",action:"hotel",condition:$("[data-ribbon-clickable=true]").length}).run(function(e){_i_("269:17e83f4a");var t,i=e("jquery"),n=e("window-scroller"),r=i("[data-ribbon-clickable=true]"),a="room_with_ribbon",o=a+"__highlighted",s=function(){_i_("269:b345f637");var e=r.attr("data-ribbon-percent"),t=i("[data-room-with-percentage="+e+"]");if(t&&t.length)return _r_(t.closest("tr").first());_r_()}(),_=!0;if(!s||!s.length)return r.on("click",function(){_i_("269:c0908f6f"),_i_("269:6e02b913"),n.scrollToBlock(i("#maxotel_rooms")),_r_(),_r_()}),_r_();t=s.add(s.prevAll(".maintr:first")),0<s.prevUntil(".maintr").length&&(_=!1),t.addClass(a),r.on("click",function(){_i_("269:fecb38eb"),function(){_i_("269:2611df2a"),s&&s.length&&n.scrollToBlock(s,_,void 0,_?90:void 0).then(function(){_i_("269:96c454cd"),_i_("269:b4f85fe1"),t.addClass(o),setTimeout(function(){_i_("269:6fb8236c"),t.removeClass(o),_r_()},600),_r_(),_r_()});_r_()}(),_r_()}),_r_()}),B.define("component/tpi/payment-icons",function(e,t,i){_i_("269:0ed6e17f");var n=e("jstmpl"),r=e("jquery");function a(e){_i_("269:a304cbb6"),this.$el=e,this._tmpl=n("tpi_roomblock_payment_icons"),this.endpointURL=B.env.wholesaler_configuration.payment_methods_url,_r_()}a.prototype._render=function(e){_i_("269:cb2dcc5f"),this.$el.html(this._tmpl.render({fe_payment_methods:e.payment_methods})),_r_()},a.prototype._fetchPaymentMethods=function(){return _i_("269:33c47559"),_r_(r.ajax({type:"GET",cache:!1,xhrFields:{withCredentials:!0},dataType:"json",contentType:"application/json; charset=utf-8",timeout:2e4,url:this.endpointURL,data:{cc1:B.env.b_guest_country,currency:B.env.b_selected_currency}}))},a.prototype.fetchAndRender=function(){_i_("269:09b23a37"),this._fetchPaymentMethods().then(this._render.bind(this)),_r_()},a.prototype.fetch=function(e){_i_("269:3bac7f11"),this._fetchPaymentMethods().then(e),_r_()},a.prototype.render=function(e){_i_("269:f6e9f07a"),this._render(e),_r_()},i.exports=a,_r_()}),B.define("component/tpi/room_block/tmpl_data",function(e,t,i){_i_("269:fcd4e858");var n=B.env.wholesaler_configuration||{};i.exports={fe_tpi_breakfast_score:parseFloat(n.fe_tpi_breakfast_score||0),fe_tpi_breakfast_review_nr:parseInt(n.fe_tpi_breakfast_review_nr||0),no_paid_breakfast_included:n.no_paid_breakfast_included,breakfast_costs_extra:n.breakfast_costs_extra,b_checkin_checkout_interval_is_1:n.b_checkin_checkout_interval_is_1,b_checkin_checkout_interval:B.env.b_checkin_checkout_interval,fe_max_occupants:n.fe_max_occupants,b_is_aspiring_genius:n.b_is_aspiring_genius,fe_show_raf_disclaimer:n.fe_show_raf_disclaimer,b_hotel_class:B.env.b_hotel_class,b_companyname:B.env.b_companyname,b_lang:B.env.b_lang,b_lang_is_cjk:B.env.b_lang_is_cjk,b_lang_is_rtl:n.b_lang_is_rtl,b_book_window_zero:n.b_book_window_zero,b_show_citizen_vat_message:n.b_show_citizen_vat_message,paid_in_some_blocks:n.paid_in_some_blocks},_r_()}),B.define("component/tpi/room_block/block_v2",function(t,e,i){"use strict";_i_("269:4ada7912");var n,r,a,s,o=t("component"),_=t("jstmpl"),l=t("component/tpi/room_block/lightbox/lightbox_v2"),c=t("et"),h=t("events"),d=t("hotel/redux/actionTypes"),f=t("hotel/store"),u=B.env.wholesaler_configuration||{},p=t("component/tpi/room_block/tmpl_data"),m=[];function b(e,t,i){return _i_("269:f386f57a"),"hide"===t?e.hide():e.show(),_r_(e)}function g(e){return _i_("269:03cf715a"),!e&&n||(n=$(".hprt-nos-select")),_r_(n)}function v(){_i_("269:a952ddfc"),(_i_("269:2de80f59"),r||(r=g().filter(function(){return _i_("269:8d3a7d45"),_r_(0===$(this).parents(".wholesalers_table__select_rooms").length)})),_r_(r)).attr("disabled",!1),_r_()}function y(){var t;return _i_("269:ae5e8df5"),a||(t=$(".wholesalers_table__reserve_container"),a=[".prd-taxes-and-fees-under-price",".hprt-booking-summary-best-price",".ge-room-upgrade-label",".hprt-booking-summary-dont-worry",".hprt-booking-summary-genius-challenge",".hprt-booking-cta-ticker",".hprt-no-cc-needed",".rt_no_cc"].map(function(e){return _i_("269:e542b073"),_r_(t.find(e))})),_r_(a)}function M(e){return _i_("269:8a319e31"),e&&y().forEach(function(e){_i_("269:71c7224b"),e.is(":visible")&&m.push(e),_r_()}),_r_(m)}function w(t){_i_("269:19de3c5f");var i=$(".wholesalers_table__reserve_container");[".wholesalers_table__reserve_column_extras",".wholesalers_table__booknow__reassurance"].map(function(e){_i_("269:e134bc23");var t=i.find(e);return _r_(t)}).forEach(function(e){_i_("269:49e244e22"),b(e,t),_r_()}),_r_()}function k(e){_i_("269:0fbbdb1e"),e.find("td.ws-table-cell").addClass("hprt-table-cell"),_r_()}var E=o.extend({init:function(e,t,i){_i_("269:ebdddda4"),this.needToAnim=!1,this.needToStopAnim=!1,this.needToShowNoAvailability=!1,this._addFirstRoomIdToUrl(e),(this.roomData=e).showNoResultsFound?(this._showNoResultsFound(),h.emit(B.hotel.Events.ThirdPartyInventory.TPI_NO_RESULTS_FOUND)):(this.roomIdx=i,this.exps=t,this._render()._bindEvents(),h.emit(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED,e)),_r_()},_addFirstRoomIdToUrl:function(e){if(_i_("269:58535ac6"),B.env.wholesaler_configuration.b_send_first_room_id_to_bp_feature){var t=$(".hprt-roomtype-scroll-target").first().attr("name");e.booking_url+=";first_room_id="+t+"&"}_r_()},_updateReserveColumn:function(){_i_("269:f6a3eb04");var e=_("tpi_roomblock_reservation_column_extras"),t=$(".hprt-table-cell.-last");t.addClass("wholesalers_table__reserve_container").attr("id","hprt-ws--reserve-column"),B.et.track("BKPBOTfdASFNHWbOTdfdQRMFXJaGabaSVZOHYO")||t.detach().appendTo(this.$el);var i=Object.assign({room_block:this.roomData||{},exps:this.exps||{}},p);B.et.track("BKPBOTfdASFNHWbOTdfdQRMFXJaGabaSVZOHYO")?$(e.render(i)).insertAfter(t.find(".hprt-reservation-cta")):$(e.render(i)).insertAfter(this.$el.find(".hprt-reservation-cta")),t.find(".hprt-block.reserve-block-js").append(),_r_()},_showVisibleElements:function(){_i_("269:eb24178d");var e=this.$el;e.find(".wholesalers_table__roomname__content").show(),e.find(".wholesalers_table__price__lower").show(),e.find(".wholesalers_table__bed_options__holder").show(),e.find(".wholesalers_table__bed_option").show(),e.find(".wholesalers_table__options__meal_plan").show(),e.find(".wholesalers_table__options__meal_plan_text__with_score").show(),e.find(".wholesalers_table__options__meal_plan span.mp-icon").show(),e.find(".tpi_rt_bed_type_warning").show(),_r_()},_render:function(){_i_("269:e39edd2b");var e,t,i,n,r=this.$el,a=this.roomData,o=this.mappedRoomData=(i=this.roomData,_i_("269:f236967c"),_r_({b_id:i.room_id,b_name:i.room_name,b_has_a11y_facilities:0,b_has_room_inventory:1,b_roomtype_id:null,b_blocks:[{b_stay_prices:[{b_raw_price:i.b_price_unformatted,b_price:"",b_stays:0},{b_raw_price:i.b_price_unformatted,b_stays:1,b_price:i.price_formatted}],b_book_now_pay_later:0,b_nr_stays:1,b_max_persons:parseInt(u.search_config_adults||"0",10),b_rate_is_genius:0,b_rate_is_cug_business_rate:0,b_price:i.price_formatted,b_cancellation_type:"non_refundable",b_raw_price:"110.00",b_mealplan_included_name:null,b_block_id:"bbasic_"+i.room_id,b_business_package_match:0}]}));return this._showVisibleElements(),k(r),B.env.b_reserve_button_on_each_block?r.find(".wholesalers_table__booknow__button").attr("href",a.booking_url):(0===this.roomIdx&&this._updateReserveColumn(),e=_("tpi_roomblock_select_rooms"),(t=r.find(".hprt-table-room-select.wholesalers_table__select_rooms .wholesalers_table__col__content")).html(e.render({fe_hprt_block:o.b_blocks[0],fe_hprt_room:{b_id:o.b_id}})),t.loadComponents(),r.data("block-id",o.b_blocks[0].b_block_id),g(!0)),1==B.env.b_is_in_ryokan_meal_plan_beta&&1==c.track("IaaVGGeaQDSFKUddVCUC")&&$(".hprt-conditions-tooltip__wholesaler").css("top","62px"),$("li.wholesalers_table__options__no_invoice").show(),$("span.hprt-conditions-tooltip-with-no-invoice__wholesaler").show(),$("span.hprt-conditions-tooltip-without-no-invoice__wholesaler").hide(),(0<$(".hprt-table-cheapest-block-banner-wrapper").length||0<$(".hprt-table-cell.hprt-table-cell-price").length)&&($(".hprt-table-cheapest-block-banner-wrapper").hide(),$(".hprt-table-cell.hprt-table-cell-price").removeClass("hprt-table-cheapest-block-arrow"),$(".hprt-cheapest-block-row.hprt-cheapest-block-row-active").css("height","0"),setTimeout(function(){_i_("269:5d374dc0"),$(".hprt-table-cell.hprt-table-cell-price").removeClass("hprt-table-cheapest-block-arrow"),_r_()},2e3)),r.show(),window.BUI.initComponents(r.get(0)),c.initAttributesTracking(r),$(".wholesalers_table__payment_methods").hide(),s||(s=new l,n=$(".hprt-ws-lightbox"),s.prepare({el:n[0],$el:n}),s.init&&s.init()),a.b_new_conf_policy&&$(".wholesalers_table__reserve_container .hprt-booking-cta-ticker .cta-list-item--immediate-conf").remove(),r.find(".wholesalers_table__facilities_wrapper").show(),_r_(this)},_bindEvents:function(){_i_("269:769c320a");var e=this.$el,r=this.roomData;return e.find(".wholesalers_table__booknow__info_icon").hide(),e.find(".wholesalers_table__booknow__info_text").hide(),e.on("click",".hprt-ws-roomtype-link",function(e){_i_("269:1643ad94"),e.preventDefault(),s.show(this.roomData,this.exps),_r_()}.bind(this)),e.on("click",".wholesalers_table__facilities_openlink",function(){_i_("269:36939f64"),$(this).hide(),e.find(".wholesalers_table__facilities_closelink").show(),e.find(".wholesalers_table__facilities_holder_overflow").slideDown("fast"),setTimeout(function(){_i_("269:784b4cfa"),$(window).trigger("resize"),_r_()},1e3),_r_()}),e.on("click",".wholesalers_table__facilities_closelink",function(){_i_("269:9227c30f"),$(this).hide(),e.find(".wholesalers_table__facilities_openlink").show(),e.find(".wholesalers_table__facilities_holder_overflow").slideUp("fast"),setTimeout(function(){_i_("269:784b4cfa1"),$(window).trigger("resize"),_r_()},1e3),_r_()}),B.env.b_reserve_button_on_each_block||$("#hprt-form").on("submit",function(e){_i_("269:2a6b4829");var t=f&&f.getState().roomsTable.js_selection,i=t&&t.blockIDs&&t.blockIDs.length?t.blockIDs:[],n=-1;i.some(function(e){return _i_("269:7d0391c8"),n=e.indexOf("bbasic"),_r_(0<=n)})&&(e.preventDefault(),e.stopPropagation(),window.location=r.booking_url),_r_()}.bind(this)),_r_(this)},_showNoResultsFound:function(){_i_("269:32226e5d");var i=this.$el;k(i),this._updateReserveColumn(),i.show(),M(!0),i.find(".wholesalers_table__col__temp_placeholders").show();var n=i.find(".wholesalers_table__loader");n.find(".wholesalers_table__loader__checking").show(),n.find(".wholesalers_table__loader__text_title").show();var r=$(".ws-table-cell").filter(function(){return _i_("269:e46e00ba"),_r_(!$(this).hasClass("-last"))}),e=function(){_i_("269:0bdbe3c9");var e=0;r.each(function(){_i_("269:8e6183b5"),e+=$(this).outerWidth(),_r_()}),e=e||i.width();var t=Math.floor((e-400)/2)+"px";B.env.wholesaler_configuration.b_lang_is_rtl?n.css("right",t):n.css("left",t),_r_()};e(),n.show(),$(window).on("resize",e),setTimeout(function(){_i_("269:1409d5d9"),$("html, body").animate({scrollTop:i.offset().top},1e3),i.find(".wholesalers_table__loader__checking").fadeOut(function(){_i_("269:25d4959e"),i.find(".wholesalers_table__loader__missed").fadeIn(),_r_()}),_r_()},600),_r_()}});E.wholesalersReserveCaptions={},E.booking_urls={},E.updateSelectionEnablement=function(){_i_("269:817c4dae");var e,t,i,n,r=f.getState().roomsTable.js_selection;0<r.roomCount?(e=r.blockIDs.filter(function(e){return _i_("269:717c7bae"),_r_(0<=e.indexOf("bbasic_"))}),r.blockIDs.filter(function(e){return _i_("269:62b51b25"),_r_(e.indexOf("bbasic_")<0)}).length&&(_i_("269:8d003244"),$("tr.wholesalers_table__row .hprt-nos-select").attr("disabled",!0),_r_()),e.length&&(n=e[0],_i_("269:f0afc28b"),g().not("select.hprt-nos-select[data-block-id='"+n+"']").attr("disabled",!0),_r_(),i="hide",_i_("269:962e29c4"),y().forEach(function(e){_i_("269:49e244e2"),b(e,i),_r_()}),_r_(),w("show"))):(_i_("269:d27d1ce8"),$("tr.wholesalers_table__row .hprt-nos-select").attr("disabled",!1),_r_(),v(),w("hide"),t="show",_i_("269:ddcdd888"),M(!1).forEach(function(e){_i_("269:49e244e21"),b(e,t),_r_()}),_r_()),_r_()},E.bindToRoomsTable=function(e){_i_("269:d29c3af8");var i=t("component/hotel/new-rooms-table/summary/fade");f.dispatch({type:d.ADD_TPI_ROOMS,rooms:e}),M(!0),setTimeout(function(){_i_("269:45d88bfc");var e=$("#hprt-ws--reserve-column"),t=new i;t.prepare({el:e[0],$el:e}),t.init&&t.init(),E.updateSelectionEnablement(),_r_()},8),f.subscribe(E.updateSelectionEnablement.bind(this)),h.emit(B.hotel.Events.ThirdPartyInventory.TPI_ALL_BLOCKS_LOADED),_r_()},i.exports=E,_r_()}),B.define("component/tpi/room_block/lightbox/lightbox_v2",function(e,t,i){_i_("269:3463db58");var n=e("component"),r=e("et"),a=e("jstmpl"),o=e("lightbox"),s=e("hotel/rooms_table/lightbox/gallery"),_=e("component/tpi/room_block/tmpl_data"),l=n.extend({init:function(){_i_("269:6ce69cfa"),this._tmpl=a("tpi_lightbox"),_r_()},_render:function(e,t){_i_("269:b4e2a878");var i=Object.assign({room_block:e,exps:t||{}},_);return this.$el.html(this._tmpl.render(i)),r.initAttributesTracking(this.$el),_r_(this)},_showVisibleElements:function(){_i_("269:2e86fbcc");var e=this.$el;return e.find(".wholesalers_table__options__meal_plan").show(),e.find(".wholesalers_table__options__meal_plan_text__with_score").show(),e.find(".wholesalers_table__options__meal_plan span.mp-icon").show(),_r_(this)},show:function(e,t){_i_("269:bd12f417");var i=["hprt-ws-lightbox--wrapper"];this._render(e,t)._showVisibleElements();var n=this.$el.find(".hprt-ws-lightbox-gallery-container");n.length&&n.loadTPIPlaceholders&&!this.$el.data("placeholders-loaded")&&(n.loadTPIPlaceholders(),this.$el.data("placeholders-loaded",1)),o.show(this.$el,{customWrapperClassName:i.join(" "),bOverflowVisible:!0,position:"dynamic"}),n.length&&!n.hasClass("slicked")&&(n.addClass("slicked"),new s(n)),_r_()}});i.exports=l,_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.wholesaler_configuration}).run(function(e){_i_("269:13619ce7");var a=e("jquery")(".tpi_last_image_text_new");e("events").on(B.hotel.Events.ThirdPartyInventory.TPI_BLOCK_LOADED,function(e){if(_i_("269:74212d48"),e&&e.price_formatted){var t=B.env.b_hotel_name,i=B.env.b_map_nights,n=B.env.wholesaler_configuration.user_name,r=B.env.wholesaler_configuration.location_score;n?8<=r?a.text(B.jstmpl.translations("tpi_hp_gallery_dates_top_location_personalised",null,{user_first_name:n,hotel_name:t,location_score:r,basic_price:e.price_formatted})):a.text(B.jstmpl.translations("tpi_hp_gallery_dates_basic_price_personalised",null,{user_first_name:n,hotel_name:t,basic_price:e.price_formatted,num_nights:i})):8<=r?a.text(B.jstmpl.translations("tpi_hp_gallery_dates_top_location",null,{hotel_name:t,location_score:r,basic_price:e.price_formatted})):a.text(B.jstmpl.translations("tpi_hp_gallery_dates_basic_price",null,{hotel_name:t,basic_price:e.price_formatted,num_nights:i}))}_r_()}),_r_()}),B.require(["et","jquery"],function(e,a){_i_("269:5ffcb079"),"msie"==B.env.b_browser&&9==B.env.b_browser_version&&a(function(){_i_("269:28162666");var e=a("#photo_wrapper"),r=e.find(".hp-gallery-slides");e.on("click",function(){_i_("269:a5f69342");var e=r.slick("getSlick"),t=a(e.$slides[e.getCurrent()]),i=t.attr("data-photoid");if("last_item_cta"===i){var n=t.attr("data-slick-index");return _r_(a(".bh-photo-modal").trigger("setPos",parseInt(n,10)))}if(B.env.fe_hotel_has_360_photos&&"thumb_360_view"===i){n=t.attr("data-slick-index");return _r_(!1)}t.hasClass("hp-gallery__slide--landmark")&&(i=t.attr("data-landmarkid")),a(".bh-photo-modal").trigger("openPhotoId",i),_r_()}),_r_()}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(){_i_("269:61c66ac2");var e=B.require("growl"),s=B.require("jquery"),t=B.require("et"),i=null,n=null,r=B.env.is_rooms_table_rewrite?s(".hprt-table"):s("table.roomstable"),a=s(window);if(!(r.length&&a&&t&&e))return _r_();function o(){_i_("269:1218916a"),i&&(s.noticeRemove(i),i=null),_r_()}function _(){_i_("269:ded578e5"),a.scrollTop()+a.height()<r.offset().top||a.scrollTop()>r.offset().top+r.height()?n&&(i||(i=e.trigger("abandoned_rooms_table"))&&i.find(".abandoned-rt-summary").empty().append(n)):o(),_r_()}function l(e){_i_("269:520a4e3e"),o(),a.scroll(_),(n=e.clone()).find(".book_now_best_price_reinforcement").remove(),n.find(".tp-boxit").removeClass("tp-boxit"),n.find(".site_price").removeClass("site_price"),n.show(),_r_()}function c(){_i_("269:4daf520d"),o(),a.off("scroll",_),n=null,_r_()}if(B.env.is_rooms_table_rewrite){var h=B.require("hotel/store");h.subscribe(function(){_i_("269:6277388d");var e=h.getState().roomsTable.js_selection;if(e.roomCount){var t=B.require("hotel/utils/rooms-selected-copy"),i=s(".hprt-summary-dates"),n=i.length?i.html():"",r=s("<div>"+t(e.roomTypes,e.roomCount)+' <div class="hprt-reservation-total-price">'+e.totalPriceFormatted+"</div>"+n+"</div>"),a=B.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(B.env.b_guest_country),o=B.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(B.env.b_guest_country);(a||o)&&r.find(".hprt-reservation-total-price").after('<div class="hp-abandoned-cart-charges-text">'+(e.chargesText||"")+"</div>"),l(r)}else c();_r_()})}else B.events.on(B.hotel.Events.RT.SUMMARY_CHANGE,l),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,c);_r_()}),function(e){"use strict";_i_("269:41b40da8"),e.require(["jquery","hotel/rooms_table/gently_select_rooms"],function(e,t){_i_("269:bb0bfb4a");e(".hp-scroll-up-to-dates").on("click keydown",function(e){if(_i_("269:15eb836e"),"keydown"===e.type&&13!==e.which&&32!==e.which)return _r_();t.scrollToRoomsTable(),_r_()}),_r_()}),_r_()}(window.booking),function(e){_i_("269:8bcddd61");var t=e.require("jquery"),r="data-breakfast-included";!function(){_i_("269:a1f1b63e");var i=t("#booking-summary .breakfast-included"),n={};e.events.on(e.hotel.Events.RT.ROOM_SELECTED,function(e){_i_("269:f2cb7e4d");var t=parseInt(e.no_rooms,10);n[e.block_id]=0<t?e:null,function(n){_i_("269:79fea952");var e=Object.keys(n).filter(function(e){return _i_("269:351d6510"),_r_(n[e])});return _r_(e.length&&e.reduce(function(e,t){_i_("269:b0588238");var i=n[t];return _r_(e&&"1"===i.$el.closest("tr").attr(r))},!0))}(n)?i.removeClass("g-hidden"):i.addClass("g-hidden"),_r_()}),_r_()}(),_r_()}(window.booking),function(i){_i_("269:b02ac359"),i.when({events:"ready"}).run(function(){_i_("269:2f324896");var t=i.require("jquery"),e=i.require("search/searchbox/model").getInstance("main");e.use("group"),e.on("change",function(e){_i_("269:7590bdf5"),"group"==e.group&&t(".lp_bold_date_picker_btn").removeClass("b-button_disabled").removeAttr("disabled"),_r_()}),_r_()}),_r_()}(window.booking),B.define("hotel/rooms_table/select_room_tooltip_alert",["jquery","events"],function(e,t){_i_("269:4cfd18fa");var n,i,r,a,o=30;!function(){_i_("269:9b0454be"),a=e(".select_room_tooltip_alert_container"),i=e(".roomstable"),e(".hp-rt-sticky-av-header-message").length&&(o=60);r=i.find(".b_room_selectbox"),_r_()}();var s=(_i_("269:138fc72a"),_r_(function(){_i_("269:e020f6d9");var i,e=(_i_("269:71e7a5d8"),r.each(function(e,t){if(_i_("269:387f4d59"),t.getBoundingClientRect().top>o)return i=t,_r_(!1);_r_()}),_r_(i));a.insertAfter(e),a.css("display","block").animate({opacity:1},600),n=window.setTimeout(function(){_i_("269:dba5ff7f"),a.animate({opacity:0},600,function(){_i_("269:a5ea8678"),a.hide(),_r_()}),_r_()},4e3),_r_()})),_=(_i_("269:501ffec0"),_r_(function(){_i_("269:cf92aed3"),clearTimeout(n),a.stop().css({opacity:0,display:"none"}),_r_()}));return _r_({showMessage:s,resetMessage:_})}),function(){_i_("269:d1ee38aa");var e,l,c=B.require("jquery"),t=B.require("events"),h=c("#bookNow1 .js-rt__summary__reserve-button"),d={};if(B.env.b_is_tablet||!h.length)return _r_();e=h.attr("data-title"),l=B.jstmpl("template_hp_reserve_tooltip_like_on_bp_bs2"),t.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,function(e,t,i,n){_i_("269:30f2550a"),!0,function(){_i_("269:7074138e");var e,i=[],a={};c(".b_room_selectbox").each(function(){var e;_i_("269:2af7bbca");var t,i=c(this);if("0"!==i.val()&&(e=(t=i.closest("tr"))[0].className.match(/room_loop_counter(\d+)/))&&1<e.length){var n=a[e[0]]=a[e[0]]||{};n.b_room_name=t.siblings(".maintr."+e[0]).find("span:first a:first").text(),n.b_room_policies=n.b_room_policies||[];var r={};t.find(".breakfast_included_policy").length&&(r.breakfast=1),n.b_room_policies.push(r)}_r_()}),c.each(a,function(e,t){_i_("269:9c0b40ce"),i.push(t),_r_()});for(var t=!!i.lengh,n=!0,r=0,o=i.length;r<o;r++)if(i[r].b_room_policies)for(var s=0,_=i[r].b_room_policies.length;s<_;s++)i[r].b_room_policies[s].pay_later||(t=!1),i[r].b_room_policies[s].breakfast||(n=!1);d={b_all_rooms_have_pay_later:t,b_all_rooms_have_breakfast_included:n,b_hotel_name:B.env.b_hotel_name,b_interval:B.env.b_checkin_checkout_interval,b_checkin_localized_date_with_weekday:B.formatter.date(B.env.b_checkin_date,"date_with_weekday"),b_checkout_localized_date_with_weekday:B.formatter.date(B.env.b_checkout_date,"date_with_weekday"),b_check_in_time_translated:B.env.b_check_in_time_translated,b_check_out_time_translated:B.env.b_check_out_time_translated,b_room_details:i,b_user_auth_level_is_low_or_high:B.env.b_user_auth_level_is_low_or_high},e=l.render(d),h.attr("data-title",e).removeAttr("id").attr("data-tooltip-class","submit_holder_button_tooltip").addClass("tooltip_like_on_bp_bs2"),_r_()}(),_r_()}),t.on(B.hotel.Events.RT.SUMMARY_HIDE,function(){_i_("269:2e61a642"),!1,h.attr("data-title",e).removeAttr("id").removeAttr("data-tooltip-class").removeClass("submit_holder_button_tooltip"),_r_()}),h.on("mouseenter",function(){_i_("269:c5c23741"),_r_()}),_r_()}(),function(t){_i_("269:ec68f754");var i=t.require("jquery"),n=t.require("lightbox"),r=t.require("events"),a=t.require("trap-focus");i(function(){_i_("269:ef416641"),i(".av-summary-value, .av-summary-button").on("click",function(e){_i_("269:50029ad9"),n.show(i(".av-popup-lightbox"),{customWrapperClassName:"av-popup-lightbox-wrapper",bOverflowVisible:!0,ariaLabel:t.jstmpl.translations("hp_rt_sticky_search_head"),hideCallBack:function(){_i_("269:db1cc2af"),r.trigger("avblock:close"),a.release(),_r_()}},function(){_i_("269:b0d0e533"),a.trap(i(".av-popup-lightbox-wrapper")[0]),_r_()}),r.trigger("avblock:open",{triggerElement:this}),e.preventDefault(),_r_()}),_r_()}),_r_()}(booking),B.require(["jquery","booking-sticker"],function(e,t){_i_("269:48555c07");var i=function(){_i_("269:930459d1"),t.update(),_r_()};e(window).on("resize",i).hashchange(i),_r_()}),B.when({events:"ready"}).run(function(e){_i_("269:ece81fca");var c=e("jquery");if(!B.env.run_cheapest_room)return _r_();var n,r,t=B.require("search-config"),h={b_adults:+t.adults,b_children:+t.children,b_children_ages:t.childrenAges,b_nr_rooms:t.rooms&&t.rooms.length||1,b_checkin_date:B.env.b_checkin_date,b_checkout_date:B.env.b_checkout_date,b_ufi:B.env.b_ufi,b_is_group_search:t.isGroupSearch};if(h.b_is_group_search)return _r_();function i(t){_i_("269:8ec80d17");var e,i=c.ajax({method:"GET",dataType:"json",url:"/is_cheapest",data:{hotel_id:B.env.b_hotel_id,search_key:(e=h,_i_("269:4d36fdc6"),_r_([e.b_ufi,e.b_checkin_date,e.b_checkout_date,e.b_adults].join("_")))}});i.done(function(e){_i_("269:e3bd9470"),e.b_first||1!=e.is_the_cheapest?n&&function(e,t){if(_i_("269:656d20dd"),!e||!t)return _r_();var i="[id='"+t+"']",n="td.roomType."+e,r="[id='"+t+"'] > .roomPrice",a=c(i),o=c("#cheapestBanner"),s=c(i).prevAll("tr.maintr").first().find(n),_=c(r);a.length&&o.length&&_.length&&s.length&&(o.remove(),a.removeClass("cheapest_room_row"),_.removeClass("cheapest_banner_arrow"),s[0].rowSpan=s[0].rowSpan-1);_r_()}(n,r):(n=e.b_room_id,r=e.b_block_id,_i_("269:fc9bb9b1"),_r_(c("#cheapestBanner").length)||function(e,t){if(_i_("269:d6c61744"),!e||!t)return _r_();var i="[id='"+t+"']",n="td.roomType."+e,r="[id='"+t+"'] > .roomPrice",a=c(i),o=c(i).prevAll("tr.maintr").first().find(n),s=c(r);if(a.length&&s.length&&o.length){var _;_={block_id:t,room_id:e,city_name:B.env.b_city_name,in_city_name:B.env.b_in_city_name,num_nights:B.env.b_checkin_checkout_interval,checkin_date:B.env.b_checkin_date,checkout_date:B.env.b_checkout_date,num_adults:B.env.b_occupancy.adults,is_group_search:h.b_is_group_search},B.env.b_less_shouty_persuasion&&(_.less_shouty_persuasion=!0);var l=B.jstmpl("cheapest_banner_block").render(_);a.after(l),a.addClass("cheapest_room_row"),s.addClass("cheapest_banner_arrow"),o[0].rowSpan=o[0].rowSpan+1}_r_()}(n,r)),t&&"function"==typeof t&&t(),_r_()}),i.fail(function(){}),_r_()}i(),c(window).bind("focus",function(){_i_("269:c347f15f"),i(),_r_()}),_r_()}),B.when({action:"hotel",condition:!B.env.is_rooms_table_splitter,events:B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE}).run(function(e){_i_("269:f1478115"),e("jquery")(".rt-summary-dates").removeClass("g-hidden"),_r_()}),B.when({events:"mouseenter .reviews-carousel",experiment:"ABcLAVAPOSdLEWCFZVfCdWe",stage:1}),B.define("component/reviews/review-book-button",["jquery","component"],function(t,e){_i_("269:8026bd5e");var i=B.hotel.hashedTabs;return _r_(e.extend({init:function(){_i_("269:b09fdd5d"),this.$submitButton=this.$el.find("button"),this.roomId=this.$el.attr("data-room-id"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:077ca89f"),this.$submitButton.click(this.goToRoom.bind(this)),_r_()},goToRoom:function(){_i_("269:396a1585");var e=t("#"+this.roomId);if(e.length||(e=t("#no_availability_msg")),!e.length)return _r_();i.showTab("main"),window.location.hash="",t("html, body").animate({scrollTop:e.offset().top-t(".roomstable thead").height()-10},500,"easeOutCubic"),_r_()}}))}),B.require(["jquery","et","events","hotel/utils/click-area"],function(a,e,t){_i_("269:1b7f76da");var i=a("#photos_distinct"),o=a(".bh-photo-modal"),s=a(".hp-gallery-container .hp-gallery");i.on("click",".js-hotel-thumb",function(e){_i_("269:583358cb");var t=a(this),i=t.attr("data-photoid"),n=a(e.target);if(a('.hp-gallery-navigation-link[data-toggle="hp-gallery-streetview"]').length)return _r_();if(n.hasClass("hp-gallery-categories__list_item"))return _r_();if("last_item_cta"===i){var r=s.find(".js-gallery__last-item").attr("data-slick-index");return _r_(o.trigger("setPos",parseInt(r,10)))}if(t.hasClass("hotel_thumbs-landmark")&&(i=t.attr("data-landmarkid")),t.hasClass("hotel_video_thumb"))return _r_();if(B.env.fe_hotel_has_360_photos&&t.hasClass("js-hotel-gallery-thumb")){r=s.find(".js-hp-gallery-360-slide").attr("data-slick-index");return _r_(o.trigger("setPos",parseInt(r,10)))}o.trigger("openPhotoId",i),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,function(e){_i_("269:bc22b7b7");var t=a("#photo_wrapper .hp-gallery-slides").slick("getSlick");t&&t.goTo&&t.goTo(e,!0),_r_()}),_r_()}),function(e){_i_("269:095f8280");var t=e.require("jquery"),i="ZOISdGaGLJWcFQTKbRbDHe";t(function(){_i_("269:d78ef233"),t(".hp-faq-link").on("click",function(){_i_("269:e009803d"),e.et.customGoal(i,1),_r_()}),t(".hp-faq-btn").on("click",function(){_i_("269:ab446f9b"),e.et.customGoal(i,2),_r_()}),_r_()}),_r_()}(booking),function(){_i_("269:c9597773");var e=B.require("jquery")("#js--hp-gallery-scorecard"),t="ABbDSFWJVBZEWVdSVLBLFPWHT";e.on("mouseenter",function(){_i_("269:65cc1d51"),B.et.stage(t,1),_r_()}),B.et.track(t)&&e.on("click",function(){_i_("269:c23855e5"),window.location.hash="#tab-reviews",_r_()}),_r_()}(),function(){_i_("269:a62956b2");var e=B.require("jquery"),t="ZOILOOTESdBJFDbJeZBOEQTeVT",i=!1;e(".hp_nav_bar").on("click","a",function(){_i_("269:997b8985"),e(this).hasClass("hp_nav_availability_link")?(B.et.customGoal(t,1),i=!0):i&&B.et.customGoal(t,2),_r_()}),_r_()}(),B.define("component/hotel/new-rooms-table/mx/excluded-charges",function(e,t,i){_i_("269:ed3eafaa");var n=e("component"),r=e("hotel/store");i.exports=n.extend({init:function(){_i_("269:c90305ef"),r.subscribe(function(){_i_("269:bde72935"),0<r.getState().roomsTable.js_selection.roomCount?this.$el.removeClass("g-hidden"):this.$el.addClass("g-hidden"),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/hotel/new-rooms-table/experiment_single-select-button",function(e,t,i){_i_("269:55f2fd8e");var n=e("component"),r=e("jquery");i.exports=n.extend({init:function(){_i_("269:cde5184c");var i=this.$el;i.click(function(){_i_("269:bfdbe0b1");var e,t=r('#hprt-form input[type="hidden"].js-added-room-input');t.length?t.attr("name","nr_rooms_"+i.attr("data-block-id")):(e=r('<input type="hidden" class="js-added-room-input">').attr("name","nr_rooms_"+i.attr("data-block-id")).val(1),r("#hprt-form").append(e)),r("#hprt-form").submit(),_r_()}),_r_()}}),_r_()}),B.when({events:"ready",action:"hotel",condition:B.require("jquery")("[data-hotel-select-rooms]").length}).run(function(e){_i_("269:510844f2");var t=e("jquery"),n=e("hotel/store"),r=e("hotel/redux/actionTypes"),i=e("hotel/rooms_table/gently_select_rooms"),a=e("lightbox"),o=t("[data-hotel-select-rooms]"),s=t("#hprt-form .hprt-table"),_="hprt-block--room-selected",l=[],c=!1,h=e("events");function d(){_i_("269:4f9068b8");var e=o.data("rooms").split(" ");l=[],e.forEach(function(e){if(_i_("269:5e02939a"),!e)return _r_();var t=e.split(":"),i=t[0];n.dispatch({type:r.SELECT_ROOM,block_id:i,number_of_rooms:parseInt(t[1],10)}),l.push('tr[data-block-id="'+i+'"] td.hprt-table-cell:not(.-first, .-last)'),_r_()}),s.find(l.join(",")).addClass(_),c=!0,_r_()}n.subscribe(function(){if(_i_("269:f827d004"),!c)return _r_();s.find(l.join(",")).removeClass(_),c=!1,_r_()}),o.on("click",function(e){_i_("269:d27e75af"),e.preventDefault(),a.hide(),i.scrollToRoomsTable(1e3,d),h.trigger(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED),_r_()}),_r_()}),B.require(["jquery","et"],function(e,t){_i_("269:be9f51d1");var i=e("#left .hp-social_proof"),n=e("#faq_area"),r=e(".roomstable"),a=e(".sidebar_hotel_review_score"),o=i.offset(),s=r.offset();if(!(o&&s&&n.length&&a.length))return _r_();o.top>s.top&&(i.insertBefore(n),a.insertBefore(i)),_r_()}),B.require(["jquery","et"],function(e,t){_i_("269:c283854d"),e(".facility-badge__icon-hp").length&&t.stage("TAeKPWbOTVLeFNVBUKcfTLKGBfSBET",1),_r_()}),B.define("component/tooltip",function(e,t,i){_i_("269:9de96736");var n=e("component"),r=e("jquery"),a=e("tooltip");i.exports=n.extend({init:function(){_i_("269:edd3b0a0");var e=function(e){_i_("269:658ce0c9");var n={},t=e.data();return r.each(t,function(e,t){var i;if(_i_("269:2be7427a"),e.length<8||0!==e.indexOf("tooltip"))return _r_();i=(e=e.substring(7))[0].toLowerCase()+e.slice(1),n[i]=t,_r_()}),n.target=e,_r_(n)}(this.$el);this.tooltip=a.setup(e),_r_()}}),_r_()}),
/**
@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net
 */
function(){var I,A;if(_i_("269:343cc754"),!(I=this.jQuery||window.jQuery||(window.B&&B.requirejs?B.requirejs("jquery"):null)))return _r_();A=I(window),I.fn.stick_in_parent=function(e){var k,t,B,i,n,E,r,C,S,a,x,T,N;for(_i_("269:4906fa21"),null==e&&(e={}),N=e.sticky_class,E=e.inner_scrolling,T=e.recalc_every,x=e.parent,S=e.offset_top,C=e.spacer,B=e.bottoming,null==S&&(S=0),null==x&&(x=void 0),null==E&&(E=!0),null==N&&(N="is_stuck"),k=I(document),null==B&&(B=!0),a=function(e){var t,i;return _i_("269:c587f432"),window.getComputedStyle?(e[0],t=window.getComputedStyle(e[0]),i=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(i+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),_r_(i)):_r_(e.outerWidth(!0))},i=function(o,s,_,l,c,h,d,f){var u,e,p,m,b,g,v,y,t,M,w,n;if(_i_("269:c112498d"),o.data("sticky_kit"))return _r_();if(o.data("sticky_kit",!0),b=k.height(),v=o.parent(),null!=x&&(v=v.closest(x)),!v.length)throw"failed to find stick parent";if(u=p=!1,(w=null!=C?C&&o.closest(C):I("<div />"))&&w.css("position",o.css("position")),(y=function(){var e,t,i;if(_i_("269:124655f8"),f)return _r_();if(b=k.height(),e=parseInt(v.css("border-top-width"),10),t=parseInt(v.css("padding-top"),10),s=parseInt(v.css("padding-bottom"),10),_=v.offset().top+e+t,l=v.height(),p&&(u=p=!1,null==C&&(o.insertAfter(w),w.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(N),i=!0),c=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-S,h=o.outerHeight(!0),d=o.css("float"),w&&w.css({width:a(o),height:h,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:d}),i)return _r_(n());_r_()})(),h===l)return _r_();return m=void 0,g=S,M=T,n=function(){var e,t,i,n,r,a;if(_i_("269:87f12db0"),f)return _r_();if(i=!1,null!=M&&(M-=1)<=0&&(M=T,y(),i=!0),i||k.height()===b||(y(),i=!0),n=A.scrollTop(),null!=m&&(t=n-m),m=n,p?(B&&(r=l+_<n+h+g,u&&!r&&(u=!1,o.css({position:"fixed",bottom:"",top:g}).trigger("sticky_kit:unbottom"))),n<c&&(p=!1,g=S,null==C&&("left"!==d&&"right"!==d||o.insertAfter(w),w.detach()),e={position:"",width:"",top:""},o.css(e).removeClass(N).trigger("sticky_kit:unstick")),E&&(a=A.height())<h+S&&(u||(g-=t,g=Math.max(a-h,g),g=Math.min(S,g),p&&o.css({top:g+"px"})))):c<n&&(p=!0,(e={position:"fixed",top:g}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(e).addClass(N),null==C&&(o.after(w),"left"!==d&&"right"!==d||w.append(o)),o.trigger("sticky_kit:stick")),p&&B&&(null==r&&(r=l+_<n+h+g),!u&&r))return u=!0,"static"===v.css("position")&&v.css({position:"relative"}),_r_(o.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom"));_r_()},t=function(){return _i_("269:edf1750f"),y(),_r_(n())},e=function(){if(_i_("269:fcbea21a"),f=!0,A.off("touchmove",n),A.off("scroll",n),A.off("resize",t),I(document.body).off("sticky_kit:recalc",t),o.off("sticky_kit:detach",e),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),v.position("position",""),p)return null==C&&("left"!==d&&"right"!==d||o.insertAfter(w),w.remove()),_r_(o.removeClass(N));_r_()},A.on("touchmove",n),A.on("scroll",n),A.on("resize",t),I(document.body).on("sticky_kit:recalc",t),o.on("sticky_kit:detach",e),_r_(setTimeout(n,0))},n=0,r=this.length;n<r;n++)t=this[n],i(I(t));return _r_(this)},_r_()}.call(this),B.define("component/toggle",function(e,t,i){_i_("269:1f2b8ea8");var n=e("component");i.exports=n.extend({init:function(){_i_("269:e25303cb"),this.$el.on("click","[data-toggle]",function(){_i_("269:17db2be7"),this.find("[data-togglable]").toggle(),this.toggleClass("-toggled"),_r_()}.bind(this.$el)),_r_()}}),_r_()}),booking.define("component/collapse",function(e,t,i){_i_("269:5c5eca6a");var n=e("component"),r=e("et");i.exports=n.extend({init:function(){_i_("269:f73ba2f7"),this.$el.on("click",this.toggle.bind(this)),this.$target=this.$el.data("collapse-target")?this.$el.closest(this.$el.data("collapse-target")):this.$el,this.trackGoal=this.$el.data("collapse-goal")||!1,_r_()},toggle:function(){_i_("269:eb99cddb"),this.$target.hasClass("b-collapse__collapsed")?(this.$target.removeClass("b-collapse__collapsed"),this.$target.addClass("b-collapse__expanded")):(this.$target.addClass("b-collapse__collapsed"),this.$target.removeClass("b-collapse__expanded")),this.trackGoal&&r.customGoal(this.trackGoal,1),_r_()}}),_r_()}),B.require(["jquery","window-scroller"],function(t,i){_i_("269:bf239557"),t(".all-inclusive-usp-btn").click(function(e){return _i_("269:05a992d3"),t(".whats-included-btn").component("core/sliding-panel-trigger").model.hide(),setTimeout(function(){_i_("269:fd378593"),i.scrollToBlock(t(".has_all_inclusive_rate:first td:first"),!0,500,42),_r_()},10),_r_(!1)}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(){_i_("269:bbbb21a8");var e=$(".hp-section__exp-highlight");if(!e.length)return _r_();B.tools.dom.watchIfBlockVisibleInViewport(e,function(){_i_("269:8d8207c8"),setTimeout(function(){_i_("269:5acae330"),e.addClass("hp-section__highlighted"),_r_()},1e3),_r_()},!0),_r_()}),B.when({events:"ready"}).run(function(e){_i_("269:f31ecbf3");var t=e("jquery");t(".rc-policy-open").on("click",function(e){_i_("269:ebb3597e"),e.preventDefault(),t(this).parents("div.rt_resort_credits_info--policy").find(".rt_resort_credits_info--policy-details").stop(!0,!0).slideToggle("fast"),_r_()}),_r_()}),B.when({action:"hotel",condition:B.env.fe_run_ryokan_hp_tabbed_photo_gallery,experiment:"IaaVGGPZZQVceWefUMVBFUWe"}).run(function(e){_i_("269:53ba3146");var o=e("jquery"),t=o(".tabbed_thumbs--gallery"),r=o("#photos_distinct"),s=o(".hp-gallery-slides"),_=o(".tabbed_thumbs__tab--gallery"),l=o("[data-photoid]",s),c=o("a",r),a=o(),h=o(),d="tabbed_thumbs--hidden",f=this.hash,i=e("events"),n=B.hotel.Events;function u(e){_i_("269:389b5959");var t=e||o(this),i="bui-tab__link--selected",n=t.data("thumbs"),r=t.data("photos");B.et.stage(f,1),o("button",_).removeClass(i),o("button",t).addClass(i),c.not(n).addClass(d),n.removeClass(d),l.not(r).removeClass("on"),r.addClass("on"),s.slick("slickFilter",".on");var a=s.slick("getSlick");a&&a.goTo&&s.slick("slickGoTo",0,!0),c.removeClass("selected_thumb"),n.first().addClass("selected_thumb"),B.env.fe_gallery_tag_ref_activated=t.attr("tag-ref"),_r_()}!function(){if(_i_("269:54c353d7"),_i_("269:adb450ae"),_.filter("[data-tab-type]").each(function(){_i_("269:edd6b5f6");var e=o(this),t=e.data("tab-type"),i=o("[data-type-"+t+"]",r),n=o();i.each(function(){_i_("269:6a32dfd6");var e=o(this).data("photoid");n=n.add('[data-photoid = "'+e+'"]',s),_r_()}),a=a.add(i),h=h.add(n),e.data({thumbs:i,photos:n}),_r_()}),_.filter("[data-tab-type-all]").data({thumbs:c,photos:l}),_.filter("[data-tab-type-other]").data({thumbs:c.not(a),photos:l.not(h)}),_r_(),!a.length)return _r_();_i_("269:0bd2f401"),_.each(function(){_i_("269:5978fb05");var e=o(this),t=o(".tabbed_thumbs__tab--modal[tag-ref="+e.attr("tag-ref")+"]"),i=o(".tabbed_thumbs__total",this),n=o(".tabbed_thumbs__total",t),r=e.data("thumbs");if(!r||!r.length)return _r_();i.text(r.length),n.text(r.length),e.removeClass(d),t.removeClass(d),_r_()}),_r_(),t.removeClass(d),_.on("click",function(){_i_("269:f389cc54"),u(o(this)),_r_()}),i.on(n.PhotoGrid.MODAL_CLOSED,function(){_i_("269:9398737e"),B.env.fe_gallery_tag_ref_activated&&u(o(".tabbed_thumbs__tab--gallery[tag-ref="+B.env.fe_gallery_tag_ref_activated+"]")),_r_()}),B.hotel.GallerySettings.autoplay=!1,B.events.on(B.hotel.Events.Gallery.INIT,function(){_i_("269:f4152e09"),B.hotel.Gallery.slick.slickPlay=o.noop,_r_()}),_r_()}(),_r_()}),B.when({action:"hotel",condition:B.env.fe_run_ryokan_hp_tabbed_photo_gallery,experiment:"IaaVGGPZZQVceWefUMVBFUWe"}).run(function(e){_i_("269:31a91ac0");var r=e("jquery"),t=e("events"),i=B.hotel.Events,n=r(".tabbed_thumbs--photo-modal"),a=r(".bh-photo-modal-thumbs-viewport"),o=r(".bh-photo-modal"),s=r(".tabbed_thumbs__tab--modal"),_=r("[data-photoid]",o),l=r(),c=r(),h=r();t.on(i.PhotoGrid.MODAL_OPENED,function(){if(_i_("269:a5576a71"),_i_("269:c87b1c6a"),s.filter("[data-tab-type]").each(function(){_i_("269:e1ab242f");var e=r(this),t=e.data("tab-type"),i=r("[data-type-"+t+"]",a),n=r();i.each(function(){_i_("269:6a32dfd61");var e=r(this).data("photoid");n=n.add('[data-photoid = "'+e+'"]',o),_r_()}),c=c.add(i),h=h.add(n),e.data({thumbs:i,photos:n}),_r_()}),l=r("a",a),s.filter("[data-tab-type-all]").data({thumbs:l,photos:_}),s.filter("[data-tab-type-other]").data({thumbs:l.not(c),photos:_.not(h)}),_r_(),!c.length)return _r_();n.removeClass("tabbed_thumbs--hidden"),B.hotel.GallerySettings.autoplay=!1,B.events.on(B.hotel.Events.Gallery.INIT,function(){_i_("269:f4152e091"),B.hotel.Gallery.slick.slickPlay=r.noop,_r_()}),_r_()}),_r_()}),function(){"use strict";_i_("269:85cc6be6");var e=B.require("jquery"),t=i();function i(){return _i_("269:e9fc1727"),_r_(B.require("sliding-panel-model").get("hp-reviews-sliding").isPanelShown())}B.when({events:"user_center_bar:init",condition:1===B.env.b_has_hotel_history&&!B.env.b_is_coming_back&&"hotel"===B.env.b_action&&!window.location.hash.match(/map_opened/)&&!t}).run(function(){_i_("269:8eec7713"),i()||e(".uc_viewed_hotels .popover_trigger").append("<span class='no-trigger-resize'></span>").find(".no-trigger-resize").trigger("click");_r_()}),_r_()}(),function(){_i_("269:08a24268");var t=function(){_i_("269:c3bf670e");var i=window.jQuery,o=window.booking,n="emk:info_gathering_shown",s="#emk-info-gathering-modal",_=o.lightbox,l=864e5,c=!1;function h(){return _i_("269:5bf2c2ef"),_r_(i.cookie&&"function"==typeof i.cookie)}return _r_({priority:9,init:function(){if(_i_("269:1cd4ed2f"),h()&&"1"===i.cookie(n)||!i(s).length)return _r_();o.user&&"object"==typeof o.user&&(o.user.showUserLoginOnLoad=!1);var e=i("#frm"),t=i("#emk-info-gathering-modal"),r=t.find(".js-emk-info-gathering-submit-btn"),a=t.find(".emk-info-gathering-modal-error-feedback");o.eventEmitter.bind(o.Search.Events.DATE_CHANGED,function(){_i_("269:85b049d8");var e,t,i=o.search.dates("checkin")?o.search.dates("checkin").dateObject_:0,n=o.search.dates("checkout")?o.search.dates("checkout").dateObject_:0;e=i,t=n,_i_("269:5c1aac69"),30<_r_(parseInt((t-e)/l,10))?(a.show(),r.addClass("is-disabled")):(a.hide(),r.removeClass("is-disabled")),_r_()}),o.eventEmitter.bind(o.Search.Events.DATE_INVALID,function(e,t){if(_i_("269:a98e5667"),!t.validators)return _r_();c=!0,_r_()}),_.show(s,{customWrapperClassName:"emk-info-gathering-modal-wrapper",bCloseButton:!1,hideCallBack:function(){_i_("269:b4014c3a"),_i_("269:078e5760"),h()&&i.cookie(n,"1",{expires:30,path:"/",domain:o.env.b_domain_end}),_r_(),_r_()}}),i(".js-emk-info-gathering-modal-close").click(function(e){_i_("269:7ba4cd36"),e.preventDefault(),_.hide(i(s)),_r_()}),r.click(function(){if(_i_("269:1a0a4f7a"),i(this).hasClass("is-disabled"))return _r_();"hotel"==o.env.b_action?i("#hotelpage_availform").submit():e.submit(),_.hide(i(s)),!c&&o.fullLoadingOverlay&&o.fullLoadingOverlay.startOverlay&&o.fullLoadingOverlay.startOverlay(),_r_()}),_r_()}})}();B.when({events:"ready"}).run(function(e){_i_("269:6028b9e6"),t.init(),_r_()}),_r_()}(),_i_("269:bcbea92a"),B.when({action:"hotel",events:"ready",condition:B.env.b_is_landing}).require(["jquery"],function(e){_i_("269:f3bd5891"),413084==B.env.b_partner_id&&e("html, body").animate({scrollTop:e("#hp_hotel_name").offset().top-10},2e3),_r_()}),_r_(),B.define("leaving-users-event",function(){_i_("269:be1d413a");var e=B.require("events"),t=function(){};return t.prototype.init=function(){_i_("269:32c72fd9"),this.initialized_||(this.page_=$(document.documentElement),this.lastMouseYCoords_=[],this.windowFocused_=!0,this.attachEvents_(),this.initialized_=!0),_r_()},t.prototype.attachEvents_=function(){_i_("269:8aaddd7d");var t=this;this.page_.bind({"mousemove.LeavingUsersEvent":function(e){_i_("269:f5739a101"),t.onPageMouseMove_(e),_r_()},"mouseleave.LeavingUsersEvent":$.proxy(this.onPageMouseLeave_,this)}),$(window).focus(function(){_i_("269:219944531"),t.windowFocused_=!0,_r_()}).blur(function(){_i_("269:bf32ab821"),t.windowFocused_=!1,_r_()}),_r_()},t.prototype.detachEvents_=function(){_i_("269:fb6438df"),this.page_.unbind(".LeavingUsersEvent"),_r_()},t.prototype.onPageMouseMove_=function(e){_i_("269:e532b89f"),this.writeMouseCoords_(e),_r_()},t.prototype.onPageMouseLeave_=function(){if(_i_("269:cb181ea1"),!this.wasMouseMoveUpwards_())return _r_();this.triggerTabLeaveEvent_(),_r_()},t.prototype.triggerTabLeaveEvent_=function(){_i_("269:1cbb085d"),e.trigger("leaving-users-event:tab-leave"),_r_()},t.prototype.writeMouseCoords_=function(e){_i_("269:b775bf8c1"),this.lastMouseYCoords_.push(e.pageY),2<this.lastMouseYCoords_.length&&this.lastMouseYCoords_.shift(),_r_()},t.prototype.wasMouseMoveUpwards_=function(){return _i_("269:923f268e1"),_r_(2<=this.lastMouseYCoords_.length&&this.lastMouseYCoords_[0]>this.lastMouseYCoords_[1])},_r_(new t)}),_i_("269:a2fdac3d"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:ca97faea");var s=e("querystring"),_=s.parseUrl(location.href),t=e("search/searchbox/events"),l=_.query,i=e("search/searchbox/model").getInstance("main");i.use("dates"),i.use("group");var c=i.group,h=i.dates,d={checkin:h.get().checkin,checkout:h.get().checkout,group_adults:c.get().adults_count,age:c.get().children_ages||[]};d.group_children=d.age.length,d.checkin&&(d.checkin=d.checkin.toString()),d.checkout&&(d.checkout=d.checkout.toString()),d.age=d.age.slice(0),t.on(t.SEARCHBOX_SUBMIT_SUCCESS,function(e){_i_("269:6864fb3e");var t=h.get().checkin,i=h.get().checkout,n={checkin:null,checkout:null,group_adults:null,group_children:null,age:[]};if(t&&(n.checkin=t.toString()),i&&(n.checkout=i.toString()),c){var r=c.get().children_ages||[];n.age=r,n.group_children=r.length,n.group_adults=c.get().adults_count,l.no_rooms=c.get().rooms_count}var a=!0;for(var o in d)("age"==o&&n.age.toString()!=d.age.toString()||"age"!=o&&n[o]!=d[o])&&(a=!1);if(!a){for(var o in n)l[o]=n[o];l.req_children=n.group_children,l.req_adults=n.group_adults,l.req_age=n.age,l.hp_refreshed_with_new_dates=1,delete l.checkin_month,delete l.checkin_monthday,delete l.checkin_year,delete l.checkout_month,delete l.checkout_monthday,delete l.checkout_year,delete l.room1,setTimeout(function(){_i_("269:7addf38d"),window.location.replace(_.base+"?"+s.stringify(l)),_r_()},3e3)}_r_()}),_r_()}),_r_(),_i_("269:f42eb84e"),B.when({events:"ready"}).run(function(){_i_("269:99ad3f80"),function(){_i_("269:5a5dbe3c");var e=B.require("hotel/events");if(/from_bs2_modify=1/.test(window.location.href)){B.events.trigger("open-tab",{tab:"main"});var t=$("#tdot_rooms_table_wrapper").length?$("#tdot_rooms_table_wrapper"):$("#availability_target");setTimeout(function(){_i_("269:ccd63e70"),e.trigger(e.UI_SCROLL_STARTED),$("html, body").animate({scrollTop:t.offset().top-20},1e3,function(){_i_("269:a3d9c844"),e.trigger(e.UI_SCROLL_COMPLETED),_r_()}),_r_()},500)}_r_()}(),_r_()}),_r_(),B.define("utils/photo-ml-tag-copy",function(e,t,i){_i_("269:bebaf1ae"),i.exports={getCopyForMLTags:function(e){var t;_i_("269:bfec5736");for(var i={6:"bh_fun_photo_kitchen_v4",7:"bh_fun_photo_whole_rm_v1",8:"bh_fun_photo_seating_gf_v2",9:"bh_fun_photo_dining_gf_v1",11:"bh_fun_photo_whole_rm_v2",12:"bh_fun_photo_media_v1",15:"bh_fun_photo_outdoor_v3",16:"bh_fun_photo_outdoor_v3",17:"bh_fun_photo_outdoor_v3",20:"bh_fun_photo_family_v1",21:"bh_fun_photo_nabe_v1",22:"bh_fun_photo_nabe_v2",23:"bh_fun_photo_nabe_v1",24:"bh_fun_photo_views_generic_v4",25:"bh_fun_photo_views_generic_v4",26:"bh_fun_photo_nabe_v1",27:"bh_fun_photo_views_generic_v4",28:"bh_fun_photo_views_generic_v4",29:"bh_fun_photo_views_generic_v4",30:"bh_fun_photo_views_generic_v4",31:"bh_fun_photo_views_generic_v4",32:"bh_fun_photo_views_generic_v4",33:"bh_fun_photo_views_generic_v4",34:"bh_fun_photo_views_generic_v4",37:"bh_fun_photo_bbq_v1",39:"bh_fun_photo_nabe_v2",63:"bh_fun_photo_family_v2",64:"bh_fun_photo_family_v2",65:"bh_fun_photo_family_v2",66:"bh_fun_photo_pets_v1"},n=0;n<e.length;n++){if(parseFloat(e[n].score)<.95)continue;if(!i[e[n].id])continue;(!t||t.score<parseFloat(e[n].score))&&(t={tagId:+e[n].id,copy:i[e[n].id],score:parseFloat(e[n].score)})}return _r_(t&&t.copy)}},_r_()}),B.define("hotel/track/photo-modal",function(e){_i_("269:581a3e5d");var t=e("events"),i=B.hotel.Events,n=e("ga-tracker"),r=e("et"),a=n.hotelPageTracker,o="PhotoGrid";t.on(i.PhotoGrid.MODAL_OPENED,function(){_i_("269:e7d6b839"),r.goal("bh_modal_gallery_open"),_r_()}),t.on(i.PhotoGrid.GRID_SEE_ALL_CLICKED,function(){_i_("269:5f72cc5a"),n.trackEvent(a,o,"See all clicked"),_r_()}),t.on(i.PhotoGrid.GRID_ELEMENT_CLICKED,function(){_i_("269:efbfd992"),n.trackEvent(a,o,"Grid Picture clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_GROUP_CLICKED,function(){_i_("269:bdafa297"),n.trackEvent(a,o,"Modal Group Clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_SAW_GENERAL_GROUP,function(){_i_("269:29e65078"),n.trackEvent(a,o,"Modal Saw General Picture"),_r_()}),t.on(i.PhotoGrid.MODAL_RESERVE_CLICKED,function(){_i_("269:01983d17"),n.trackEvent(a,o,"Modal Reserve button/link Clicked"),r.goal("bh_modal_gallery_cta_click"),_r_()}),t.on(i.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED,function(){_i_("269:eb2c4405"),n.trackEvent(a,o,"Modal Closed button Clicked"),_r_()}),t.on(i.PhotoGrid.MODAL_VIEW_ALL_PHOTOS,function(){_i_("269:1fabd70c"),n.trackEvent(a,o,"Modal All Pictures Viewed"),_r_()}),t.on(i.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG,function(){_i_("269:977c5fa4"),n.trackEvent(a,o,"Modal Saw Persuasive Tag"),_r_()}),_r_()}),B.define("component/bh-photo-modal",function(e,t,i){_i_("269:1e4e2da3");var n,r=e("component"),a=e("events"),d=e("jquery"),o=B.hotel.Events,s=e("et"),_=e("utils/photo-ml-tag-copy"),l=window&&window.devicePixelRatio?window.devicePixelRatio:1,c="VVDdHQDSDGTKHWNeDGTOFUIEFGWe";"hotel"===B.env.b_action&&e("hotel/track/photo-modal"),i.exports=r.extend({created:!1,opened:!1,photos:null,currPos:null,currMainPos:null,photosCache:{},vrPhotosCache:{},photoByIdCache:{},photosViewed:[],review_scores_gallery:[],trackedPhotosViewed:!1,animationRunning:!1,init:function(){_i_("269:420052c8"),this.isRtl=this.$el.data("is-rtl")||0,this.photos=B.env.hotelPhotos,this.$modal=d(".bh-photo-modal"),this.$imageContainer=d(".bh-photo-modal-image-container"),this.$caption=d(".bh-photo-modal-caption-inner"),this.$captionContainer=d(".bh-photo-modal-caption-thumbs"),this.$thumbsViewport=d(".bh-photo-modal-thumbs-viewport"),this.$thumbsContainer=d(".bh-photo-modal-thumbs-container"),this.$reviews=d(".bh-photo-modal-reviews"),this.isWithReviews=this.$reviews.length,this.$photoTags=d(".bh-gallery__photo_tags");var i=this;void 0!==B.env.review_scores&&d.each(B.env.review_scores,function(e,t){_i_("269:a56f7674"),8<=t.score&&i.review_scores_gallery.push(t),_r_()}),this.bindEvents(),B.env.run_cinematic_gallery&&(this.$el.on("openPhotoId",function(e,t){_i_("269:180b95ab"),this.openModal(),this.goToId(t),_r_()}.bind(this)),this.$el.on("setPos",function(e,t){_i_("269:1c4c66fb"),this.openModal(),setTimeout(this.setPos.bind(this,t),10),_r_()}.bind(this))),this.$el.on("showModal",function(){_i_("269:8a20147d"),this.openModal(),setTimeout(this.setPos.bind(this,0),10),_r_()}.bind(this)),this.$el.on("showNext",function(){_i_("269:481d7a1d"),this.showNext(),_r_()}.bind(this)),this.$el.on("reCreate",function(){_i_("269:dad67b9e"),this.photos=B.env.hotelPhotos,this.createDOM(!0),_r_()}.bind(this)),B.env.fe_hotel_has_360_photos&&this.$el.on("closeModal",function(){_i_("269:098fe1fa"),this.closeModal(),_r_()}.bind(this)),this.activePhotoId="",_r_()},bindEvents:function(){_i_("269:43901688");var i=d(".bh-photo-modal-name-cta")[0],n=d(".bh-photo-modal-close")[0],r=d(".js-reserve-button, .bh-photo-modal-cta-reserve")[0];d(".bh-photo-modal")[0].addEventListener("click",function(e){_i_("269:2a89c669");var t=e.path||e.composedPath&&e.composedPath();this.opened&&t&&(0<=t.indexOf(i)||0<=t.indexOf(n))&&-1===t.indexOf(r)&&B.et.customGoal(c,1),_r_()}.bind(this)),d(".hp-gallery-grid").on("click",".js-hotel-thumb",this.gridItemClick.bind(this)),d(".bh-photo-grid").on("click",".bh-photo-grid-item",this.gridItemClick.bind(this)),this.$modal.on("click",".hp_gallery_attr_slide__attr_details__text.first",this.reserveClicked.bind(this)),this.$modal.on("click",".gallery__last-item__cta",this.reserveClicked.bind(this)),this.$modal.on("click",'[data-elem="reserve-btn"]',this.reserveClicked.bind(this)),this.$modal.on("click",".gallery-info__rn, .gallery-info__fc, .gallery-info__um, .gallery-info__rl",this.scrollToRoom.bind(this)),this.$modal.on("click",".bh-photo-modal-thumb",this.modalThumbClick.bind(this)),this.$modal.on("click",".bh-group-pill",this.modalGroupClick.bind(this)),this.$modal.on("click",".bh-photo-modal-close",this.closeModal.bind(this,{closeButtonClicked:!0})),this.$modal.on("click",".bh-close-modal",this.closeModal.bind(this)),this.$modal.on("click",".bh-photo-modal-prev",this.showPrev.bind(this)),this.$modal.on("click",".bh-photo-modal-next, .bh-photo-modal-image-container",this.showNext.bind(this)),this.$modal.on("click",".bh-photo-modal-name-cta .b-button:not(.bh-close-modal), .js-reserve-button",function(e){_i_("269:078417d4"),this.sendPhotoId.call(this),this.reserveClicked.call(this,e),_r_()}.bind(this)),B.env.fe_run_ryokan_hp_tabbed_photo_gallery&&(this.$modal.on("click",".tabbed_thumbs__tab--modal",this.activateTab.bind(this)),this.$modal.on("click",".tabbed_thumbs__tab--modal",function(){_i_("269:819ddee7"),B.et.stage("IaaVGGPZZQVceWefUMVBFUWe",2),B.env.fe_gallery_tag_ref_activated=d(this).attr("tag-ref"),_r_()})),this.$modal.on("click",function(e){_i_("269:5d121527");var t=d(e.target);t.closest(".reviewFloater").length||t.closest(".bh-photo-modal-thumbs-container").length||t.closest(".js-no-close").length||this.closeModal(),t.data("triggerModalEvent")&&setTimeout(function(){_i_("269:e21079a6"),setTimeout(function(){_i_("269:8ecf678c"),String(t.data("triggerModalEvent")).split(/ +/).forEach(function(e){_i_("269:271deb81"),a.emit(d.trim(e)),_r_()}),_r_()},0),_r_()},0),_r_()}.bind(this)),d(window).on("load",this.createDOM.bind(this)),d(window).on("resize",this.windowResize.bind(this)),d(document).on("keyup",this.keyUp.bind(this)),d(document).on("keydown",this.keyDown.bind(this)),_r_()},buildThumbs:function(){_i_("269:0c4b37ca");var e,t,i,n=this.photos.length,r="",a="",o="",s=B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder");for(e=0;e<n;e++)i=(t=this.photos[e]).thumb_className||"",B.env.fe_run_ryokan_hp_tabbed_photo_gallery&&(o="",t.dataTypeRoom?o+=" data-type-room":t.dataTypeFood?o+=" data-type-food":t.dataTypeBath&&(o+=" data-type-bath")),a=t.thumb_contains_jstmpl?B.jstmpl(t.thumb_contains_jstmpl).render(t.thumb_contains_jstmpl_data||{}):"",r+='<a data-id="'+t.id+'" title="'+s+'" href="'+t.large_url+'" target="_blank" class="bh-photo-modal-thumb '+i+'" '+o+">",r+='<img alt="'+(t.name||s)+'" src="'+t.thumb_url+'"/>',t.thumb_contains&&(r+=t.thumb_contains),a&&(r+=a),r+="</a>";return _r_(r)},isLastSlide:function(){return _i_("269:ec39e8f1"),_r_(!!this.$imageContainer.find(".js-gallery__last-item").length)},createDOM:function(e){if(_i_("269:8daf58e8"),!e&&(this.created||!this.photos))return _r_();this.$thumbsContainer.html(this.buildThumbs()),this.created=!0,a.emit(o.PhotoGrid.MODAL_DOM_READY),_r_()},goToId:function(e){_i_("269:0430f08c"),e=e.toString();var t=this.findPosById(e);this.setPos(t),_r_()},gridItemClick:function(e){_i_("269:683df6b1");var t=d(e.currentTarget),i=t.data("id");return t.hasClass("bh-photo-grid-item-see-all")?a.emit(o.PhotoGrid.GRID_SEE_ALL_CLICKED):a.emit(o.PhotoGrid.GRID_ELEMENT_CLICKED),this.openModal(),i?this.goToId(i):null===this.currPos&&this.setPos(0),_r_(!1)},goToSlide:function(e,t){_i_("269:e95ec78e");var i=d(e).data("nav"),n=null,r=null,a=t.photos.length,o=d(".bh-photo-grid-photo1");"next"==i?n=a<=t.currMainPos+1?0:t.currMainPos+1:"prev"==i&&(n=t.currMainPos-1<0?a-1:t.currMainPos-1),o.data("id",t.photos[n].id),o.data("thumb-url",t.photos[n].thumb_url),o.attr("href",t.photos[n].large_url),t.vrPhotosCache[n]?o.css("background-image","url("+t.photos[n].large_url+")"):(o.css("background-image","url("+t.photos[n].thumb_url+")"),(r=new Image).src=t.photos[n].large_url,d(r).on("load.vrGallery",function(){_i_("269:507cb905"),o.data("id")==t.photos[n].id&&(o.css("background-image","url("+t.photos[n].large_url+")"),o.data("loaded",1),d(this).data("id",n).off("load.vrGallery"),t.vrPhotosCache[n]=r),_r_()})),o.find("img").attr("src",t.photos[n].large_url),t.currMainPos=n,_r_()},modalThumbClick:function(e){_i_("269:cf7799b6");var t=d(e.currentTarget).data("id");return a.emit(o.PhotoGrid.MODAL_THUMB_CLICKED),t&&this.goToId(t),_r_(!1)},modalGroupClick:function(e){_i_("269:f0d08320");var t=d(e.currentTarget).data("first-photo-id");return a.emit(o.PhotoGrid.MODAL_GROUP_CLICKED),t&&this.goToId(t),_r_(!1)},trackOnView:function(e){var t,i;if(_i_("269:551cf1ce"),e.constructor!==Array)return _r_();for(i=0;i<e.length;i++)(t=e[i]).hash&&(t.stage||t.customGoal)&&(t.stage&&s.stage(t.hash,t.stage),t.customGoal&&s.customGoal(t.hash,t.customGoal));_r_()},getPhotoHTML:function(e){_i_("269:78fb7e85");var t=e.className||"",i=1<l&&e.highres_url?e.highres_url:e.large_url,n='<div class="bh-photo-modal-image '+t+'">';return n+='<div class="bh-photo-modal-image-element">',n+='<img class="" alt="'+B.jstmpl.translations("a11y_gallery_image_screenreader_placeholder")+'" src="'+i+'">',n+="</div>",e.contains?n+=d(e.contains).html():!B.env.gallery_missing_info_survey||e.tags&&_.getCopyForMLTags(e.tags)||(n+=d(B.env.gallery_missing_info_survey).html()),e.created&&(n+='<div data-photo-created="'+e.created+'"></div>'),_r_(n+="</div>")},alignPhoto:function(e){_i_("269:da408852");var t=this.$imageContainer.find(e.verticalAlign);if(0<t.length)try{var i=(this.$imageContainer.height()-t.height())/2;!isNaN(parseFloat(i))&&isFinite(i)&&t.css("margin-top",Math.floor(i))}catch(e){}_r_()},getPhotoCaption:function(e,t){_i_("269:50e7743e");var i='<div class="bh-photo-modal-caption-left">'+(t+1)+" / "+this.photos.length;return e.caption_left?i+=" &mdash; "+e.caption_left:e.name&&(i+=" &mdash; "+e.name),i+="</div>",e.caption_right&&(i+='<div class="bh-photo-modal-caption-right">'+e.caption_right+"</div>"),_r_(i)},setActiveThumb:function(e){_i_("269:ceb40f9f");var t=this.$modal.find(".bh-photo-modal-thumb");t.removeClass("active");var i=t.filter('[data-id="'+e+'"]');i.addClass("active");var n=this.$thumbsViewport.width(),r=this.$thumbsContainer.width(),a=i.width(),o=i.position(),s=n/2-a/2-(o?this.isRtl?r-o.left-a-10:o.left:0);0<s?s=0:s<n-r+10&&(s=n-r+10),this.$thumbsContainer.css(this.isRtl?"right":"left",s),_r_()},updatePhotoTagPosition:function(){_i_("269:744b895f");var e=d(".bh-photo-modal-image-element"),t=e.find("img"),i=Math.min(e.width(),t.width());if(t.length&&i){var n=t.offset();n.top+=t.height()-this.$photoTags.height(),this.$photoTags.offset(n).width(i+1)}else setTimeout(this.updatePhotoTagPosition.bind(this),100);_r_()},getScoreForMLCopy:function(e){_i_("269:b036171c");return _r_({bh_fun_photo_kitchen_v4:"bh_fun_gallery_sproof_review_kitchen",bh_fun_photo_whole_rm_v1:"bh_fun_gallery_sproof_review_clean",bh_fun_photo_seating_gf_v2:"bh_fun_gallery_persuade_review_comfort",bh_fun_photo_dining_gf_v1:"bh_fun_gallery_sproof_review_kitchen",bh_fun_photo_media_v1:"bh_fun_gallery_sproof_review_fac",bh_fun_photo_family_v1:"bh_fun_gallery_sproof_review_fac",bh_fun_photo_nabe_v1:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_nabe_v3:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_outdoor_v3:"bh_fun_gallery_sproof_review_loc",bh_fun_photo_bbq_v1:"bh_fun_gallery_sproof_review_fac"}[e])},setPhotoTag:function(e){if(_i_("269:bcac901f"),!e.tags||this.isLastSlide())return this.$photoTags.hide(),_r_();var t=_.getCopyForMLTags(e.tags);if(!t)return this.$photoTags.hide(),_r_();a.emit(o.PhotoGrid.MODAL_SAW_PERSUASIVE_TAG),this.$photoTags.show().find("span").html(B.jstmpl.translations(t)),this.updatePhotoTagPosition(),_r_()},setPos:function(e){if(_i_("269:7f49438c"),isNaN(parseFloat(e))||!isFinite(e))return _r_();var t,i=this.photos[e];if(!i||e===this.currPos)return _r_();this.activePhotoId=i.id,i.track&&this.trackOnView(i.track),this.$imageContainer.html(this.getPhotoHTML(i)),this.$imageContainer.loadComponents(),this.$caption.html(this.getPhotoCaption(i,e)),this.setActiveThumb(i.id),this.setContainerSize(),i.verticalAlign&&this.alignPhoto(i),this.$photoTags.length&&this.setPhotoTag(i),t=null===this.currPos||e===this.currPos?null:e>this.currPos,this.currPos=e,this.photosCache[e]=!0,this.updatePhotosViewed(e),a.emit(o.PhotoGrid.MODAL_PICTURE_CHANGED,{modal:this}),void 0!==B.env.is_bh_property_page&&1==B.env.is_bh_property_page&&this.showCustomReviewScore(e),this.isWithReviews&&(this.updateReviewsPos(),null!==t&&a.trigger(B.hotel.Events.ReviewFloater.FORCE_SLIDE,[t])),this.setImgWidthRelated(),this.preloadPhoto(this.getPrevPos()),this.preloadPhoto(this.getNextPos()),_r_()},showCustomReviewScore:function(e){if(_i_("269:a0f9ceaa"),void 0===this.review_scores_gallery||0===this.review_scores_gallery.length||!d(".best-review-score-label")[0]||!d(".best-review-score-number")[0])return _r_();var t=e%this.review_scores_gallery.length;d(".best-review-score-label").first().html(this.review_scores_gallery[t].txt),d(".best-review-score-number").first().html(this.review_scores_gallery[t].score_string),_r_()},resetReviewScore:function(){_i_("269:55b9da3e"),this.baseReview&&(this.baseReview=!1,d(".best-review-score-number")[0].innerHTML=this.baseReviewScore,d(".best-review-score-label")[0].innerHTML=this.baseReviewText),_r_()},preloadPhoto:function(e){_i_("269:31b87624");var t=this.photos[e];if(!t||this.photosCache[e])return _r_();document.createElement("img").src=t.large_url,this.photosCache[e]=!0,_r_()},findPosById:function(e){_i_("269:77bcd78b");var t,i=this.photos.length;for(t=0;t<i;t++)if(this.photos[t].id===e)return _r_(t);return _r_(0)},keyUp:function(e){if(_i_("269:7f2623b9"),!this.opened)return _r_();27===e.which&&this.closeModal(),_r_()},keyDown:function(e){if(_i_("269:2d50913c"),!this.opened)return _r_();37===e.which?this.isRtl?this.showNext():this.showPrev():39===e.which&&(this.isRtl?this.showPrev():this.showNext()),_r_()},windowResize:function(){if(_i_("269:b641fefc"),!this.opened)return _r_();this.setContainerSize(),this.setImgWidthRelated(),this.isWithReviews&&this.updateReviewsPos(),this.$photoTags.length&&this.updatePhotoTagPosition(),_r_()},hashChange:function(){_i_("269:c0ab0498"),"#gallery"===window.location.hash?this.openModal({skipHashUpdate:!0}):this.closeModal({skipHashUpdate:!0}),_r_()},getPrevPos:function(){return _i_("269:2aa701bd"),_r_(0===this.currPos?this.photos.length-1:this.currPos-1)},showPrev:function(e){_i_("269:5bef3ab5"),a.emit(o.PhotoGrid.MODAL_SHOW_PREVIOUS);var t=this.getPrevPos();this.setPos(t),e&&e.stopPropagation&&e.stopPropagation(),_r_()},getNextPos:function(){return _i_("269:8f2b32f5"),_r_(this.currPos===this.photos.length-1?0:this.currPos+1)},showNext:function(e){_i_("269:6603cbd9");try{a.emit(o.PhotoGrid.MODAL_SHOW_NEXT);var t=this.getNextPos();this.setPos(t)}catch(e){}e&&e.stopPropagation&&e.stopPropagation(),_r_()},activateTab:function(e,t){var i;_i_("269:b018812f"),i=t||d(e.currentTarget);var n="tabbed_thumbs__tab--modal-selected";d(".tabbed_thumbs__tab--modal").removeClass(n),i.addClass(n);var r="bui-tab__link--selected";d("button",".tabbed_thumbs__tab--modal").removeClass(r),d("button",i).addClass(r);var a=i.attr("data-tab-type"),o=i.attr("data-tab-type-other"),s="";"bath"==a?s="dataTypeBath":"food"==a?s="dataTypeFood":"room"==a&&(s="dataTypeRoom"),this.photos=s?B.env.hotelPhotos.filter(function(e){return _i_("269:ec67d9dd"),_r_(1==e[s])}):void 0!==o&&!1!==o?B.env.hotelPhotos.filter(function(e){return _i_("269:f81c6c4e"),_r_(!e.dataTypeBath&&!e.dataTypeFood&&!e.dataTypeRoom)}):B.env.hotelPhotos,this.createDOM(!0),this.currPos=void 0,this.setPos(0),_r_()},openModal:function(e){if(_i_("269:d42e9bc0"),B.env.lb_redesign&&(n=document.body.getAttribute("style"),document.body.removeAttribute("style")),B.et.stage(c,1),0===this.$reviews.length&&B.et.stage(c,2),this.opened)return _r_();e||(e={}),this.created||this.createDOM(),this.$modal.addClass("opened"),d("body").addClass("bh-photo-modal-opened"),this.isWithReviews&&1100<this.$modal.width()&&this.$reviews.append(d("#reviewFloater")),this.isWithReviews&&this.updateReviewsPos(),this.$photoTags.length&&this.updatePhotoTagPosition(),B.env.fe_gallery_tag_ref_activated&&this.activateTab(!1,d(".tabbed_thumbs__tab--modal[tag-ref="+B.env.fe_gallery_tag_ref_activated+"]")),this.opened=!0,a.emit(o.PhotoGrid.MODAL_OPENED),_r_()},updateReviewsPos:function(){_i_("269:be8e74d5");var e=this.photos[this.currPos];if(e&&e.contains)return this.$reviews.addClass("g-hidden"),_r_();var t=d(".bh-photo-modal-image-element img"),i=t.width();if(0<i){var n=d(".bh-photo-modal-image-element").width();n<i&&(i=n);var r,a=t.position(),o=this.$imageContainer.position(),s=this.$reviews.removeClass("g-hidden").outerWidth(),_=d(".bh-photo-modal-next"),l=_.position(),c=_.width(),h=o.top-10;this.isRtl?(r=a.left-s)<3*c/4&&(h+=10,r+=s):(r=a.left+i)+s>l.left+c/4&&(h+=10,r-=s),this.$reviews.css({top:h+"px",left:r+"px"})}else this.$reviews.addClass("g-hidden"),setTimeout(this.updateReviewsPos.bind(this),100);_r_()},setContainerSize:function(){_i_("269:de465366");try{var e=this.$imageContainer.position(),t=this.$captionContainer.position().top-e.top-10;this.currentHeight&&t===this.currentHeight||(this.currentHeight=t,this.$imageContainer.css("height",t+"px"))}catch(e){}_r_()},setImgWidthRelated:function(){_i_("269:5fb90552");var t,i=this,n=this.$imageContainer.find(".js-img-width"),r=function(){_i_("269:c1a69a9b"),n.css("width",""),_r_()},e=function(){_i_("269:06dd3d6d");var e=t.width();if(e)return e<=(i.$imageContainer.find(".bh-photo-modal-image-element").width()||0)?n.css("width",e):r(),_r_(!0);return _r_(!1)};n.length&&(t=this.$imageContainer.find("img"),e()||(r(),t.on("load",e))),_r_()},closeModal:function(e,t){if(_i_("269:faddd5b9"),!this.opened)return _r_();B.env.lb_redesign&&n&&document.body.setAttribute("style",n),e||(e={}),this.opened=!1,e.closeButtonClicked&&a.emit(o.PhotoGrid.MODAL_CLOSE_BUTTON_CLICKED),this.isWithReviews&&d("#reviewFloater").css({top:0,left:0}).appendTo(d(".hp-gallery-review")),this.$modal.removeClass("opened"),d("body").removeClass("bh-photo-modal-opened"),a.emit(o.PhotoGrid.MODAL_CLOSED,this.currPos),t&&t.stopPropagation?t.stopPropagation():e&&e.stopPropagation&&e.stopPropagation(),_r_()},scrollToReserve:function(e){_i_("269:aac5ebfe"),this.closeModal();var t=d("#availability_target");if(0<t.length){var i=t.offset();d("html, body").animate({scrollTop:i.top-10},400)}a.emit(o.PhotoGrid.MODAL_RESERVE_CLICKED),_r_()},updatePhotosViewed:function(e){_i_("269:ed9521e7"),void 0!==typeof e&&-1===d.inArray(e,this.photosViewed)&&this.photosViewed.push(e),this.trackedPhotosViewed||this.photosViewed.length!==this.photos.length||(this.trackedPhotosViewed=!0,a.emit(B.hotel.Goals.Gallery.VIEW_ALL_PHOTOS),a.emit(o.PhotoGrid.MODAL_VIEW_ALL_PHOTOS)),_r_()},scrollToRoom:function(e){_i_("269:23bf8a3a");var t=e.currentTarget;t.classList.contains("gallery-info__um")?B.et.customGoal(c,3):t.classList.contains("gallery-info__fc")&&B.et.customGoal(c,4);var i,n=this.photos[this.currPos],r=n.room_id,a=n.isGroupRecommendation||!1;if(!r)return _r_();if(B.env.is_rooms_table_rewrite)var o=d(".hprt-table").find("> thead:not(.sticked-placeholder)").height()||30;else o=d(".roomstable").find("> thead:not(.sticked-placeholder)").height()||30;if(a?(i=d(".hp-group_recommendation__title"),o=0):i=d('a[name^="RD'+r+'"]'),!i.length||!i.offset().top)return _r_();if(this.closeModal(),!a){var s=d("[name=RD"+r+"]").parents(".hprt-table-cell").first(),_="roomType--highlight hprt-table-cell-roomtype--active";d(".hprt-table").find(".hprt-table-cell.-first").removeClass(_).removeClass("roomType--highlight"),s.addClass(_)}d("html, body").animate({scrollTop:i.offset().top-o},1e3),_r_()},reserveClicked:function(e){_i_("269:df737ea2"),this.scrollToReserve(e),_r_()},sendPhotoId:function(e){_i_("269:95295faf");var t={hotel_id:B.env&&B.env.b_hotel_id,photo_id:this.activePhotoId};d.ajax({type:"post",dataType:"json",url:"/hotel_reserve_photo_log",data:t}),_r_()}}),_r_()}),function(){"use strict";_i_("269:9af6498e"),B.when({condition:!B.env.b_is_vacation_rental,action:"hotel",events:"ready"}).require(["jquery"],function(e){_i_("269:5f7450b9");var t=e(".reviews-floater-collapse"),i=e(".reviews-carousel-scroll"),n=!0;_i_("269:e18f8c39"),t.on("click",function(e){_i_("269:6b8c100f"),i.toggleClass("hide"),t.toggleClass("move-up").find(".bicon").removeClass("bicon-downchevron bicon-upchevron"),n?t.find(".bicon").addClass("bicon-downchevron"):t.find(".bicon").addClass("bicon-upchevron"),n=!n,_r_()}),_r_(),_r_()}),_r_()}(),B.define("component/bh/sleeping_arrangement",function(e,t,i){_i_("269:c3071c7e");var n=e("component").extend({lockScrollTracking:!1,scrollInterval:300,init:function(e){_i_("269:9f93d872"),this.$el=e,this.$elScrollable=this.$el.find(".js-unit_info__sleeping_scrollable"),this.$arrowLeft=this.$el.find(".js-unit_info__arrow_left"),this.$arrowRight=this.$el.find(".js-unit_info__arrow_right"),this.takeMeasurements(),this.toggleArrows(this.$elScrollable.scrollLeft()),this.bindUI(),_r_()},destroy:function(){_i_("269:00d9e8fc"),this.unbindUI(),_r_()},scrollTo:function(e){_i_("269:8f36431e");var t=this;this.lockScrollTracking=!0;var i=Math.min(Math.max(e,0),this.contentWidth-this.elWidth);this.$elScrollable.animate({scrollLeft:i},300),setTimeout(function(){_i_("269:962071f8"),t.lockScrollTracking=!1,_r_()},410),this.toggleArrows(i),_r_()},toggleArrows:function(e){function t(e,t){_i_("269:495b4ec7"),parseInt(e.css("opacity"))!==t&&e.animate({opacity:t},300),_r_()}if(_i_("269:a719b9da"),this.contentWidth<this.elWidth)return t(this.$arrowLeft,0),t(this.$arrowRight,0),_r_();t(this.$arrowLeft,0==e?0:1),e>=this.contentWidth-this.elWidth?t(this.$arrowRight,0):t(this.$arrowRight,1),_r_()},takeMeasurements:function(){if(_i_("269:7149a4aa"),this.elWidth=this.$el.width(),this.contentWidth=this.$elScrollable.children().width(),B.env.b_is_ie10||B.env.b_is_ie11){var i=this;this.contentWidth=0,this.$elScrollable.children().children().each(function(e,t){_i_("269:f127d2b3"),i.contentWidth+=$(t).outerWidth(!0),_r_()})}_r_()},resizeHandler:function(){_i_("269:bb00a1eb");var e=this;this.resizeThrottleTimeout&&clearTimeout(this.resizeThrottleTimeout),this.resizeThrottleTimeout=setTimeout(function(){_i_("269:d053c22d"),e.takeMeasurements(),e.toggleArrows(e.$elScrollable.scrollLeft()),_r_()},100),_r_()},scrollHandler:function(){_i_("269:6175e46f");var t=this;this.scrollThrottleTimeout&&clearTimeout(this.scrollThrottleTimeout),this.scrollThrottleTimeout=setTimeout(function(){_i_("269:d08f13d4");var e=t.$elScrollable.scrollLeft();t.toggleArrows(e),_r_()},100),_r_()},bindUI:function(){_i_("269:1b05b16f");var t=this;$(window).on("resize",this.resizeHandler.bind(this)),this.$elScrollable.on("scroll",this.scrollHandler.bind(this)),this.$arrowLeft.on("click",function(e){_i_("269:cc3214c1"),t.scrollTo(t.$elScrollable.scrollLeft()-t.scrollInterval),_r_()}),this.$arrowRight.on("click",function(e){_i_("269:0c2b01a3"),t.scrollTo(t.$elScrollable.scrollLeft()+t.scrollInterval),_r_()}),_r_()},unbindUI:function(){_i_("269:d932a4bc"),$(window).off("resize",this.resizeHandler),this.$elScrollable&&this.$elScrollable.off("scroll",this.scrollHandler),this.$arrowLeft&&this.$arrowLeft.off("click"),this.$arrowRight&&this.$arrowRight.off("click"),_r_()}});i.exports=n,_r_()}),B.define("watcher",function(e,t,i){"use strict";_i_("269:3d83e765");var f=e("jquery"),r=e("utils/throttled"),u=[],p=[];function n(t,e,i){_i_("269:fadcf08b");var n=u.filter(function(e){return _i_("269:d8f694c2"),_r_(e.el===t&&e.parent===i)})[0];if(!n)return _r_();var r=p.filter(function(e){return _i_("269:9d4e9b45"),_r_(e.el===i)})[0];if(e){var a=n.conditions.indexOf(e);n.conditions.splice(a,1),n.checks.splice(a,1),0===n.checks.length&&r.children.splice(r.children.indexOf(n),1)}else r.children.splice(r.children.indexOf(n),1);0===r.children.length&&(f(n.parent).off("resize scroll",r.handler),p.splice(p.indexOf(r),1)),_r_()}function a(a,t,o,s,_){_i_("269:2b491703");var l=f(a),c=f(t),h=_&&"function"==typeof _,d=t===window,e=function(){_i_("269:2391de69");var e=l.offset().top,t=l.innerHeight(),i={top:e,bottom:e+t,height:t},n=d?window.pageYOffset:c.offset().top,r=d?c.height():c.innerHeight();o(i,{top:n,bottom:n+r,height:r})?s(a):h&&_(a),_r_()},i=u.filter(function(e){return _i_("269:d8f694c21"),_r_(e.el===a&&e.parent===t)})[0];i?(i.conditions.push(o),i.checks.push(e)):(i={el:a,parent:t,conditions:[o],checks:[e]},u.push(i));var n=p.filter(function(e){return _i_("269:9d4e9b451"),_r_(e.el===t)})[0];n?n.children.push(i):(n={el:t,children:[i],handler:r(function(){_i_("269:3ef8b039"),n.children.forEach(function(e){_i_("269:fa0590ce"),e.checks.forEach(function(e){_i_("269:0af2e944"),e(),_r_()}),_r_()}),_r_()},150)},p.push(n),c.on("resize scroll",n.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("269:b78d60b6"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("269:74e6c26e"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("269:a70bfd92"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("269:08d1ea98"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)}},unwatch:function(e,t,i){_i_("269:7ec0c4c1"),i=i instanceof f?i[0]:i||window,e instanceof f?e.each(function(){_i_("269:cdfeb4df"),n(this,t,i),_r_()}):n(e,t,i),_r_()},watch:function(n,r){return _i_("269:bed8bf4e"),_r_({when:function(i){return _i_("269:4a13cbc2"),r=r instanceof f?r[0]:r||window,_r_({then:function(e,t){if(_i_("269:c0457ca3"),n instanceof f)n.each(function(){_i_("269:d244cd94"),a(this,r,i,e,t),_r_()});else{if(!(n instanceof Node))throw new TypeError("invalid element provided to watcher");a(n,r,i,e,t)}_r_()}})}})}})}),B.define("component/bh/exposure-counter",function(e,t,i){_i_("269:ad94f708");var n=e("component"),r=e("et"),a=e("watcher"),o=e("browser-storage-handler"),s="bh_awareness_exposure_v2";function _(e){_i_("269:21306266");var t=JSON.parse(o.getPermanentValue(s)||"{}"),i=t.elements?t.elements:[];-1===i.indexOf(e.name)&&i.push(e.name),t.score=t.score?t.score+e.value:e.value,t.elements=i,o.addPermanentValue(s,JSON.stringify(t)),_r_()}function l(e){_i_("269:68b26508");var t=e.data("exposure-parent-selector");return _r_($(t).length?$(t):void 0)}function c(e){_i_("269:b7268411");var t=parseInt($(e).data("exposure-value"),10)||0,i=l($(e)),n=$(e).data("exposure-name");r.goalWithValue("js_bh_awareness_exposure",t),n&&_({name:n,value:t}),a.unwatch(e,null,i),_r_()}i.exports=n.extend({init:function(){_i_("269:fd78b1f0");var e=l(this.$el);a.watch(this.$el,e).when(a.conditions.isInViewport).then(c),_r_()},add:function(e,t){_i_("269:d70c8e83"),_({name:e,value:t=parseInt(t,10)||0}),_r_()}}),_r_()}),function(e){if(_i_("269:2910c3e5"),!(e&&e.env&&e.env.b_guest_country&&!/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb|id/gim.test(e.env.b_guest_country)))return _r_();e.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:ca53bf28");var t=e("hotel/store"),i=$(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");if(!i.length)return _r_();t.subscribe(function(){_i_("269:1aaa719a");var e=t.getState().roomsTable.js_selection;if(!e.roomCount)return i.css({display:"none"}),_r_();i.css({display:"block"}),i.html(e.chargesText||""),_r_()}.bind(this)),_r_()}),_r_()}(booking),function(e){if(_i_("269:b441d8d2"),!(e&&e.env&&e.env.b_guest_country&&/at|bg|hr|cy|cz|dk|ee|fi|fr|de|gr|hu|ie|it|lv|lt|lu|mt|pl|pt|ro|sk|si|es|se|is|li|no|ch|nl|be|gb/gim.test(e.env.b_guest_country)))return _r_();e.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:ca53bf281");var t=e("hotel/store"),i=$(".hprt-table-cell.-last .prd-taxes-and-fees-under-price");if(!i.length)return _r_();t.subscribe(function(){_i_("269:1aaa719a1");var e=t.getState().roomsTable.js_selection;if(!e.roomCount)return i.css({display:"none"}),_r_();i.css({display:"block"}),i.html(e.chargesText||""),_r_()}.bind(this)),_r_()}),_r_()}(booking),B.define("component/askr",function(e,t,i){_i_("269:160f3ee4");var n=e("component"),w=e("jquery"),k=e("jstmpl"),a=e("browser-storage-handler"),o=[],E=null;i.exports=n.extend({init:function(){if(_i_("269:b6f3e16d"),a.getSessionValue("askr-viewed"))return _r_(!1);try{o=JSON.parse(a.getPermanentValue("askr-pass-srvs"))||[]}catch(e){o=[]}var t=this,e=this.$el;if(t.platform=e.data("platform")||"desktop",t.scope=e.data("scope")||"",t.action_name=e.data("action-name")||"",t.additional_params_str=e.data("additional-params")||"",t.additional_params={},"string"==typeof t.additional_params_str)for(var i=t.additional_params_str.split("||"),n=0;n<i.length;n++){var r=i[n].split("=");if(2!==r.length)continue;t.additional_params[r[0]]=r[1]}B.require("fragment").call("askr.surveys",{action:t.action_name,e_names:B.jset.r,pass_s:o,platform:t.platform}).then(function(e){if(_i_("269:a91cec8d"),!e||!e.length)return _r_();if(!(E=e[0]).survey_id)return _r_();t.title=E.name,t.description=E.description||"",t.agree_btn=B.jstmpl.translations("www_surveygizmo_intro_yes",null,{}),t.cancel_btn=B.jstmpl.translations("www_surveygizmo_intro_no",null,{}),t.resid="",t.invite_position=E.invite_position||"bottom",E.hasOwnProperty("is_fullscreen")?t.is_fullscreen=E.is_fullscreen?1:0:t.is_fullscreen=1,E.hasOwnProperty("is_async")?t.is_async=E.is_async?1:0:t.is_async=0,E.hasOwnProperty("show_delay_ms")?(t.show_delay_ms=parseInt(E.show_delay_ms),isNaN(t.show_delay_ms)&&(t.show_delay_ms=0)):t.show_delay_ms=0,t.is_async||t.runSurveyWithDelay(),_r_()}),_r_()},runSurveyWithDelay:function(){_i_("269:7fc870f0");var e=this;setTimeout(function(){_i_("269:2d830ef6"),e.runSurvey(),_r_()},e.show_delay_ms),_r_()},runSurvey:function(){_i_("269:1e39a339"),~o.indexOf(E.survey_id)||o.push(E.survey_id),a.addPermanentValue("askr-pass-srvs",JSON.stringify(o)),a.addSessionValue("askr-viewed",1);var y=this,M=this.$el,e=w(k("askr_invite").render({title:y.title,description:y.description,agree_btn:y.agree_btn,cancel_btn:y.cancel_btn,platform:y.platform,invite_position:"invite-position-"+y.invite_position}));M.append(e),e.on("click",".js-askr-cancel",function(){return _i_("269:cdbb7a7b"),e.addClass("askr-invite--hidden"),setTimeout(function(){_i_("269:4ac8c19e"),e.remove(),_r_()},200),_r_(!1)}),e.on("click",".js-askr-ok",function(){return _i_("269:563398d5"),e.remove(),function(){if(_i_("269:335a67ae"),!E)return _r_();var t=0,i=0,n=E.questions.length,r=null,a=null,o=null,e=!1,s=200,_=168;"mobile"===y.platform?(s=144,_=80):y.is_fullscreen?(s=200,_=168):(s=124,_=60);var l=w(k("askr_survey").render({title:y.title,platform:y.platform,qdata:E,is_fullscreen:y.is_fullscreen}));M.append(l);var c=l.height()-s,h=l.height()-_,d=l.find(".askr-survey__btn_up"),f=l.find(".askr-survey__btn_down");function u(){_i_("269:d01b07c5");var e=Math.min(Math.round(t/(n||1)*100),100);l.find(".askr-survey__progress-bar").css("width",e+"%"),l.find(".askr-survey__progress-value-current").text(t),l.find(".askr-survey__progress-value-max").text(n),0<t&&1!==n?d.removeClass("askr-survey__btn--disabled"):d.addClass("askr-survey__btn--disabled"),t<Math.min(i,n-1)?f.removeClass("askr-survey__btn--disabled"):f.addClass("askr-survey__btn--disabled"),n<=i&&w(".askr-survey__progress-box").fadeOut("fast",function(){_i_("269:cbf95bc2"),w(".askr-survey__complete-survey-box").fadeIn(),_r_()}),_r_()}function p(){_i_("269:adfea704"),r=null;var e=l.find('.askr-survey__questions[data-qid="'+o+'"] .askr-survey__radio-item:checked').prop("id"),t=l.find('label.askr-survey__radio-box[for="'+e+'"]');t.addClass("askr-survey__radio-box--selected-animator"),setTimeout(function(){_i_("269:e45ec3f1"),t.removeClass("askr-survey__radio-box--selected-animator"),_r_()},1100),_r_()}function m(){_i_("269:d7369ed2"),a=null,e||b(),_r_()}function b(){if(_i_("269:88f79294"),t++,u(),n<=t)return g(),_r_();l.find(".askr-survey__content").animate({top:-1*t*h},{duration:400,queue:!1}),_r_()}function g(){_i_("269:a238f013"),function(){_i_("269:86068569");var i={survey_id:E.survey_id,answers:[],details:y.additional_params};l.find(".askr-survey__radio-item:checked").each(function(){_i_("269:7c695d26");var e=w(this).val(),t={question_id:w(this).parents(".askr-survey__questions").data("qid"),answer_id:e};i.answers.push(t),_r_()}),B.require("fragment").call("askr.submit",i).then(function(e){}),_r_()}();var e=w('<div class="askr-survey__overlay"></div>'),t=w('<div class="askr-survey__thanks_text_box">'+B.jstmpl.translations("ppd_survey_oct18_price_clarity_cp_outro")+"</div>");e.append(t),l.append(e),e.fadeIn("fast"),setTimeout(function(){_i_("269:5500d015"),v(!1),_r_()},2e3),_r_()}function v(e){_i_("269:4462b329"),l.fadeOut("fast"),clearTimeout(r),clearTimeout(a),a=r=null,_r_()}l.find(".askr-survey__content-block").css({height:c}),l.on("click",".askr-survey__close",function(){_i_("269:02391282"),v(!0),_r_()}),l.on("click",".askr-survey__complete-btn",function(){_i_("269:a337750a"),g(),_r_()}),d.on("click",function(){if(_i_("269:cc49c740"),w(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,function(){if(_i_("269:cb320665"),!t)return _r_();t--,u(),l.find(".askr-survey__content").animate({top:-1*t*h},{duration:400,queue:!1}),_r_()}(),_r_()}),f.on("click",function(){if(_i_("269:b903c714"),w(this).hasClass("askr-survey__btn--disabled"))return _r_(!1);e=!0,b(),_r_()}),l.find(".askr-survey__radio-item").on("change",function(){if(_i_("269:ce24e425"),!this.checked)return _r_(!1);e=!1,i=Math.max(i,t+1),i=Math.min(i,n),(r||a)&&(clearTimeout(r),clearTimeout(a),a=r=null),r=setTimeout(p,1e3),a=setTimeout(m,2200),o=w(this).data("qid"),l.find("label.askr-survey__radio-box.askr-survey__radio-box--selected-animator").removeClass("askr-survey__radio-box--selected-animator"),_r_()}),u(),setTimeout(function(){_i_("269:be7f5121"),l.removeClass("askr-survey--hidden"),_r_()},10),_r_()}(),_r_(!1)}),setTimeout(function(){_i_("269:7bb82d6d"),e.removeClass("askr-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("askr_invite",function(){_i_("269:6982f1bd");var n=['\n    <div class="askr-invite askr-invite--hidden '," ",'">\n        <div class="askr-invite__title">','</div>\n        <div class="askr-invite__description">','</div>\n        <div class="askr-invite__buttons-wrapper">\n            <a class="askr-invite__button js-askr-cancel">\n                ','\n            </a>\n            <a class="askr-invite__button askr-invite__button--primary js-askr-ok">\n                ',"\n            </a>\n        </div>\n    </div>\n"],r=["platform","invite_position","title","description","cancel_btn","agree_btn"];return _r_(function(e){_i_("269:3e225dc2");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1],i.MC(r[1]),n[2],i.MC(r[2]),n[3],i.MC(r[3]),n[4],i.MC(r[4]),n[5],i.MC(r[5]),n[6]].join(""),_r_(t)})}()),booking.jstmpl("askr_survey",function(){_i_("269:417bee8d");var f,u=['\n    <div class="askr-survey askr-survey--hidden '," askr-survey--fullscreen"," askr-survey--compact",'">\n        <div class="askr-survey__close">\n            ',"24","fonticon/aclose",'\n        </div>\n\n        <div class="askr-survey__top-shadow-overlayer"></div>\n\n        ','\n\n        <div class="askr-survey__content-wrapper">\n            <div class="askr-survey__content">\n                ',"\n                    ","\n\n                    ",'\n                        <div class="askr-survey__break">&nbsp;</div>\n                    ','\n\n                    <div class="askr-survey__content-block" data-qid="','">\n                        <div class="askr-survey__question-header">\n                            <div class="askr-survey__question-header-number">','</div>\n                            <div class="askr-survey__question-header-title">','</div>\n                        </div>\n\n                        <div class="askr-survey__break">&nbsp;</div>\n\n                        <div class="askr-survey__questions" data-qid="','">\n                            ',"\n\n                                    ","\n                                        ",'\n\n                                        <input type="radio"\n                                                class="askr-survey__radio-item"\n                                                name="radio-','"\n                                                id="radio-',"-",'"\n                                                value="','"\n                                                data-ex-hash="','"\n                                                data-g-num="','"\n                                                data-qid="','"\n                                        >\n\n                                        <label class="askr-survey__radio-box" for="radio-','">\n                                            <div class="askr-survey__radio-icon askr-survey__radio-unchecked">\n                                                ',"22","fonticon/checkempty",'\n                                            </div>\n\n                                            <div class="askr-survey__radio-icon askr-survey__radio-checked">\n                                                ',"fonticon/checkno2","\n                                            </div>\n                                            ","\n                                        </label>\n                                    ","\n                                ","\n                        </div>\n                    </div>\n                ",'\n            </div>\n        </div>\n\n        <div class="askr-survey__bottom-shadow-overlayer"></div>\n\n        <div class="askr-survey__footer">\n            <div class="askr-survey__btn askr-survey__btn_down">\n                <div class="askr-survey__btn-inner">\n                    ',"20","fonticon/downchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__btn askr-survey__btn_up askr-survey__btn--disabled">\n                <div class="askr-survey__btn-inner">\n                    ',"fonticon/upchevron",'\n                </div>\n            </div>\n\n            <div class="askr-survey__progress-box">\n                <div class="askr-survey__progress-text-box">\n                    <div class="askr-survey__progress-label">',"/private/ppd_survey_oct18_price_clarity_progress/name",'</div>\n\n                    <div class="askr-survey__progress-value"><span class="askr-survey__progress-value-current">1</span>',"/private/ppd_survey_oct18_price_clarity_num_of_total/name",'<span class="askr-survey__progress-value-max">','</span></div>\n                </div>\n\n                <div class="askr-survey__progress">\n                    <div class="askr-survey__progress-bar"></div>\n                </div>\n            </div>\n\n            <div class="askr-survey__complete-survey-box">\n                <button class="bui-button bui-button--secondary bui-button--wide askr-survey__complete-btn" title="Complete survey">\n                    <span className="bui-button__text">\n                        ',"/private/ppd_survey_oct18_price_clarity_complete_cta/name","\n                    </span>\n                </button>\n            </div>\n        </div>\n    </div>\n"],p=["platform","is_fullscreen","qdata","fe_length","fe_answ_num"];return _r_(function(e){_i_("269:1811e76b");var t="",i=this.fn;t+=[u[0],i.MC(p[0])].join(""),i.MJ(i.MB(p[1]))?t+=u[1]:t+=u[2],t+=[u[3],(e.unshift({height:u[4],name:u[5],width:u[4]}),f=i.HELPER("icon",e[0]),e.shift(),f),u[6]].join(""),i.MN("fe_length",0),t+=u[7];var n=(i.MC(p[2])||{}).questions||[];e.unshift({fe_question:null});for(var r,a=1,o=n.length;a<=o;a++){e[0].fe_question=r=n[a-1],t+=u[8],i.MN("fe_length",i.MI(i.MB(p[3]))+i.MI(1)),t+=u[9],i.MJ(1==a)&&i.MJ(i.MB(p[1]))&&i.MJ(i.MB(p[0])+""=="desktop")&&(t+=u[10]),t+=[u[11],i.MG((r||{}).question_id),u[12],i.MC(p[3]),u[13],(r||{}).name,u[14],i.MG((r||{}).question_id),u[15]].join("");var s=i.MG((r||{}).type);if(i.MJ(s+""=="radio")){t+=u[16],i.MN("fe_answ_num",0),t+=u[16];var _=a,l=n,c=o,h=d;n=(r||{}).answers||[];e.unshift({fe_answer:null});var d;for(a=1,o=n.length;a<=o;a++)e[0].fe_answer=d=n[a-1],t+=u[17],i.MN("fe_answ_num",i.MI(i.MB(p[4]))+i.MI(1)),t+=[u[18],i.MG((r||{}).question_id),u[19],i.MG((r||{}).question_id),u[20],i.MB(p[4]),u[21],i.MG((d||{}).answer_id),u[22],i.MG(((d||{}).track_experiment_goal||{}).experiment_hash),u[23],i.MG(((d||{}).track_experiment_goal||{}).goal_number),u[24],i.MG((r||{}).question_id),u[25],i.MG((r||{}).question_id),u[20],i.MB(p[4]),u[26],(e.unshift({height:u[27],name:u[28],width:u[27]}),f=i.HELPER("icon",e[0]),e.shift(),f),u[29],(e.unshift({height:u[27],name:u[30],width:u[27]}),f=i.HELPER("icon",e[0]),e.shift(),f),u[31],i.MG((d||{}).name),u[32]].join("");e.shift(),a=_,n=l,o=c,d=h,t+=u[33]}t+=u[34]}return e.shift(),t+=[u[35],(e.unshift({height:u[36],name:u[37],width:u[36]}),f=i.HELPER("icon",e[0]),e.shift(),f),u[38],(e.unshift({height:u[36],name:u[39],width:u[36]}),f=i.HELPER("icon",e[0]),e.shift(),f),u[40],i.ME(u[41],i.MB,i.MN,null),u[42],i.ME(u[43],i.MB,i.MN,null),u[44],i.F.entities(i.MB(p[3])),u[45],i.ME(u[46],i.MB,i.MN,null),u[47]].join(""),_r_(t)})}()),function(){_i_("269:7cca96af");var e=B.require("jquery");function t(){_i_("269:17a47039"),B.require("lightbox").show(e("#revc_write_a_review_login_intro"),{trapFocus:!0}),_r_()}B.when({action:"index"}).run(function(){_i_("269:4ea1e69b"),e(".js_write_a_review_index_navbar").on("click.revc_write_a_review",function(e){_i_("269:948df37a"),0==B.env.auth_level&&(e.preventDefault(),t()),_r_()}),_r_()}),B.when({action:"reviews"}).run(function(){_i_("269:f1556f25"),e(".js_write_a_review_reviews_header").on("click.revc_write_a_review",function(e){_i_("269:948df37a1"),0==B.env.auth_level&&(e.preventDefault(),t()),_r_()}),_r_()}),_r_()}(),B.when({action:"hotel"}).run(function(e){_i_("269:5879bfd0");var a=e("jquery"),t=e("hotel/reviews");({topicInput:"[data-js-review-topic]",placeholder:"#review_list_page_container",separatedFilters:".topic-filters--separated",init:function(){_i_("269:a7079cb0"),this.matchTopicsWithState(),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:c27c8045"),a(this.placeholder).delegate(this.topicInput,"change",this.handleChange.bind(this)),t.on(t.events.LOAD_AFTER,this.handleLoadAfter.bind(this)),_r_()},handleChange:function(e){_i_("269:4ca12e57"),e&&e.preventDefault();var n=[];a(this.topicInput).filter(":checked").each(function(e,t){_i_("269:0afcb5ed");var i=a(t).data("category-id")||!1;if(!i)return _r_(!0);n.push(String(i)),_r_()}),t.load({topics:n,offset:0}),_r_()},handleLoadAfter:function(e,t){_i_("269:26e750d5"),a("[data-js-review-topic]").length&&B.et.stage("adUAVYCIFBUcOcTLEVZICFLccdAXWQIORe",3),a(this.separatedFilters).length&&B.et.track("adUAVYCIFBUcOcTLEVZICFLccdAXWQIORe")?t&&t.fromScroll||this.renderFilters():this.matchTopicsWithState(),_r_()},matchTopicsWithState:function(){_i_("269:054224e4");var r=t.getState().topics;a(this.topicInput).map(function(e,t){_i_("269:691d04d9");var i=String(a(t).data("category-id")),n=!!(-1<r.indexOf(i));a(t).prop("checked",n),_r_()}),_r_()},renderFilters:function(){_i_("269:5b2e0d23");var e=a(this.placeholder).find(a(this.separatedFilters).data("placementTarget")),t=B.et.track("adUAVYCdKNKNKZaFFEZICFLcMLaUC");t&&(a(".reviews-filters-topics-wrapper").hide(),e=a(a(this.separatedFilters).data("placementTarget"))),e.find(this.separatedFilters).remove(),e.append(a(this.separatedFilters).removeClass("g-hidden")),t&&e.find("label").length&&a(".reviews-filters-topics-wrapper").show(),_r_()}}).init(),_r_()}),B.define("text-highlight",function(e,g,t){_i_("269:e1850b9f");var v=window.jQuery,y={find:"",className:"t-highlight",tagName:"span",caseSensitive:!1},M=document.body.textContent?"textContent":"innerText";g.clear=function(e){_i_("269:9913b459");var t=v(e);t.html(t.data("highlight-cache")),_r_()},g.highlight=function(e,t){_i_("269:730383a8");var i=v.extend(y,t),n=v(e);if(v.trim(i.find).length<1)return _r_(!1);n.data("highlight-cache")||n.data("highlight-cache",n.html()),g.clear(n);var r,a,o,s,_=document.createTreeWalker(n.get(0),NodeFilter.SHOW_TEXT,null,!1);i.find&&"function"==typeof i.find.exec&&(i.find=i.find.toString().replace(/^\//,"").replace(/\/\w*$/,""));for(var l="g"+(i.caseSensitive?"":"i"),c=new RegExp("("+i.find+")",l),h=new RegExp(i.find,l),d=[];r=_.nextNode();)(a=r.nodeValue.match(c))&&d.push([r,a]);for(var f=0,u=d.length;f<u;f++){r=d[f][0],a=d[f][1],o=r.nodeValue.split(h),s=document.createDocumentFragment();for(var p=0,m=o.length;p<m;p++)if(o[p].length&&s.appendChild(document.createTextNode(o[p])),p<m-1){var b=document.createElement("span");b.className=i.className,b[M]=a[p],s.appendChild(b)}r.parentNode.replaceChild(s,r)}_r_()},_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:be0b08e3");var n=e("jquery"),r=e("et"),t=e("events"),a=e("hotel/reviews"),i=e("text-highlight"),o="adUAVYCIFcAQDCGVbaeaZdZDDPBFO",s="#review_search_filter",_="bui-u-hidden";({placeholder:"#blockdisplay4",reviewSearchButton:s+" .review-search-button",reviewSearchInput:s+" .review-search-text",reviewSearchRemove:" .review-remove-search-js",pageLinks:".c-pagination .bui-pagination__item a",topicInputs:"[data-js-review-topic]",reviewlistContainer:"#review_list_page_container",init:function(){_i_("269:f89c1232"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:2226971c"),t.on("reviews-tab-opened",function(){_i_("269:26bea6c2"),r.stage(o,1),_r_()}),n(this.placeholder).on("click",this.reviewSearchButton,n.proxy(this.handleSearch,this)),n(this.placeholder).on("keyup",this.reviewSearchInput,n.proxy(this.handleKeyup,this)),n(this.placeholder).on("click",this.reviewSearchRemove,n.proxy(this.handleRemove,this)),n(this.placeholder).on("click",this.topicInputs,function(){_i_("269:f006b1b3"),r.customGoal(o,1),_r_()}),n(this.placeholder).on("click",this.pageLinks,function(){_i_("269:c580d4b2"),r.customGoal(o,2),_r_()}),a.on(a.events.LOAD_AFTER,n.proxy(this.handleLoadAfter,this)),_r_()},handleSearch:function(e){_i_("269:d2ce1efb");var t=n(this.placeholder).find(this.reviewSearchInput).val();r.customGoal(o,1),r.goalWithValue("js_reviewlist_search_review",1),r.stage(o,2);var i={text:(t=t?t.trim():"").trim(),offset:0};B.env.fe_review_nr&&0<B.env.fe_review_nr&&(i.review_nr=B.env.fe_review_nr),a.load(i),_r_()},handleKeyup:function(e){_i_("269:31e07482"),13==e.keyCode&&this.handleSearch(e),_r_()},handleRemove:function(e){_i_("269:f4e94044"),n(this.placeholder).find(this.reviewSearchInput).val(""),a.load({text:"",offset:0}),_r_()},handleLoadAfter:function(){_i_("269:bc4d3cff"),this.matchUiWithState(),_r_()},matchUiWithState:function(){_i_("269:746f056b");var e=a.getState().text,t=n(this.placeholder);e?(t.find(this.reviewSearchInput).val(e),t.find(this.reviewSearchRemove).removeClass(_),this.highlightReviewTexts()):t.find(this.reviewSearchRemove).addClass(_),_r_()},highlightReviewTexts:function(){_i_("269:f13b0374");var e=n(this.reviewlistContainer),t=e.find('input[name="highlight_text"]');0<t.size()&&e.find(".c-review__body").each(function(){_i_("269:653a2af9"),i.highlight(this,{find:t.first().val(),className:"review-search-highlight"}),_r_()}),_r_()}}).init(),_r_()}),B.define("component/dismissible-item/cookie-block",function(e,t,i){_i_("269:55fc2505");var n=e("component"),r=e("read-data-options");i.exports=n.extend({init:function(){_i_("269:f063afbd"),this.options=r(this.$el,{itemId:{name:"item-id",type:String,required:!0}}),$.cookie(this.options.itemId)?this.hide():this.show(),this.$el.delegate(".js-close","click",function(){_i_("269:5fb0e4551"),this._dismissItem(),this.hide(),_r_()}.bind(this)),_r_()},_dismissItem:function(){_i_("269:76e3dd13"),$.cookie(this.options.itemId,!0),_r_()},show:function(){_i_("269:5a0d742c"),this.$el.show(),_r_()},hide:function(){_i_("269:bd0194ab"),this.$el.remove(),_r_()}}),_r_()}),B.when({events:"load",action:"hotel"}).run(function(e){_i_("269:e50aa736");var o=e("jquery");if(!B.env.b_room_group||!B.env.b_room_group.length)return _r_();var n=o("#roomsForm"),r=e("utils/deepequal");n.on("submit",function(){_i_("269:40c36756"),function(){_i_("269:922f4750");var a={},e={};n.find(".b_room_selectbox").each(function(e,t){_i_("269:39a0c8d4");var i=o(t),n=parseInt(i.val()),r=i.data("block-id");0<n&&(a[r]={block_id:r,count:n}),_r_()});for(var t=0;t<B.env.b_room_group.length;t++){var i=B.env.b_room_group[t];e[i.block_id]=i}return _r_(r(a,e))}()&&n.append('<input type="hidden" name="is_group_recommendation_from_rt" value="1">'),_r_()}),_r_()}),B.when({condition:$(".rt_see_bed_policies--link").length}).run(function(e){_i_("269:739bade9");var t=e("jquery"),i=t("#smp_children_policy");if(!i.length)return _r_();t(".rt_see_bed_policies--link").on("click",function(e){_i_("269:c67a0056");t("html, body").animate({scrollTop:i.offset().top},500),e.preventDefault(),_r_()}),_r_()}),B.define("crosstab",function(e,t,i){_i_("269:e235a043");var r,n=e("event-emitter"),a=o();function o(){return _i_("269:9200abb5"),_r_("ct_"+Math.random().toString(36).substr(2,9))}function s(){_i_("269:067050b1"),n.extend(this),this._emit=this.emit,this.emit=this.emitStorageEvent,_r_()}(function(e){_i_("269:04571d85");try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),_r_(!0)}catch(e){return _r_(!1)}_r_()})("localStorage")&&(r=window.localStorage),s.prototype.receive=function(e){var t;if(_i_("269:b21458e3"),!e.newValue||!e.key)return _r_();if(0===e.key.indexOf("cst-")){if((t=JSON.parse(e.newValue)).tabId===a)return _r_();this._emit(t.event,t)}_r_()},s.prototype.emitStorageEvent=function(e,t){if(_i_("269:dba7b0f0"),!r)return _r_();var i=o(),n={event:e,payload:t=t||{},eventId:i,tabId:a};try{r.setItem("cst-"+i,JSON.stringify(n))}catch(e){if("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"NS_ERROR_FILE_NO_DEVICE_SPACE"===e.name)return _r_();booking.reportError(e,"local storage crosstab")}window.setTimeout(function(){_i_("269:fb1212ba"),r.removeItem("cst-"+i),_r_()},10),_r_()};var _=new s;r&&window.addEventListener("storage",_.receive.bind(_)),i.exports=_,_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:25f5dba4");var a=e("jquery"),t=e("events"),o=a(".best-ugc-highlight-by-photo, .gallery-side-review-wrapper__ugc-highlights-container, .gallery-side-review-wrapper__ugc-highlight-by-photo"),s=a(".gallery-side-reviews-wrapper__side");function i(e,t){if(_i_("269:52b06271"),!e)return _r_();if(_i_("269:7bbe5a97"),_r_(s.is(":visible"))){var i=s.find(".best-ugc-highlight-by-photo:visible"),n=s.find(".best-ugc-highlight-by-photo[data-photo-id="+e+"]");if(!i.length&&n.length,i&&i.length&&!n.length&&i.finish().slideUp(),!i.length&&n&&n.length&&n.slideDown(),i&&i.length&&n&&n.length){var r=i.find("strong").text()==n.find("strong").text()?0:200;i.finish().fadeOut(r,function(){_i_("269:8b556240"),n.fadeIn(r),_r_()})}a(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id="+e+"]").length&&a(".gallery-side-review-wrapper__ugc-highlights-container").show()}else o.hide(),a(".best-ugc-highlight-by-photo[data-photo-id="+e+"]").css("display","table"),a(".gallery-side-review-wrapper__ugc-highlight-by-photo[data-photo-id="+e+"]").show();_r_()}B.hotel.Gallery.slick&&B.hotel.Gallery.slick.$slides&&i(B.hotel.Gallery.slick.$slides.first().data("photoid"));t.on(B.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,function(e){if(_i_("269:c2b73336"),e&&e.length){var t=e[2].data("photoid");e[1].currentSlide;i(t)}_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(e){_i_("269:8eff2a0a"),B.hotel.Gallery.slick&&B.hotel.Gallery.slick.pause(),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,function(e){_i_("269:2d0d3fe9"),B.hotel.Gallery.slick||(a(".best-ugc-highlight-by-photo").hide(),a(".gallery-side-review-wrapper__ugc-highlights-container").hide(),a(".gallery-side-review-wrapper__ugc-highlight-by-photo").hide()),_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:1212b86f"),e&&e.modal){var t=e.modal.activePhotoId;e.modal.currPos;i(t),B.hotel.Gallery.slick&&B.hotel.Gallery.slick.pause()}_r_()}),_r_()}),B.define("component/relevant-reviews-hp",RelevantReviewsHp),booking.jstmpl("acid_carousel",function(){_i_("269:e346b3de");var p,m=["\n","","/private/m_sxp_sr_carousel_based_on_previously_viewed/name","/private/m_sxp_sr_carousel_centre_and_breakfast/name",'<div class="bui-banner bui-u-bleed@small" data-bui-component="Banner"><div class="bui-banner__content">','<a class="bui-banner__title_a" href="','" target="_blank"><h1 class="bui-banner__title">',"\n\n\n\n","\n    ","\n\n    \n    \n    \n\n    \n    \n    \n    \n\n    ","\n        \n        ","\n    \n    \n    \n    \n    \n\n    ","\n        ","1","\n\n","2","3","\n\n        \n        ","\n            ","5","6","7","4","genius_identity_refresh","\n\n    ","\n\n\n\n\n\n\n","genius_identity_refresh_global","\n\n\n\n\n\n\n\n\n\n\n\n\n\n","\n\n\n\n\n\n","\n\n\n\n\n","20","experiments/genius_level_2_badge","70","experiments/genius_level_1_badge","</h1><span>","/private/d_sxp_sr_property_carousel_cta_show_more/name","/private/sxp_sh_carousel_cta_show_all/name","</span></a>",'<h1 class="bui-banner__title">',"</h1>",'<div role="region" aria-label="','" class="bui-carousel bui-carousel--',' bui-u-bleed@small" data-bui-component="Carousel"><ul class="bui-carousel__inner" data-bui-ref="carousel-container">','<li class="bui-carousel__item" data-bui-ref="carousel-item"><a href="','" target="_blank" class="bui-card bui-card--media bui-card--transparent ',"bui-f-depth-1",'"><div class="bui-card__image-container"><img class="bui-card__image" src="','"></div><div class="bui-card__content">',"/genius_perks/10/name","Tooltip","top","experiments/discount_benefit","large","/genius_perks/7/name","experiments/free_breakfast_benefit","/genius_perks/11/name","experiments/room_upgrade_benefit",'<h1 class="bui-card__title">','</h1><p class="bui-card__subtitle">',"&nbsp;","</p>","\n    \n    \n    \n    \n\n    ","\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n\n    ","/private/{copy}/name","<b>","</b>",'<p class="bui-card__subtitle c-acid-carousel__price">',"/private/sxp_acid_carousels_starting_price/name",'<p class="bui-card__subtitle c-acid-carousel__price c-acid-carousel__price--unavailable">',"/private/sxp_sh_carousel_unavailable/name",'<p class="bui-card__subtitle c-acid-carousel__last-viewed">','<p class="bui-card__subtitle c-acid-carousel__acid-price-subtitle">',"/private/genius_ml_acid_price/name",'&nbsp;<br><span class="c-acid-carousel__acid-price">',"</span></p>","</div></a></li>",'<li class="bui-carousel__item bui-card__see-all" data-bui-ref="carousel-item"><a href="','" target="_blank" class="','">',"iconset/arrow_right","larger","<span>","</span></a></li>",'</ul><div class="bui-carousel__nav"><button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="">',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'</button><button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="">',"bui-carousel__next","iconset/navarrow_right","</button></div></div></div>",'<button type="button" class="bui-banner__close" data-bui-ref="banner-close">',"streamline/close","24","</button>","</div>"],b=["fe_carousel_header","title","type","show_more_url","show_all_url","tagname","condition","b_site_type","b_user_genius_status","jstmpl","b_guest_country","fe_show_new_genius_identity","genius_level","size","hotels","b_url","with_shadow","b_photo_url","fe_genius_discount_copy","b_genius_discount","fe_genius_free_breakfast_copy","b_genius_free_breakfast","fe_genius_room_upgrade_copy","b_genius_free_room_upgrade","b_name","b_review_score","b_review_title","variant","copy","tooltip","class","height","image_height","identity_version","fe_price","b_price","b_last_booked","b_last_viewed","closeable"];return _r_(function(c){_i_("269:2f08d775");var e="",h=this.fn;function t(e){_i_("269:2ece7b8c"),e+=m[61];var t,i={class:h.MB(b[30])||"",copy:h.MB(b[28]),fe_show_new_genius_identity:h.MB(b[11]),height:h.MB(b[31]),size:m[52],variant:h.MB(b[27])&&h.MJ(h.MB(b[27])+""=="greyscale")?"badge_greyscale":"badge"},n=c;return(c=h.SV([{},{}])).unshift(i),t=e,_i_("269:19f5f941"),t+=m[62],h.MN("variant",h.MB(b[27])||"logo"),t+=m[8],h.MN("copy",h.MB(b[28])||"www_ge_screenreader_generic_logo"),t+=m[8],h.MN("tooltip",h.MB(b[29])||""),t+=m[8],h.MN("class",h.MB(b[30])||""),t+=m[8],h.MN("size",h.MB(b[13])||"large"),t+=m[24],h.MN("b_companyname","Booking.com"),t+=m[24],h.MN("identity_version",h.MB(b[11])?"":"old_"),t+=m[24],h.MN("image_height",h.MJ(/^\d+$/.test(h.MB(b[31])))?h.MB(b[31]):h.MJ(h.MB(b[13])+""=="smaller")?12:h.MJ(h.MB(b[13])+""=="small")?14:h.MJ(h.MB(b[13])+""=="medium")?16:h.MJ(h.MB(b[13])+""=="large")?20:h.MJ(h.MB(b[13])+""=="larger")?24:h.MJ(h.MB(b[13])+""=="largest")?32:""),t+=m[24],h.MN(b[1],h.ME(m[63],h.MB,h.MN,null)),t+=[m[8],(c.unshift({class:"genius-"+h.MB(b[27])+" "+h.MB(b[30]),height:h.MB(b[32]),name:"genius/new_identity/genius_"+h.MB(b[33])+h.MB(b[27]),title:h.MB(b[1])}),p=h.HELPER("icon",c[0]),c.shift(),p),m[0]].join(""),e=_r_(t),c=h.SV(n),e+=m[0],_r_(e)}function i(e){if(_i_("269:30a78f2f"),e+=m[9],h.MD(b[7])){e+=m[10];var t={condition:h.MJ(h.MC(b[7])+""=="www"),stage:m[13],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),l=e,_i_("269:8f5d23a3"),l+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[13])&&(l+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[13])),l+=m[8]),l+=m[14],e=_r_(l),c=h.SV(i),e+=m[12];t={condition:h.MJ(h.MC(b[7])+""=="mdot"),stage:m[15],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),_=e,_i_("269:674d25b5"),_+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[15])&&(_+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[15])),_+=m[8]),_+=m[14],e=_r_(_),c=h.SV(i),e+=m[12];t={condition:h.MJ(h.MC(b[7])+""=="tdot"),stage:m[16],tagname:h.MB(b[5])},i=c;if((c=h.SV([{},{}])).unshift(t),s=e,_i_("269:989d4b37"),s+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[16])&&(s+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[16])),s+=m[8]),s+=m[14],e=_r_(s),c=h.SV(i),e+=m[17],h.MD(b[8])){e+=m[18];t={condition:h.MK(h.MC(b[8]).is_genius),stage:m[19],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),o=e,_i_("269:e0093842"),o+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[19])&&(o+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[19])),o+=m[8]),o+=m[14],e=_r_(o),c=h.SV(i),e+=m[18];t={condition:h.MG((h.MC(b[8])||{}).b_is_regular_2_bookings_genius),stage:m[20],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),a=e,_i_("269:4d36c482"),a+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[20])&&(a+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[20])),a+=m[8]),a+=m[14],e=_r_(a),c=h.SV(i),e+=m[18];t={condition:h.MG((h.MC(b[8])||{}).b_is_regular_5_bookings_genius),stage:m[21],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),r=e,_i_("269:deaa3bbf"),r+=m[11],h.MJ(h.MB(b[6]))&&h.MJ(m[21])&&(r+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[21])),r+=m[8]),r+=m[14],e=_r_(r),c=h.SV(i),e+=m[12]}else{e+=m[18];t={condition:m[13],stage:m[22],tagname:h.MB(b[5])},i=c;(c=h.SV([{},{}])).unshift(t),n=e,_i_("269:78acfeaa"),n+=m[11],h.MJ(m[13])&&h.MJ(m[22])&&(n+=m[12],h.MN("trigger_track_genius_identity_refresh_stage",h.track_experiment_stage(h.MB(b[5]),m[22])),n+=m[8]),n+=m[14],e=_r_(n),c=h.SV(i),e+=m[12]}e+=m[8]}var n,r,a,o,s,_,l;return e+=m[0],_r_(e)}e+=m[0],e+=m[1];var n,r,a,o,s="";s+=m[1],h.MD(b[1])?s+=[m[1],h.F.entities(h.MC(b[1])),m[1]].join(""):h.MJ(4==h.MB(b[2]))?s+=[m[1],h.ME(m[2],h.MB,h.MN,null),m[1]].join(""):s+=[m[1],h.ME(m[3],h.MB,h.MN,null),m[1]].join(""),s+=m[1],h.MN(b[0],s),e+=m[4],h.MJ(h.MB(b[3]))||h.MJ(h.MB(b[4]))?(e+=[m[5],h.F.entities(h.MC(b[3])?h.MC(b[3]):h.MC(b[4])),m[6],h.MC(b[0]),m[1]].join(""),c.unshift({jstmpl:m[13]}),n=e,_i_("269:baeb0e9f"),n+=m[7],h.MJ(h.MC(b[10]))&&(h.MJ(h.MC(b[10])+""=="de")||h.MJ(h.MC(b[10])+""=="br")||h.MJ(h.MC(b[10])+""=="ru")||h.MJ(h.MC(b[10])+""=="pl"))&&h.MK(h.MB(b[9]))&&(n+=m[8],c.unshift({tagname:m[23]}),n=i(n),c.shift(),n+=m[24],h.MJ(h.track_experiment("cQYIMdUZHEZXRDdEXaDBUcRe"))&&(n+=m[12],h.MN("fe_show_new_genius_identity",1),n+=m[12],h.MK(h.MB(b[9]))&&(n+=[m[18],(c.unshift({fe_show_new_genius_identity:m[13]}),p=h.HELPER("export",c[0]),c.shift(),p),m[12]].join("")),n+=m[8]),n+=m[0]),n+=m[25],h.MK(h.MB(b[9]))&&(n+=m[8],c.unshift({tagname:m[26]}),n=i(n),c.shift(),n+=m[8],h.MJ(h.track_experiment("cQYIMdUZHEZXRDdEXaDBUcLeCFZAcbRKe"))&&(n+=m[12],h.MN("fe_show_new_genius_identity",1),n+=m[12],h.MK(h.MB(b[9]))&&(n+=[m[18],(c.unshift({fe_show_new_genius_identity:m[13]}),p=h.HELPER("export",c[0]),c.shift(),p),m[12]].join("")),n+=m[8]),n+=m[0]),n+=m[7],r=n,_i_("269:916689e6"),r+=m[27],r+=m[14],r+=m[14],r+=m[0],n=_r_(r),n+=m[0],a=n,_i_("269:8ad26690"),a+=m[28],a+=m[0],n=_r_(a),n+=m[0],o=n,_i_("269:b9df184f"),o+=m[14],o+=m[0],n=_r_(o),n+=m[29],n+=m[0],n+=m[0],e=_r_(n),c.shift(),e+=m[1],h.MD(b[11])||(e+=m[1],h.MJ(10==h.MB(b[2]))&&h.MJ(h.MB(b[12]))&&h.MJ(2==h.MB(b[12]))||h.MJ(11==h.MB(b[2]))?e+=[m[1],(c.unshift({height:m[30],name:m[31],width:m[32]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[1]].join(""):h.MJ(9==h.MB(b[2]))&&h.MJ(h.MB(b[12]))&&h.MJ(1==h.MB(b[12]))&&(e+=[m[1],(c.unshift({height:m[30],name:m[33],width:m[32]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[1]].join(""))),e+=m[1],e+=m[34],h.MD(b[3])?e+=[m[1],h.ME(m[35],h.MB,h.MN,null),m[1]].join(""):e+=[m[1],h.ME(m[36],h.MB,h.MN,null),m[1]].join(""),e+=m[37]):e+=[m[38],h.MC(b[0]),m[39]].join(""),e+=[m[40],h.F.html(h.MC(b[0])),m[41],h.F.entities(h.MC(b[13])),m[42]].join("");var _=h.MC(b[14])||[];c.unshift(null);for(var l=1,d=_.length;l<=d;l++){if(c[0]=_[l-1],e+=[m[43],h.F.entities(h.MC(b[15])),m[44]].join(""),h.MD(b[16])&&(e+=m[45]),e+=[m[46],h.STATIC_HOSTNAME(h.MC(b[17]),0,0,0),m[47]].join(""),(h.MJ(9==h.MB(b[2]))||h.MJ(10==h.MB(b[2])))&&(e+=m[1],h.MD(b[19])&&(e+=m[1],h.MN(b[18],h.ME(m[48],h.MB,h.MN,null)),e+=[m[1],(c.unshift({"data-bui-component":m[49],"data-tooltip-position":m[50],name:m[51],size:m[52],title:h.MB(b[18])}),p=h.HELPER("icon",c[0]),c.shift(),p),m[1]].join("")),e+=m[1]),e+=m[1],h.MJ(10==h.MB(b[2]))&&(e+=m[1],h.MD(b[21])&&(e+=m[1],h.MN(b[20],h.ME(m[53],h.MB,h.MN,null)),e+=[m[1],(c.unshift({"data-bui-component":m[49],"data-tooltip-position":m[50],name:m[54],size:m[52],title:h.MB(b[20])}),p=h.HELPER("icon",c[0]),c.shift(),p),m[1]].join("")),e+=m[1],h.MD(b[23])&&(e+=m[1],h.MN(b[22],h.ME(m[55],h.MB,h.MN,null)),e+=[m[1],(c.unshift({"data-bui-component":m[49],"data-tooltip-position":m[50],name:m[56],size:m[52],title:h.MB(b[22])}),p=h.HELPER("icon",c[0]),c.shift(),p),m[1]].join("")),e+=m[1]),e+=[m[57],h.F.entities(h.MC(b[24])),m[58],h.F.entities(h.MC(b[25])?h.MC(b[25]):""),m[59],h.F.entities(h.MC(b[26])),m[60]].join(""),(h.MJ(h.MC(b[19]))||h.MJ(h.MC(b[21]))||h.MJ(h.MC(b[23])))&&h.MJ(h.MB(b[11]))){e+=m[1];var f={fe_show_new_genius_identity:h.MB(b[11]),size:m[52]},u=c;(c=h.SV([{},{}])).unshift(f),e=t(e),c=h.SV(u),e+=m[1]}e+=m[1],(h.MJ(4==h.MB(b[2]))||h.MJ(6==h.MB(b[2]))||h.MJ(15==h.MB(b[2])))&&(e+=m[1],h.MD(b[35])?(e+=m[1],h.MN(b[34],[m[64],h.F.entities(h.MC(b[35])),m[65]].join("")),e+=[m[66],(c.unshift({price:h.MB(b[34])}),p=h.ME(m[67],h.MB,h.MN,null),c.shift(),p),m[60]].join("")):e+=[m[68],h.ME(m[69],h.MB,h.MN,null),m[60]].join(""),e+=m[1],h.MJ(6==h.MB(b[2]))&&(e+=m[1],h.MJ(h.MB(b[36]))?e+=[m[70],h.MC(b[36]),m[60]].join(""):h.MJ(h.MB(b[37]))&&(e+=[m[70],h.MC(b[37]),m[60]].join("")),e+=m[1]),e+=m[1]),e+=m[1],(h.MJ(9==h.MB(b[2]))||h.MJ(10==h.MB(b[2]))||h.MJ(11==h.MB(b[2])))&&(e+=[m[71],h.ME(m[72],h.MB,h.MN,null),m[73],h.F.entities(h.MC(b[35])),m[74]].join("")),e+=m[75]}return c.shift(),e+=m[1],(h.MJ(h.MB(b[3]))||h.MJ(h.MB(b[4])))&&(e+=[m[76],h.F.entities(h.MC(b[3])?h.MC(b[3]):h.MC(b[4])),m[77]].join(""),h.MD(b[16])&&(e+=m[45]),e+=[m[78],(c.unshift({color:"#0077CC",name:m[79],size:m[80]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[81]].join(""),h.MD(b[3])?e+=[m[1],h.ME(m[35],h.MB,h.MN,null),m[1]].join(""):e+=[m[1],h.ME(m[36],h.MB,h.MN,null),m[1]].join(""),e+=m[82]),e+=[m[83],(c.unshift({class:m[84],name:m[85],role:m[86],width:m[87]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[88],(c.unshift({class:m[89],name:m[90],role:m[86],width:m[87]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[91]].join(""),h.MD(b[38])&&(e+=[m[92],(c.unshift({class:m[1],name:m[93],width:m[94]}),p=h.HELPER("icon",c[0]),c.shift(),p),m[95]].join("")),e+=m[96],e+=m[0],_r_(e)})}()),B.define("component/acid-carousel",function(t,e,i){_i_("269:396bdf78");var n=t("component"),c=t("utils/throttled"),r=t("server-data"),h=t("jquery"),s=t("jstmpl"),d=t("et"),a=t("search-config"),o=r.b_ufi,_=r.b_checkin_date,l=r.b_checkout_date,f=r.b_selected_currency,u=n.extend({init:function(){_i_("269:8eea8777"),this.filterAggregates=this.$el.get(0).getAttribute("data-fa"),this.type=+this.$el.data("type"),this.version=+this.$el.data("version"),this.forBusiness=this.$el.data("business"),this.withShadow=this.$el.data("shadow"),this.optional=this.$el.data("optional"),this.persistent=this.$el.data("persistent"),this.closeable=this.$el.data("closeable"),this.size=this.$el.data("size"),4===this.type||15===this.type?this.loadOnDemand():this.load(),_r_()},load:function(){if(_i_("269:1e9c4278"),this.loaded)return _r_();this.loaded=!0,h.post("/acid_carousel",{ufi:o,checkin:_,checkout:l,nr_rooms_needed:a.rooms?a.rooms.length:1,adults_total:a.adults,children_total:a.children,children_ages_total:a.childrenAges&&a.childrenAges.join(","),filter_aggregates:this.filterAggregates,currency:f,sb_travel_purpose:this.forBusiness?"business":"leisure",version:this.version,carousel_type:this.type,optional:this.optional}).then(function(e){_i_("269:f4ae62a5"),this._initComponents(e),this._initOnViewTracking(e),this._addEventListeners(),this._typeSpecificLogic(e),_r_()}.bind(this)).fail(function(){}),_r_()},loadOnDemand:function(){var t;_i_("269:4ed5256f");var e=this.$el.offset();if(e&&e.top){var i=Math.round(e.top/2),n=h(window);n.on("scroll",t=c(function(){_i_("269:0ed9d315");var e=n.scrollTop();i<e&&(this.load(),n.off("scroll",t)),_r_()}.bind(this),100)),t()}_r_()},_addEventListeners:function(){if(_i_("269:8cc2a9fa"),"searchresuts"===r.b_action){var e=t("searchresults/events");e.on(e.UI_RESULTS_UPDATED,function(){_i_("269:7c663376"),!this._isPersistent()&&this.$el.remove(),_r_()}.bind(this))}_r_()},_initOnViewTracking:function(i){if(_i_("269:bea14e66"),(i=i||{}).b_has_data&&i.h){var n,r=this.$el.offset().top;if(!r)return _r_();var a=h(window),o=Math.round(r/2),s=!1,_=!1,l=this.type;a.on("scroll",n=c(function(){_i_("269:34ecad5a");var e=a.scrollTop(),t=a.height();!s&&o<e&&(d.stage(i.h,8),s=!0),!_&&r<e+50+t&&(d.stage(i.h,9),_=!0,15===l&&-1===location.href.indexOf("ucfs=")&&d.stage(i.h,7)),s&&_&&a.off("scroll",n),_r_()},100)),n()}_r_()},_initComponents:function(e){if(_i_("269:ee80f52f"),!(e=e||{}).b_hotels)return _r_();this.template=s("acid_carousel"),this.$el.show(),this.$el.html(this.template.render({hotels:e.b_hotels,traveler_type_id:e.b_traveler_type,show_more_url:e.b_show_more_url,show_all_url:e.b_show_all_url,title:e.b_title,version:this.version,type:this.type,size:this.size,with_shadow:this.withShadow,closeable:this.closeable,genius_level:e.b_genius_level,fe_show_new_genius_identity:B.env.fe_show_new_genius_identity})),window.BUI.initComponents(this.$el.get(0)),_r_()},_isPersistent:function(){return _i_("269:4c345c10"),_r_(this.persistent)},_typeSpecificLogic:function(a){if(_i_("269:b3724e75"),!(a=a||{}).b_hotels)return _r_();if(6===this.type&&1===this.version){var o={};a.b_hotels.forEach(function(e){_i_("269:a4e3c39e"),o[e.b_id]=1,_r_()}),h("#right").on("click",".sr_item",function(e){_i_("269:6640c5e8");var t=h(e.target);if(t.is("a")||t.parents("a").length||t.is(".roomrow")||t.parents(".roomrow").length){var i=h(e.currentTarget),n=i.data("hotelid");if(!o[n]){var r={b_price:i.find(".bui-price-display__value").text(),b_class:i.data("class"),b_photo_url:i.find(".hotel_image").attr("src"),b_name:i.find(".sr-hotel__name").text(),b_id:i.data("hotelid"),b_review_score:i.data("score")||"",b_url:i.find(".sr_cta_button").attr("href"),b_review_title:i.find(".bui-review-score__title").text().trim(),b_last_viewed:s.translations("sxp_sh_carousel_last_viewed_today"),b_class_is_estimated:"",b_cc1:""};o[n]=1,a.b_hotels.unshift(r),this._initComponents(a)}}_r_()}.bind(this))}_r_()}});i.exports=u,_r_()}),function(){_i_("269:7b8f02ee");var a,o=B.require("jquery"),i=B.require("events"),s=o(".hp-facilities-sliding-wrapper"),n="facilities-sliding:in";B.when({action:"hotel",events:"ready",condition:s.length}).require(["sliding-panel-model"],function(e){_i_("269:cb442fb9");var t=e.get("hp-facilities-sliding");t.on("sliding-panel/show",function(){_i_("269:efedb9fd"),function(){if(_i_("269:295e0a3f"),a)return _r_();var e,t,i=o(".facility-block-wrapper"),n=o("<div/>").html(i.html()),r=i.data("slidingRemoveClasses");n.find(">:not(.facilitiesChecklist,.facilities-sliding-keep)").remove(),r&&(e=String(o.trim(r)).split(/ +/),(t=e.map(function(e){return _i_("269:6b9674d1"),_r_("."+e)}).join(", "))&&n.find(t).removeClass(r));(B.env.b_is_ie8||B.env.b_is_ie9)&&n.append('<div class="clearfix"></div>').find(".facilities-ie-column").attr("style","");s.append(n),s.loadComponents(),B.et.initAttributesTracking(s),a=!0,B.et.stage("NAFLeOeJYRZOFHBUBMRAOAcEUWKHC",3),_r_()}(),setTimeout(function(){_i_("269:bd72d0bd"),B.eventEmitter.trigger("GENERAL:layout_changed"),i.emit(n),_r_()},300),_r_()}),o("body").on("click",".js-trigger-facilities-slider",function(){_i_("269:804c95a9"),t.show(),_r_()}).on("click",".js-hide-facilities-slider",function(){_i_("269:82aa8bc0"),t.hide(),_r_()}).on("click",".js-toggle-facilities-slider",function(){_i_("269:9e880f06"),t.isPanelShown()?t.hide():t.show(),_r_()}),i.on("facilities-sliding:to:open",function(){_i_("269:825f0439"),t.show(),_r_()}),_r_()}),_r_()}(),function(){_i_("269:0f0a4d03");var i=B.require("jquery"),r=o(B.env.b_current_datetime)||new Date,a={};function n(e){if(_i_("269:aa95e98b"),e&&a[e])return _r_(a[e]);var t,i,n=o(e);return n&&(0<(i=r.getTime()-n.getTime())&&i<=2592e6?t={isNew:!0}:0<i&&i<=7776e6&&(t={isRecent:!0}),a[e]=t),_r_(t)}function o(e){var t;if(_i_("269:7d0c2b95"),e&&(t=String(e).match(/^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2}).*/)))return _r_(new Date(+t[1],t[2]-1,+t[3]));_r_()}B.events.on(B.hotel.Events.Gallery.INIT,function(){_i_("269:16033836"),i("#photo_wrapper [data-photo-created]").each(function(){_i_("269:31eec510");var e=i(this),t=n(e.data("photoCreated"));t&&(e.attr("data-recent-photo-label",t.isNew?"new":"recent"),e.addClass("bh-photo-recent").html(B.jstmpl("template_gallery_new_photo").render(t))),_r_()}),_r_()}),B.events.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:506ea466"),!e||!e.modal||!e.modal.$modal)return _r_();e.modal.$modal.find("[data-photo-created]").each(function(){_i_("269:630fdb59");var e=i(this),t=n(e.data("photoCreated"));t&&e.addClass("bh-photo-modal-recent").html(B.jstmpl("template_gallery_new_photo_modal").render(t)),_r_()}),_r_()}),_r_()}(),B.define("component/prc/timebar",function(e,t,i){_i_("269:28e3ba18");var n=e("component");i.exports=n.extend({init:function(){_i_("269:9af0fa65"),this.is={valid:!1,rendered:!1},this.configure(),this.setup(),this.render(),!this.is.rendered&&this.data.inAccordion&&this.$el.closest(".js-toggle-class").one("js:expand",$.proxy(this.render,this)),_r_()},configure:function(){_i_("269:da6081b0"),this.data={fromString:this.$el.data("from"),untilString:this.$el.data("until"),fromLabel:this.$el.data("fromLabel"),untilLabel:this.$el.data("untilLabel"),name:this.$el.data("name"),caption:this.$el.data("caption"),parent:this.$el.data("parent")||".js-timebar-parent",parentClass:this.$el.data("parentClass")||"timebar-wrapper",inAccordion:this.$el.data("inAccordion"),isCompact:this.$el.data("inAccordion")||this.$el.data("compact"),fitWidth:this.$el.data("inAccordion")||this.$el.data("fitWidth"),extraClass:this.$el.data("extraClass"),animateOnView:this.$el.data("animateOnView"),minLabelsDistance:20,rtl:B.env.rtl||B.env.lang_is_rtl},_r_()},setup:function(){_i_("269:fcc8daa0");this.data.from=this.data.fromString?this._parseDateStr(this.data.fromString):0,24===this.data.from&&(this.data.from=0),this.data.until=this.data.untilString?this._parseDateStr(this.data.untilString):24,0===this.data.until&&(this.data.until=24),this.data.pos=this.data.rtl?"right":"left",void 0!==this.data.from&&void 0!==this.data.until&&this.data.until>this.data.from&&(this.is.valid=!0,this.data.barBegin=this.data.from/24*100,this.data.barEnd=this.data.until/24*100,this.data.barWidth=this.data.barEnd-this.data.barBegin,100===this.data.barEnd&&(this.data.barWidth=Math.ceil(this.data.barEnd-this.data.barBegin)),this.data.barCenter=this.data.barBegin+this.data.barWidth/2,this.data.fromLabelPos=this.data.barBegin-0,this.data.untilLabelPos=this.data.barEnd+0),this.$parent=this.$el.closest(this.data.parent),_r_()},render:function(){if(_i_("269:a3be783e"),!this.is.valid||!this.$el.is(":visible"))return _r_();var e,t,i,n,r,a,o,s,_,l,c,h,d,f,u,p,m,b,g=this.data.rtl?"marginRight":"marginLeft";this.$el.html(B.jstmpl("prc_timebar").render(this.data)),this.$parent.addClass(this.data.parentClass),r=this.$el.find(".timebar__caption"),i=(e=this.$el.find(".timebar__core")).width(),n=(t=e.offset()).left+i,r.length&&(s=-(a=r.outerWidth())/2,r.css(g,s),this.data.fitWidth&&((o=r.offset()).left<t.left?(_=t.left-o.left,l=-Math.min(_,a/2-8)):o.left+a>n&&(_=n-(o.left+a),l=Math.min(-_,a/2-8)),_&&r.css(g,this.data.rtl?s-_:s+_),l&&r.find(".timebar__caption-pointer").css("marginLeft",l))),c=this.$el.find(".timebar__label:visible").eq(0),f=this.$el.find(".timebar__label:visible").eq(1),m=this.$el.find(".timebar__bar").width()||1,(c.length||f.length)&&(d=c.width(),p=f.width(),b=Math.max(0,.5*(d+p+this.data.minLabelsDistance)-m),c.css(g,-.5*(d+b)),f.css(g,-.5*(d-b)),this.data.fitWidth&&(c.length&&((h=c.offset()).left<t.left||this.data.rtl&&h.left+d>n)&&c.hide(),f.length&&((u=f.offset()).left+p>n||this.data.rtl&&u.left<t.left)&&f.hide())),this.is.rendered=!0,this.data.animateOnView&&this._animateOnView(),_r_()},_parseDateStr:function(e){var t,i,n,r;return _i_("269:a85c51e4"),void 0!==e&&2===(t=$.trim(String(e)).split(":")).length&&(i=+t[0],n=+t[1],24===i&&0<n&&(i=0),0<=i&&i<=24&&0<=n&&n<=59&&(r=i+n/60)),_r_(r)},_animateOnView:function(){if(_i_("269:4ab43a61"),!B.tools||!B.tools.dom||"function"!=typeof B.tools.dom.watchIfBlockVisibleInViewport)return _r_();var e=this,t=this.$el.find(".timebar__bar").width(0);B.tools.dom.watchIfBlockVisibleInViewport(this.$el,function(){_i_("269:4ceed175"),setTimeout(function(){_i_("269:ec324c4a"),t.animate({width:e.data.barWidth+"%"},{duration:1e3,easing:$.easing&&$.easing.easeOutBack?"easeOutBack":"swing"}),_r_()},500),_r_()}),_r_()}}),_r_()}),booking.jstmpl("prc_timebar",function(){_i_("269:47242dc9");var n=['\n    <span class="timebar '," timebar_compact"," "," timebar_name-",'">\n        <span class="timebar__core">\n            <span class="timebar__base">\n                <span class="timebar__bar" style="',":","%; width:",'%"></span>\n            </span>\n            ','\n                <span class="timebar__label" style="','%">',"</span>\n            ","\n            ",'\n                <span class="timebar__caption" style="','<span class="timebar__caption-pointer"></span></span>\n            ',"\n        </span>\n    </span>\n"],r=["isCompact","name","extraClass","pos","barBegin","barWidth","fromLabelPos","fromLabel","untilLabelPos","untilLabel","barCenter","caption"];return _r_(function(e){_i_("269:997e0368");var t="",i=this.fn;return t+=n[0],i.MD(r[0])&&(t+=n[1]),t+=n[2],i.MD(r[1])&&(t+=[n[3],i.MC(r[1])].join("")),t+=n[2],i.MD(r[2])&&(t+=[n[2],i.MC(r[2])].join("")),t+=[n[4],i.MC(r[3]),n[5],i.MC(r[4]),n[6],i.MC(r[5]),n[7]].join(""),i.MD(r[7])&&(t+=[n[8],i.MC(r[3]),n[5],i.MC(r[6]),n[9],i.MC(r[7]),n[10]].join("")),t+=n[11],i.MD(r[9])&&(t+=[n[8],i.MC(r[3]),n[5],i.MC(r[8]),n[9],i.MC(r[9]),n[10]].join("")),t+=n[11],i.MD(r[11])&&(t+=[n[12],i.MC(r[3]),n[5],i.MC(r[10]),n[9],i.MC(r[11]),n[13]].join("")),t+=n[14],_r_(t)})}()),_i_("269:096ab056"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:4aac1f7c");var a=e("jquery"),o=e("trap-focus");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:2509d037");var i=0<t.find(".b-button_primary").length,n=t.find(".inline-feedback_lightbox");if(n.length){var r=parseInt(n.data("opened_count"));r?r+=1:r=1,n.data("opened_count",r),(2<r||!i)&&n.removeClass("g-hidden"),n.off("feedbackInline_showModal"),n.off("feedbackInline_hideModal"),n.off("feedbackInline_submitModal"),n.on("feedbackInline_showModal",function(){_i_("269:142ae0b3"),a(".feedback-modal-wrapper:visible").length&&o.trap(a(".feedback-modal-wrapper:visible")[0]),_r_()}).on("feedbackInline_hideModal",function(){_i_("269:d85d5fac1"),t.parent().length&&o.trap(t.parent()[0]),_r_()}).on("feedbackInline_submitModal",function(){_i_("269:d85d5fac"),t.parent().length&&o.trap(t.parent()[0]),_r_()})}_r_()}),_r_()}),_r_(),function(){_i_("269:35e2b0c2");var c="#rooms_table",h=".hprt-roomtype-bed",d=".js-lightbox-reserve-button-bed-options";B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:7c24c968");var l=e("jquery");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN_NEW,function(e,t){if(_i_("269:c0869a48"),e&&t&&t.length&&t.find(h).length){var i="bedPreference_"+e,n=t.find(d),r=t.find('input[name="lighbox_'+i+'"]'),a=l(c).find('input[name="'+i+'"]').not(r);r.off("click.bed");var o=a.filter(":checked");if(o){var s=o.val();if(s){var _=r.filter("[value="+s+"]");_.prop("checked",!0),_.data("reserve-url")&&n.attr("href",_.data("reserve-url"))}}r.on("click.bed",function(e){_i_("269:c8387ce6");var t=l(this).val();a.filter("[value="+t+"]").prop("checked",!0),l(this).data("reserve-url")&&n.attr("href",l(this).data("reserve-url")),_r_()})}_r_()}),_r_()}),_r_()}(),B.define("component/room-lightbox-async",function(e,t,i){_i_("269:238f4bcc");var n=e("component"),s=e("et"),_=e("jquery"),a=e("promise"),o=e("fragment"),l=e("events"),r=e("async-loader"),c=e("jstmpl"),h=e("server-data"),d=e("search-config"),f=!1,u=!1,p=".js-room-lightbox-loading-spinner",m=".js-room-lightbox-failure-message",b=n.extend({init:function(){_i_("269:20568e6a"),this.roomId=this.$el.data("room-id"),this.preloaded=this.$el.data("preloaded")&&s.track("ZdfbdKUcbWZAPQORHe"),u||(u=!0,r.load({js:"async_room_lightbox_js"}).then(function(){_i_("269:1fa2b190"),f=!0,_r_()}.bind(this),function(e){}.bind(this))),_r_()},showErrorMessage:function(){_i_("269:13b074f0"),_(p).addClass("g-hidden"),_(m).removeClass("g-hidden"),_r_()},showSpinner:function(){_i_("269:3f864e79"),_(m).addClass("g-hidden"),_(p).removeClass("g-hidden"),_r_()},load:function(){if(_i_("269:c7d57c95"),this.showSpinner(),this.roomId||(this.showErrorMessage(),l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.$el.data("room-id"),$el:this.$el})),!this.preloaded){if(this.roomFragmentLoaded)return l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!0,roomId:this.roomId,$el:this.$el}),_r_(new a(function(e,t){_i_("269:c076f4e7"),e(),_r_()}));var e=0;if(B.env.b_rooms_available_and_soldout){for(var t,i=0;i<B.env.b_rooms_available_and_soldout.length;i++){var n=B.env.b_rooms_available_and_soldout[i];n.b_id==this.roomId&&(t=n)}t&&0==t.b_blocks.length&&(e=1),t&&1==t.b_blocks.length&&!t.b_blocks[0].b_nr_stays&&(e=1)}var r={room_id:this.roomId,hotel_id:h.b_hotel_id,max_persons:void 0,search_config:d.getRawValue(),checkin:h.b_checkin_date,checkout:h.b_checkout_date,other_available_room_ids:h.b_available_room_ids||[],is_soldout:e};return s.track("BOebGRZUTVGUVKNdQZfaGadUSWe")&&(r.guest_country=h.b_guest_country,r.country_code=h.b_countrycode,r.is_bookings_owned=h.b_bookings_owned,r.partner_channel_id=h.b_partner_channel_id),_r_(o.call("room.lightbox",r).then(function(e){_i_("269:17009cfd"),f?(e=Object.assign({},e,{b_guest_country:h.b_guest_country,b_has_valid_dates:h.b_has_valid_dates,b_has_valid_dates_not_in_past:h.b_has_valid_dates_not_in_past}),this._initRoomInfo(e)):(this.showErrorMessage(),l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el})),_r_()}.bind(this),function(e){_i_("269:975e8a74"),this.showErrorMessage(),l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el}),_r_()}.bind(this)))}this._initRoomInfo({preloaded:1}),_r_()},_initRoomInfo:function(e){if(_i_("269:8fae9399"),e){var t=_('[data-reserve-room-id="'+this.roomId+'"]');if(e.hasReserveSection=t.length&&t.children().length,this.roomFragmentLoaded=!0,!e.preloaded&&f){var i=c("room_lightbox_async").render(e);this.$el.data("loaded",!0).html(i).hide().fadeIn(500).loadComponents()}if(f){this.$el.find(".rt-lightbox-reviews-container").show();var n=this.$el.find(".js-clean-rating-score");if(n.length){var r=n.data();n.html(c("room_review_score").render({text:r.text,reviews:r.reviews,score:r.score}))}var a=this.$el.find(".js-comfort-rating-score");if(a.length){var o=a.data();a.html(c("room_review_score").render({text:o.text,reviews:o.reviews,score:o.score}))}}else this.$el.find(".rt-lightbox-reviews-container").hide();s.initAttributesTracking(this.$el),window.BUI.initComponents(this.$el.get(0)),t.length&&this.$el.siblings(".js-async-room-lightbox-reserve").html(t.removeClass("g-hidden")),s.track("OTfdASFAdJYcDHBdJUKeYEGWe")&&_(".room-lightbox-container").on("keypress",".js-hotel-thumb",function(e){_i_("269:e1fe7d4b"),_(e.target).is(".js-hotel-thumb")&&(32!==e.keyCode&&13!==e.keyCode||(_(e.target).trigger("click"),e.preventDefault())),_r_()}),l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!0,roomId:this.roomId,$el:this.$el})}else this.showErrorMessage(),l.trigger(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,{success:!1,roomId:this.roomId,$el:this.$el});_r_()}});i.exports=b,_r_()}),B.define("component/hp/guest-questions",function(e,t,i){_i_("269:aac54f6e");var o=e("et"),c=e("jquery"),n=e("component"),h=e("browser-storage-handler"),d="g-hidden";i.exports=n.extend({init:function(){_i_("269:d172e192");var e=this.$el,t={displayedCount:e.data("visibleQuestions"),totalCount:e.data("totalQuestions")},i=e.find(".js-guest-question"),n=e.find(".js-guest-questions-more"),r=e.find(".js-question-form-section-wrapper");if(n.on("click",function(e){_i_("269:83cb3561"),e.preventDefault(),i.slice(t.displayedCount,t.displayedCount+10).removeClass(d),t.displayedCount+=10,(t.displayedCount>=t.totalCount||10<t.displayedCount)&&(n.addClass(d),r.removeClass(d)),_r_()}),r.length){var s="fake_faq_property_form"+B.env.b_hotel_id;if(h.getSessionValue(s))r.fadeOut(),r.remove();else{var _=this,a=r.find(".js-ask-question-btn"),l=window.BUI.createInstance("Modal",a.get(0),{onAfterOpen:function(){_i_("269:a9cbf634"),c(this.getModalRoot()).find(".js-question-form-section").find("button.js-submit-question").off("click.feedback").on("click.feedback",function(e){_i_("269:983c0383");var t=c(e.currentTarget).closest(".js-question-form-section"),i=t.find(".js-question-textarea-section textarea"),n=i.val(),r=!1;if(B.env.auth_level&&0<parseInt(B.env.auth_level))r=!0;else{var a=t.find(".js-q-and-a-email-collection-field").val();r=!(!(a=t.find(".js-q-and-a-email-collection-field").val())||!/\S+@\S+\.\S+/.test(a))}var o=n&&10<n.length&&1<n.split(" ").length;o&&r?(t.find(".js-question-header-section").hide(),t.find(".js-question-form-content").hide(),_.submitQuestion(n,B.env.b_hotel_id,"property",a),h.addSessionValue(s,1),l.close()):(o?t.find(".js-question-textarea-section").removeClass("bui-has-error"):(i.one("animationend",function(){_i_("269:a23b6e1f"),i.removeClass("apply-shake"),_r_()}),i.addClass("apply-shake").focus(),t.find(".js-question-textarea-section").addClass("bui-has-error")),r?(t.find(".js-q-and-a-email-malformed").hide(),t.find(".js-q-and-a-email-section").removeClass("bui-has-error")):(t.find(".js-q-and-a-email-malformed").show(),t.find(".js-q-and-a-email-section").addClass("bui-has-error"))),_r_()}),o.initAttributesTracking(c(this.getModalRoot())),c(this.getModalRoot()).loadComponents(),_r_()}});l.mount()}}_r_()},submitQuestion:function(e,t,i,n){if(_i_("269:9ba1724e"),e&&t){var r={question:e,hotel_id:t,room_id:null,metadata:{frontend_location_source:i},email_address:n};r.metadata=JSON.stringify(r.metadata);var a=this;c.ajax({url:"/roomcontent/q_and_a_submit_question",type:"post",data:r,xhrFields:{withCredentials:!0},success:function(e){_i_("269:3c301d36");var t=a.$el.find(".js-question-form-section-wrapper");t.find(".js-ask-question-btn").fadeOut(),t.find(".js-question-thankyou-section").hide().removeClass(d).fadeIn(),_r_()},error:function(e){}})}_r_()}}),_r_()}),_i_("269:730e3e39"),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:832cd846");var r=e("jquery"),t=e("events");B.events.on(B.hotel.Events.RT.LIGHTBOX_LOADED_ASYNC,function(e){_i_("269:c833cc3a"),_i_("269:3f9eb4e2"),r(".feedback_room-missing-facilities").length&&t.off("feedbackInline:showModal:rc_www_hp_rt_lb_missing_info_new").on("feedbackInline:showModal:rc_www_hp_rt_lb_missing_info_new",function(e){if(_i_("269:fee93dd9"),e&&e.$modal&&e.$modal.length){var t=e.$modal;t.on("feedback_beforeSubmit",function(){_i_("269:23aa0a82");var e=r(this),t=e.find('[data-model="missing_comment"]'),i=e.find(".js-feedback-text").val();if(1==t.length){var n=[];e.find('input[data-model="missing-category"]:checked').each(function(){_i_("269:20311f83"),n.push(this.value),_r_()}),n.length?t.val("["+n.join(",")+"] "+i):t.val(i)}_r_()});var i=t.find('input[data-model="missing-category"]'),n=t.find(".feedback-loop-extra__question");i.off("change.feedback").on("change.feedback",function(){_i_("269:b8169bd1"),i.filter(":checked").length?(n.show(),n.removeClass("g-hidden")):(n.hide(),n.addClass("g-hidden")),r(window).trigger("resize"),_r_()})}_r_()}),_r_(),_r_()}),_r_()}),_r_(),_i_("269:ee7bb543"),B.when({action:"hotel",events:"ready",condition:B.env.fe_hotel_has_360_photos&&B.env.fe_hotel_splash_360_url}).run(function(e){_i_("269:005fb61d");var i,t,n,r=e("jquery"),a=e("lazy-loader-image"),o="#vrViewPlayer",s="0",_="0",l="1";function c(){_i_("269:e0d999ee"),r("html").animate({scrollTop:r(o).offset().top-60},500),_r_()}function h(e){_i_("269:3220b4b2"),n=e;var t=r(o);window.VRView&&e&&1==t.length&&(i?i.setContent?i.setContent({image:e}):(t.html(""),i=new window.VRView.Player(o,{image:e,width:"100%",height:"463px"})):i=new window.VRView.Player(o,{image:e,width:"100%",height:"463px"})),_r_()}var d=r("#VRViewTab"),f=window.BUI.createInstance("Tab",d.get(0),{onAfterTabChange:function(e){if(_i_("269:2790c7d9"),e&&s!=e.id)if((s=e.id)==l)h(n||B.env.fe_hotel_splash_360_url),window.BUI&&r(".hotel_360_gallery__carousel").length&&window.BUI.getInstance(r(".hotel_360_gallery__carousel").get(0)).onMount();else if(s==_){i&&(r(o).html(""),i=null);try{if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),window.dispatchEvent(t),document.dispatchEvent(t)}}catch(e){}}_r_()}});a.initializeLazyLoaderImage("js-lazy-load-image"),f.mount(),r("js-hp-gallery-360-slide").show();var u=r(".bh-photo-modal");r(document).on("click",".js-view-360-carousel-thumb",function(e){_i_("269:b2a08ad3"),e.preventDefault(),h(r(this).data("originalPhoto")),r(this).addClass("selected_thumb"),t&&r(t).removeClass("selected_thumb"),r(t=this).addClass("selected_thumb"),_r_()}),r(u).on("click",".js-view-360-panorama-cta",function(e){_i_("269:523a9f30"),e.preventDefault(),u.trigger("closeModal"),f.changeTab(l),c(),_r_()}),r(".js-view-360-panorama-cta").on("click",function(e){_i_("269:523a9f301"),e.preventDefault(),u.trigger("closeModal"),f.changeTab(l),c(),_r_()}),_r_()}),_r_(),B.define("component/roomcontent/guest-questions",function(e,t,i){_i_("269:bd8e06dc");var c=e("jquery"),l=e("et"),n=e("component"),h=e("browser-storage-handler"),d="g-hidden";i.exports=n.extend({init:function(){_i_("269:dbd630ed");var e=this.$el,t={displayedCount:e.data("visibleQuestions"),totalCount:e.data("totalQuestions")},i=e.find(".js-guest-question"),n=e.find(".js-guest-questions-more"),r=e.find(".js-guest-question-form-wrapper");n.on("click",function(e){_i_("269:63eedfdc"),e.preventDefault(),i.slice(t.displayedCount,t.displayedCount+10).removeClass(d),t.displayedCount+=10,(t.displayedCount>=t.totalCount||10<t.displayedCount)&&(n.addClass(d),r.removeClass(d)),_r_()});var a="fake_faq_property_form"+B.env.b_hotel_id;if(e.data("roomId")&&(a+="_"+e.data("roomId")),h.getSessionValue(a))r.find(".js-ask-question-btn").hide(),r.find(".js-guest-question-thankyou-section").hide().removeClass(d).fadeIn();else if(r.find(".js-ask-question-btn").show(),r.length){var o=this,s=r.find(".js-ask-question-btn"),_=window.BUI.createInstance("Modal",s.get(0),{onAfterOpen:function(){_i_("269:e6cc3400");var e=c(this.getModalRoot()).find(".question-form-modal");o.initQuestionsForm(e,_,a),l.initAttributesTracking(c(this.getModalRoot())),c(this.getModalRoot()).loadComponents(),_r_()}});_.mount()}_r_()},initQuestionsForm:function(e,s,_){_i_("269:49627fb2");var l=this;e.find("button.js-submit-question").off("click.feedback").on("click.feedback",function(e){_i_("269:92951e9a");var t=c(e.currentTarget).closest(".js-guest-question-modal"),i=t.find(".js-guest-question-textarea-section textarea"),n=i.val(),r=!1;if(B.env.auth_level&&0<parseInt(B.env.auth_level))r=!0;else{var a=t.find(".js-q-and-a-email-collection-field").val();r=!(!(a=t.find(".js-q-and-a-email-collection-field").val())||!/\S+@\S+\.\S+/.test(a))}var o=n&&10<n.length&&1<n.split(" ").length;o&&r?(t.find(".js-guest-question-header-section").hide(),t.find(".js-guest-question-form-content").hide(),t.find(".js-guest-question-thankyou-section").hide().removeClass(d).fadeIn(),l.submitQuestion(n,B.env.b_hotel_id,l.$el.data("roomId")||null,l.$el.data("source"),a),h.addSessionValue(_,1),s&&s.close()):(o?t.find(".js-guest-question-textarea-section").removeClass("bui-has-error"):(i.one("animationend",function(){_i_("269:c3531d42"),i.removeClass("apply-shake"),_r_()}),i.addClass("apply-shake").focus(),t.find(".js-guest-question-textarea-section").addClass("bui-has-error")),r?(t.find(".js-q-and-a-email-malformed").hide(),t.find(".js-q-and-a-email-section").removeClass("bui-has-error")):(t.find(".js-q-and-a-email-malformed").show(),t.find(".js-q-and-a-email-section").addClass("bui-has-error"))),_r_()}),_r_()},submitQuestion:function(e,t,i,n,r){if(_i_("269:06ef2662"),e&&t){var a={question:e,hotel_id:t,room_id:i,metadata:{frontend_location_source:n},email_address:r};a.metadata=JSON.stringify(a.metadata);var o=this;c.ajax({url:"/roomcontent/q_and_a_submit_question",type:"post",data:a,xhrFields:{withCredentials:!0},success:function(e){_i_("269:05cff6a9");var t=o.$el.find(".js-guest-question-form-wrapper");t.find(".js-ask-question-btn").fadeOut(),t.find(".js-guest-question-thankyou-section").hide().removeClass(d).fadeIn(),_r_()},error:function(e){}})}_r_()}}),_r_()}),B.when({events:"ready",action:"hotel",condition:B.env.b_show_mybooking_promo&&"www"===B.env.b_site_type}).run(function(e){_i_("269:4b064b15");var t=e("jquery"),i=t(document),n=t(".js-pb_hp_upcoming_booking_banner-base"),r=n.find(".js-pb_hp_upcoming_booking_banner"),a=t("#individualrooms"),o="mod-sticky-banner",s="mod-hidden",_=e("et"),l=0,c=0,h=0,d=n.outerHeight(),f=null;if(!n.length)return _r_();var u=t.fly.dropdown.create(".js-pb_hp_upcoming_booking_banner--dropdown",{position:"bottom center",extraClass:"fly-dropdown--onload-shower",content:function(){return _i_("269:c7cc15b9"),_r_(t(".js-pb_hp_upcoming_booking_banner--dropdown-content"))}});function p(){if(_i_("269:1eb66644"),l=i.scrollTop(),c<l?(n[0].style.height=d+"px",m(!0),u.hide()):m(!(n[0].style.height="auto")),!h)return _r_();b(h<l),_r_()}function m(e){_i_("269:e69b0dcd"),r.toggleClass(o,e),_r_()}function b(e){_i_("269:134f567e"),r.toggleClass(s,e),_r_()}_.track("IZENYPERAMDBcPOeFYeMOKe")||i.on("scroll",function(){if(_i_("269:6519087b"),f)return _r_(!0);f=setTimeout(function(){_i_("269:0def7441"),clearTimeout(f),f=null,p(),_r_()},100),_r_()}),_.track("IZENYPERAMDBcPOeFYeMOKe")||(_i_("269:f4ac9aa8"),c=n.offset().top,a.length&&(h=a.offset().top-50),_r_(),p()),_r_()}),B.when({events:"ready",condition:"hotel"===B.env.b_action}).run(function(e){_i_("269:46403713");var t,i=$("#bp_hp_back_count");if(0===i.length)return _r_();t=Math.floor(i.val()),t+=1,i.val(t),1<t&&$("#roomsForm").prepend('<input type="hidden" name="bp_hp_back" value="1" />'),_r_()}),function(){"use strict";_i_("269:9d4bf9f5"),B.when({events:"ready",condition:B.env.b_has_abandoned_cart_data&&"www"===B.env.b_site_type}).run(function(){function t(e){return _i_("269:8fb98477"),_r_($(e).parents(".abandoned-cart-growl-notification a"))}_i_("269:19ec40db"),$(document).on("mouseenter",".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp",function(e){_i_("269:7990468b"),t(e.target).addClass("bp_sca_growl_hp_link_active"),_r_()}),$(document).on("mouseleave",".abandoned-cart-growl-item-hotel-info__hotel_name.link-to-hp",function(e){_i_("269:897f823f"),t(e.target).removeClass("bp_sca_growl_hp_link_active"),_r_()}),$(document).on("click","a.abandoned-cart-growl-notification, .abandoned-cart-growl-notification a",function(e){_i_("269:4174a427"),$(e.target).is(".abandoned-cart-growl-item-hotel-info__hotel_name")&&(e.preventDefault(),e.stopPropagation(),window.open($(e.target).attr("data-hotel-page-url"),"_blank").focus()),_r_()}),_r_()}),_r_()}(),_i_("269:8ca0dd02"),B.when({condition:1,events:"ready"}).run(function(e){_i_("269:c88f9325");var t=e("jquery");booking.events.on("growl:growlClosedManually",function(e){_i_("269:67779a9f"),e&&e.type.indexOf("abandoned-cart-growl-notification")&&e.growlElem.attr("data-cart-id")&&t.ajax({method:"POST",url:"/hide_sca_data",data:{cart_id:e.growlElem.attr("data-cart-id"),source:"growl"},success:function(e){}}),_r_()}),_r_()}),_r_(),function(){function e(c){function h(){return _i_("269:b452dfed"),_r_((new Date).getTime())}function d(){return _i_("269:039acd8a"),_r_(1e9*Math.random()|0)}_i_("269:b0cca8b5");var f=h()+":"+d();function u(i){return _i_("269:ed2c3567"),_r_(function(){_i_("269:9ec1f2e6");var e=c[i];if(!e)return _r_(null);var t=e.split(/\|/);if(parseInt(t[1])<h())return _r_(null);return _r_(t[0])})}function p(e,t,i){_i_("269:05abda44");var n=e+"__MUTEX_x",r=e+"__MUTEX_y",a=u(r);function o(){_i_("269:5d9fb582");try{t()}finally{c.removeItem(r)}_r_()}if(c[n]=f,a())return i||setTimeout(function(){_i_("269:1009e21a"),p(e,t),_r_()},0),_r_(!1);return c[r]=f+"|"+(h()+40),c[n]!==f?(i||setTimeout(function(){_i_("269:7631060a"),a()!==f?setTimeout(function(){_i_("269:cc51bc54"),p(e,t),_r_()},0):o(),_r_()},50),_r_(!1)):(o(),_r_(!0))}function m(e,t,i,n){_i_("269:360991b5"),i=i||5e3;var r=e+"__MUTEX",a=u(r),o=f+":"+d()+"|"+(h()+i);function s(){_i_("269:921801bb"),setTimeout(function(){_i_("269:5727f9c1"),m(e,t,i),_r_()},10),_r_()}if(a())return n||s(),_r_(!1);var _=p(e,function(){if(_i_("269:5f32f5c2"),a())return n||s(),_r_(!1);c[r]=o,n||setTimeout(l,0),_r_()},n);if(n&&_)return l(),_r_(!0);return _r_(!1);function l(){_i_("269:dbc4686c");try{t()}finally{p(e,function(){if(c[r]!==o)throw e+" was locked by a different process while I held the lock";c.removeItem(r)})}_r_()}}return _r_({lock:function(e,t,i){_i_("269:5058c836"),m(e,t,i,!1),_r_()},trySyncLock:function(e,t,i){return _i_("269:7481d7fd"),_r_(m(e,t,i,!0))}})}_i_("269:277f2115"),window.isLSTrackerIframe?window.getLockableStorage=e:B.define("getLockableStorage",function(){return _i_("269:f930a8cf"),_r_(e)}),_r_()}(),B.when({hover:"300ms .js-pod_smp_nr",action:"hotel",experiment:"TULQSaTfLcWeAFBMbETDVaO",stage:1}).run(),B.when({action:"hotel",events:"ready"}).run(function(e){function t(e,t){_i_("269:0cabc5a3");e=parseInt(e),t=parseInt(t);return _r_(t<e?1:e<t?-1:0)}_i_("269:cc8c0941");var i,n=e("jquery"),r=e("et"),a="BUEGBHVUSeUXBHeFEXO",o=n("#property_description_content"),s=o.get(0),_=o.length&&o.text().trim().split(/\s+/).length,l={0:2,3:3,10:4,25:5,50:6},c={0:7,65:8,95:9},h=0,d=Object.keys(l).sort(t),f=Object.keys(c).sort(t);if(s){r.on("view",s).stage(a,1);for(var u=f.length-1;0<=u;u--)if(_>=f[u]){r.on("view",s).stage(a,c[f[u]]);break}i=setInterval(function(){if(_i_("269:2ad7ca69"),!d.length)return _r_(clearInterval(i));(function(e){var t,i,n;if(_i_("269:d99764d1"),!e)return _r_(!1);if(!e.parentElement)return _r_(!1);if(!e.getBoundingClientRect)return _r_(!0);if(t=e.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,t.right<0||t.left>n||0===t.top&&0===t.left&&0===t.right&&0===t.bottom)return _r_(!1);return _r_(t.top<i)})(s)&&++h>=d[0]&&r.stage(a,l[d.shift()]),_r_()},1e3)}_r_()}),B.define("component/destination-os/poi-directions",function(e,t,i){"use strict";if(_i_("269:0adfa29a"),!B.atlas)return _r_();var n="BUEGTUSGbEaJPGAAQeceaT",r=e("jquery"),a=B.atlas.assert,o=B.atlas.require("atlas"),s=B.atlas.require("util-env"),_=e("et"),l="hp_region_attractions_item",c="attraction_distance_duration",h="initialized",d="active",f=function(e){return _i_("269:438bddfa"),_r_(r(e).parent("."+l).data("item-index"))};function u(e){return _i_("269:ed7bc983"),_r_(r("."+l+'[data-item-index="'+f(e)+'"]'))}function p(e,t){_i_("269:171e42bb");var i=f(e.$el),n=e.data.region_attractions.items[i];!function(e,i,t,n){_i_("269:59e2ba4a");var r=u(e.$el);i.getDirectionsRoute({origin:[B.env.b_map_center_latitude,B.env.b_map_center_longitude],destination:[t,n],travelMode:"TRANSIT"},function(e,t){_i_("269:c5661fd9"),"OK"===t?(i.setDirections(e),function(e,t){_i_("269:30a7f0e4");var i=e.directionsRenderer().getDirections().routes[0].legs[0];t.find("."+c).text(", "+i.duration.text),_r_()}(i,r)):booking.reportError(t,"Directions request failed");_r_()}),_r_()}(e,t,parseFloat(n.latitude),parseFloat(n.longitude)),_r_()}function m(e){_i_("269:6b587366");var t=u(e.$el),i=t.find(".hp_region_attractions_item_map");(t.hasClass(d)?_.customGoal(n,2):_.customGoal(n,1),t.hasClass(d)||i.hasClass(h))||(function(e){_i_("269:9e16a398");var t={scrollwheel:!a.tdot,panControl:!1,zoom:12,center:[B.env.b_map_center_latitude,B.env.b_map_center_longitude],mapTypeControl:!1,zoomPosition:B.env.rtl?"LEFT_BOTTOM":"RIGHT_BOTTOM"};e&&(t=r.extend(t,e)),s.get("isCustomZoom")&&(t.zoomControl=!1);var i=new o({modules:["bounds","center-on-resize","directions"],options:t});return _r_(i)}({domNode:i}).done(p.bind(null,e)),i.addClass(h));t.toggleClass(d),_r_()}return _r_(e("component").extend({init:function(){_i_("269:819eabde"),B.events.on(B.hotel.Events.Other.REGION_ATTRACTIONS_MAP_CTA_CLICKED,m),_r_()}}))}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius&&$("#free_breakfast_for_genius")&&!B.env.is_rooms_table_splitter,action:"hotel",events:"ready"}).run(function(e){_i_("269:6e09621d"),e("jquery")(".rt__ge-free-breakfast-tell-me-more").mouseover(function(e){_i_("269:6df5cf02"),e.stopPropagation(),_r_()}),_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:1e70f08d");var t=e("jquery");t(".js-fly-content-tooltip[data-ge-fly-tooltip]").on("click",function(){_i_("269:8f07eca1");var e=t(".roomArea");e.length&&t("html, body").animate({scrollTop:e.offset().top-30},800),_r_()}),_r_()}),B.when({action:"hotel",condition:B.env.b_reg_user_qualify_genius_challenge&&$(".book-challenge-roadtrip").length}).run(function(e){_i_("269:4365f62f");var t=$(".js-challenge-hotel-tip-block");B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,function(){_i_("269:104bf452"),t.show(),_r_()}),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,function(){_i_("269:fb297cb8"),t.hide(),_r_()}),_r_()}),B.when({condition:"www"===B.env.b_site_type&&B.env.b_reg_user_is_genius,action:"hotel",events:"ready"}).run(function(e){_i_("269:d3f46688");var t=e("jquery"),i=t(".js-rt__summary__reserve-button"),n=i.find("span.b-button__text").first(),r=i.data("ge-discount-cta"),a=n.text(),o={},s={};function _(e){return _i_("269:46288f4f"),_r_(Object.keys(e).length)}B.events.on(B.hotel.Events.RT.ROOM_SELECTED,t.proxy(function(e){if(_i_("269:c5532fa3"),function(e){_i_("269:af6ab9dc");var t=e.has_genius_rate?o:s;0!=+e.no_rooms?t[e.block_id]=e:t[e.block_id]&&delete t[e.block_id],_r_()}(e),!r||!a)return _r_();var t=_(o),i=_(s);0<t&&!i?n.text(r):n.text(a),_r_()},this),this),_r_()}),B.when({condition:"www"===B.env.b_site_type}).require(["require"],function(e){_i_("269:5f7578c7");var t=e("booking-sticker"),i=e("jquery"),n=i(".hp_desc_main_content"),r=!!i(".room-facilities-highlights").length,a=i(".hp-description__show_more"),o=i(".property_hightlights_wrapper"),s=!!a.length,_=i(".property_highlights_genius_lightweight");if(B.env.b_is_vacation_rental&&(_=i(".property_hightlights_wrapper")),!o.length)return s&&n.removeClass("hp_desc_main_content_collapsed"),_r_();var l=o.height();if(100<n.height()-l){if(s){var c,h=(parseInt(o.css("margin-top"))||0)+3,d=l<150?150:l+h;B.env.b_is_vacation_rental&&(d+=60),_.length&&!r&&(d-=10),i("body").hasClass("hprstrc")&&(d-=16),window.location.hash&&0===window.location.hash.indexOf("#RD")&&(c=i('a[name="'+window.location.hash.replace("#","")+'"]')),n.css({overflow:"hidden",position:"relative"}),n.height(d),n.removeClass("hp_desc_main_content_collapsed"),a.addClass("hp-description__show_more--visible"),c&&c.length&&i.scrollTo(c.offset().top),a.on("click",function(){_i_("269:5b039260"),n.height("auto"),a.remove(),t.update(),_r_()})}}else s&&n.removeClass("hp_desc_main_content_collapsed");_r_()}),function(){function s(e,t,i,n){_i_("269:428e0c74"),$.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:e||"",hotel_id:t||"",attribute_name:i||null,attribute_value:n||null},success:function(e){},error:function(e){}}),_r_()}_i_("269:814b6612"),B.when({action:"hotel",condition:"www"==B.env.b_site_type}).run(function(e){_i_("269:785c905f");var n=e("jquery"),r=B.require("ga-tracker"),a=r.ugcdTracker||"UGC Review Page",t="#reviews_inline_placeholder, #blockdisplay4",i=B.require("events"),o=!1;n(t).on("change","#reviewer_type_filter",function(){_i_("269:7c4095e4"),r.trackEvent(a,"Filter Group",this.value),s("review_list_filter_group_type",B.env.b_hotel_id,"Filter Group",this.value),_r_()}),n(t).on("change","#review_score_filter",function(){_i_("269:8c7327cf");var e=this.value||"all";r.trackEvent(a,"Filter Range",e),s("review_list_filter_range",B.env.b_hotel_id,"Range",e),_r_()}),n(t).on("change",".language_filter_checkbox",function(){_i_("269:67f95409"),this.checked&&(r.trackEvent(a,"Filter Language",this.value),s("review_list_language_filter",B.env.b_hotel_id,"Language",this.value)),_r_()}),n(t).on("click",".js-review-list-topic-filter__item-link",function(){_i_("269:03d32782");var e=n(this).data("categoryName")||n(this).data("category-id");r.trackEvent(a,"Filter Topic",e),s("review_list_topic_filter",B.env.b_hotel_id,"Topic name",e),_r_()}),n(t).on("change","#review_sort",function(){_i_("269:ae4d2d72");var e=this.value||"recommended";r.trackEvent(a,"Sorting Selected","Sorting: "+e),s("review_list_sort",B.env.b_hotel_id,"Sort method",e),_r_()}),n(t).on("click",".c-review-block__photos__button",function(){_i_("269:30db8bd9"),r.trackEvent(a,"Review Item","Click: Traveller photos"),s("review_list_interaction",B.env.b_hotel_id,"Interacted element","photo"),_r_()}),n(t).on("click",".review-helpful__form-submit",function(){_i_("269:52f3800b"),r.trackEvent(a,"Review Item","Click: helpful"),_r_()}),n(t).on("click",".review-policy__open",function(){_i_("269:7c10e6a5"),r.trackEvent(a,"Verified Reviews Banner","Click: read more"),_r_()}),n(t).on("click",".review-tab-other-properties ul li",function(){_i_("269:21b17f98"),r.trackEvent(a,"Compset","Click: property"),_r_()}),i.on("reviews-tab-opened",function(){_i_("269:8fecc85f"),r.trackEvent(a,"Reached",null),s("review_list_viewed",B.env.b_hotel_id,null,null),_r_()}),n(t).on("click",".bui-pagination__link, .pageprev, .pagenext",function(){_i_("269:8c87125e"),o=!0,_r_()}),i.on("REVIEWS:fetched",function(){if(_i_("269:d376c562"),!o)return _r_();var e,t=n("#review_next_page_link").attr("href"),i=n("#review_previous_page_link").attr("href");t?e=(e=t.match(/offset=([0-9]+)/))[1]/10:i?(e=i.match(/offset=([0-9]+)/),e=Math.floor(e[1]/10)+2):e="",r.trackEvent(a,"Paging","Page: "+e),o=!1,_r_()}),_r_()}),_r_()}(),$(function(){if(_i_("269:d3443a6c"),!B.env.run_vpm_d_hp_show_related_review_gallery)return _r_();var e=$("#photo_wrapper"),t=e.find(".reviews-carousel-control-right"),i=e.find(".reviews-carousel-control-left"),n=e.find(".hp-gallery-control-next"),r=e.find(".hp-gallery-control-prev");t.on("click",function(){_i_("269:17024668"),n.triggerHandler("click"),_r_()}),i.on("click",function(){_i_("269:b95d2dfc"),r.triggerHandler("click"),_r_()}),_r_()}),B.define("component/fly-jstmpl-tooltip",function(e,t,i){"use strict";_i_("269:6399e227");var s=e("jquery"),n=e("component"),r=e("utils"),a=e("jstmpl");i.exports=n.extend({init:function(){_i_("269:6d2c64e7"),this.data=r.nodeData(this.$el),this.env=this._prepareEnv(this.data.env),r.assertExists(this.data,"template");var e=this.data.target?s(this.data.target):this.$el;this.data.showOnHover?this.popup=this.getTooltip(e,this.data.template).create(e):this.popup=this.getPopup(e,this.data.template).create(e),_r_()},destroy:function(){_i_("269:e0c0cc21"),this.popup._destroy(),_r_()},getPosition:function(){return _i_("269:04893b33"),_r_(this.data.position||(booking.env.rtl?"bottom left":"bottom right"))},getData:function(){return _i_("269:867e130f"),_r_(this.data)},_prepareEnv:function(){_i_("269:071e09c0");for(var e={},t=(this.data.env||"").split(","),i=0;i<t.length;++i)e[t[i]]=B.env[t[i]];return _r_(e)},_render:function(e,t,i){_i_("269:6a72c78f"),e.html(a(t).render(Object.assign({},this.env,i))).loadComponents(),_r_()},getTooltip:function(e,t){_i_("269:5983fd52");var i=this.getData();return _r_(this.getPopupBase(e,s.fly.tooltip,t,i).extend({defaults:{extraClass:this.data.extraClass,position:this.getPosition(),content:"",showDelay:200,baseClass:"fly-dropdown",hideClass:"fly-dropdown_hidden",keepOnContent:!0}}))},getPopup:function(a,e){_i_("269:4fb9d63f");var o=this,t=this.getData();return _r_(this.getPopupBase(a,s.fly.dropdown,e,t).extend({defaults:{extraClass:this.data.extraClass,position:this.getPosition(),content:""},_autohide:function(e){_i_("269:69bd40d8");var t=this,i="mousedown"+t.ens;if(!e)return _r_();function n(){_i_("269:1f804622"),s(document).bind(i,function(e){if(_i_("269:72dc3e8d"),a.get(0)===e.target||s.contains(a.get(0),e.target)||s.contains(t.root().get(0),e.target))return _r_();t.hide(),_r_()}),_r_()}function r(){_i_("269:2b60ee9a"),t.root().delegate(".js-close",i,function(){_i_("269:9d1f1248"),t.hide(),_r_()}),_r_()}this.bind(this.events.show,function(){_i_("269:4dfdca20"),setTimeout(r,0),_r_()}),o.data.preventAutoHide||this.bind(this.events.show,function(){_i_("269:b04d94d0"),setTimeout(n,0),_r_()}).bind(this.events.hide,function(){_i_("269:9f2657a9"),s(document).unbind(i),_r_()}),_r_()}}))},getPopupBase:function(e,t,i,n){_i_("269:8b443286");var r=this.data.activeClass,a=this._render.bind(this);return _r_(t.extend({_render:function(){_i_("269:997575fc"),a(this.root(),i,n),this._rendered=!0,_r_()},_position:function(){_i_("269:42843886");var e=this.options.position.split(" "),t=s.fly._mixin.position.apply(this),i=this._rect(this.root()),n=this._rect(this.handle());switch(e[2]){case"handle-left":t.left=n.left;break;case"handle-right":t.left=n.left+n.width-i.width}return _r_(t)},init:function(){_i_("269:d350cb84"),r&&this.bind(this.events.show,e.addClass.bind(e,r)).bind(this.events.hide,e.removeClass.bind(e,r)),_r_()}}))}}),_r_()}),B.define("component/social/social-share",function(e,t,i){"use strict";_i_("269:7beb090b");var n=e("component"),r="https://www.facebook.com/sharer/sharer.php?u=",a="https://twitter.com/intent/tweet?url=",o="-facebook",s="-email",_="-twitter",l="-link",c=/(&|;|\?)(aid=)(\d+)/;i.exports=n.extend({init:function(){_i_("269:98ef8213"),this.setElements(),this.setOptions(),this.updateLinks(),this.attachEvents(),_r_()},setElements:function(){_i_("269:6bcbf8a0"),this.$fbBtn=this.$el.find(".component-social_share-button-facebook"),this.$copyBtn=this.$el.find(".component-social_share-button-link"),this.$emailBtn=this.$el.find(".component-social_share-button-email"),this.$twitterBtn=this.$el.find(".component-social_share-button-twitter"),this.$copyNotification=this.$copyBtn.find(".component-social_share-button-copy_notification"),_r_()},setOptions:function(){_i_("269:d0cf5c11"),this.baseURL=this.$el.data("shareUrl"),this.$el.data("additionalUrlParams")&&(this.additionalUrlParams=this.$el.data("additionalUrlParams")),this.urlHashTag=this.$el.data("urlHashTag")?this.$el.data("urlHashTag"):"",this.shortenUrl=!!this.$el.data("shortenUrl"),this.stripParams=!!this.$el.data("stripUrlParams"),this.aidKeep=!!this.$el.data("keepAid"),this.aidOverride=this.$el.data("aidOverride"),this.aidCurrent=!!window.location.href.match(c)&&window.location.href.match(c)[3],this.socialLabelBase=this.$el.data("socialTrackingLabel")?"&label="+this.$el.data("socialTrackingLabel"):"",_r_()},attachEvents:function(){_i_("269:8a527902");var t=this;this.$fbBtn.on("click",function(e){_i_("269:8eb42741"),e.preventDefault(),t.showPopupWindow($(this).attr("href"),"",630,320),_r_()}),this.$twitterBtn.on("click",function(e){_i_("269:6cdd84d2"),e.preventDefault(),t.showPopupWindow($(this).attr("href"),"",630,420),_r_()}),this.$copyBtn.on("click",this.copyLink.bind(this)),_r_()},updateLinks:function(){_i_("269:c95d707d"),this.preformatBaseLink(),this.$fbBtn&&this.$fbBtn.attr("href",r+encodeURIComponent(this.baseURL+this.generateSocialLabel(o)+this.urlHashTag)),this.$twitterBtn&&this.$twitterBtn.attr("href",a+encodeURIComponent(this.baseURL+this.generateSocialLabel(_)+this.urlHashTag)),this.$emailBtn&&this.$emailBtn.attr("href","mailto:?subject="+this.$emailBtn.data("emailSubject")+"&body="+encodeURIComponent(this.baseURL+this.generateSocialLabel(s)+this.urlHashTag)),this.$copyBtn&&this.$copyBtn.attr("href",this.baseURL+this.generateSocialLabel(l)+this.urlHashTag),_r_()},copyLink:function(e){if(_i_("269:119e461d"),e.preventDefault(),document.execCommand){this.$copyBtn.find("input").val(this.$copyBtn.attr("href")).removeClass("g-hidden").select();var t=document.execCommand("copy");this.$copyBtn.find("input").addClass("g-hidden"),t&&this.$copyNotification&&this.$copyNotification.fadeIn(150).delay(1e3).fadeOut(150)}else window.prompt(this.$copyBtn.data("promptText"),this.$copyBtn.attr("href"));_r_()},generateSocialLabel:function(e){return _i_("269:10e01d4a"),_r_(this.socialLabelBase?this.socialLabelBase+e:"")},preformatBaseLink:function(){_i_("269:afd53c87"),this.stripParams&&this.removeParameters(),this.additionalUrlParams&&this.addParamstoUrl(this.additionalUrlParams),this.updateAid(),_r_()},updateAid:function(){var e;if(_i_("269:5ecbaf33"),e=this.aidOverride?this.aidOverride:this.aidCurrent,this.aidKeep)if(e&&c.test(this.baseURL)){var t=this.baseURL.match(c);e=t[1]+t[2]+e,this.baseURL=this.baseURL.replace(c,e)}else e&&this.addParamstoUrl("&aid="+e);_r_()},minifyUrl:function(e){},removeParameters:function(){_i_("269:61220b16"),this.baseURL=this.baseURL.split("?")[0]+"?",_r_()},addParamstoUrl:function(e){_i_("269:082c931d"),this.baseURL+=e,_r_()},showPopupWindow:function(e,t,i,n){_i_("269:9957ea84");var r=window.screen.width/2-i/2,a=window.screen.height/2-n/2;return _r_(window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+n+", top="+a+", left="+r))}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:38fea4c2");var t,i=$(".review-tab-other-properties"),n=i.find(".slider-track").find("ul"),r=n.find("li"),a=B.env.rtl?i.find(".next-property"):i.find(".prev-property"),o=B.env.rtl?i.find(".prev-property"):i.find(".next-property"),s=r.outerWidth(),_=parseInt(r.css("margin-left"),10)+parseInt(r.css("margin-right"),10),l=0;function c(){_i_("269:4757d0b5"),l=0<l?l-1:0,d(),_r_()}function h(){_i_("269:2ab34a05"),l=l<r.length?l+1:r.length,d(),_r_()}function d(){_i_("269:0348b112");var e=B.env.rtl?"right":"left";n.css(e,(s+_)*-l+(l?26:0)+(l==r.length-2?26:0)),l==r.length-2?o.hide():o.show(),0==l?a.hide():a.show(),_r_()}function f(){_i_("269:308c4c3f"),r.length&&!t&&(t=!0,n.width(r.length*(s+_)),a.on("click",c),o.on("click",h)),l=0,d(),_r_()}B.events.on("reviews-tab-opened",f),B.hotel.hashedTabs.getVisibleTab().filter('[data-tab="reviews"]').length&&f(),B.events.on("hotel:reviewlist:request:tab",function(){_i_("269:c8680b1c"),i.hide(),_r_()}),B.events.on("hotel:reviewlist:success:tab",function(){_i_("269:5c03dfbd"),$(".review-tab-other-properties-tracker").clone().prependTo($("#blockdisplay4 .review_list > li").last()).show(),i.show(),_r_()}),_r_()}),B.define("component/onview-animate",function(e,t,i){_i_("269:a9c045a21");var _,n=e("component");_=B.tools&&B.tools.dom&&"function"==typeof B.tools.dom.watchIfBlockVisibleInViewport?B.tools.dom.watchIfBlockVisibleInViewport:e("core/utils/onview").run;var r=n.extend({init:function(){_i_("269:f2ef57861");var i=this.$el,n=i.attr("data-anim-type")||"",r=i.attr("data-onview-cls")||"",a=i.attr("data-onview-cls-remove")||"",o=i.attr("data-rollup-time")||1500;function s(e){_i_("269:078808c11");var t=e&&e.type;switch(n){case"rollover":setTimeout(function(){_i_("269:e5b3a7041"),i.addClass("rollover-anim"),setTimeout(function(){_i_("269:377e5cdf1"),i.removeClass("rollover-anim"),_r_()},o),_r_()},"string"==typeof t?10:(_i_("269:7e1a7fc51"),_r_(Math.floor(400*Math.random()+300)+500)));break;default:setTimeout(function(){_i_("269:46409f5e1"),a.length&&i.removeClass(a),i.addClass(n).addClass(r).trigger("complete.anim"),_r_()},Math.floor(250*Math.random())+500)}_r_()}(i.attr("data-anim-trigger")||"onview").trim().split(/\s+/).forEach(function(e){_i_("269:13420ab31"),function(e){switch(_i_("269:2a8b3b371"),e){case"mouseenter":var t;"rollover"==n?(i.on("mouseenter",function(){_i_("269:d605800b1"),clearTimeout(t),t=setTimeout(function(){_i_("269:7b3c01c81"),i.addClass("rollover-anim"),_r_()},100),_r_()}),i.on("mouseleave",function(){_i_("269:a16cbdb71"),clearTimeout(t),t=setTimeout(function(){_i_("269:377e5cdf3"),i.removeClass("rollover-anim"),_r_()},100),_r_()})):i.on("mouseenter",s);break;case"manual":i.on("anim.onview",s);break;case"click":i.on("click",s);break;case"onview":default:_(i,s)}_r_()}(e.trim()),_r_()}),_r_()}});i.exports=r,_r_()}),B.when({condition:B.env.fe_has_translations_clientside,action:"hotel",events:"ready"}).run(function(e){_i_("269:1620cc16");var t=e("jquery");({originalLink:".hp-social_proof-item__translated .toggler",translationLink:".hp-social_proof-item__original .toggler",originalWrapper:".hp-social_proof-item__original",translationWrapper:".hp-social_proof-item__translated",wrapper:t(".hp-social_proof-quote_bubble"),init:function(){_i_("269:10e04803"),this.bindEvent(),_r_()},bindEvent:function(){_i_("269:d251f2f9"),this.wrapper.on("click",this.originalLink,t.proxy(this.showOriginal,this)),this.wrapper.on("click",this.translationLink,t.proxy(this.showTranslation,this)),_r_()},showTranslation:function(e){_i_("269:5b3b95bf"),this.hideAll(e),t(e.delegateTarget).find(this.translationWrapper).stop().show(),_r_()},showOriginal:function(e){_i_("269:5d6b5021"),this.hideAll(e),t(e.delegateTarget).find(this.originalWrapper).stop().show(),_r_()},hideAll:function(e){_i_("269:b2f63cc8"),t(e.delegateTarget).find(this.originalWrapper+","+this.translationWrapper).stop().hide(),_r_()}}).init(),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_full_screen_side_reviews}).run(function(e){_i_("269:d590b353");var t=e("jquery"),i=e("events");({openClass:"open",stagesAttr:"js-uhgsr-stages",stagesElm:t("[data-js-uhgsr-stages]"),wrapper:t(".gallery-side-reviews-wrapper"),CTABtn:t("[data-js-gallery-side-review-reserve]"),sideBody:t(".gallery-side-reviews-wrapper__body"),sideHeader:t(".gallery-side-reviews-wrapper__header"),reviewsBtn:t("[data-js-gallery-side-review-go-to-reviews]"),reserveBtn:t(".bh-photo-modal-name-cta .bh-photo-modal-cta-reserve"),closeBtn:t(".bh-photo-modal .bh-photo-modal-close"),init:function(){_i_("269:f89c12321"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:b7e45c03"),i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,t.proxy(this.onGalleryOpen,this)),i.on(B.hotel.Events.PhotoGrid.MODAL_CLOSED,t.proxy(this.onGalleryClose,this)),_r_()},onGalleryOpen:function(){_i_("269:5f4597cd"),this.wrapper.addClass(this.openClass),this.fixListUi(),_r_()},onGalleryClose:function(){_i_("269:fffb7be2"),this.wrapper.removeClass(this.openClass),_r_()},fixListUi:function(){_i_("269:bf844c3c");var e=this.sideHeader.outerHeight();e&&this.sideBody.css("top",e),_r_()}}).init(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:5079bc67");var t,i,n=e("jquery"),r=500,a="reviewFloater--hidden",o=!1,s=!1,_=!1,l=!1,c=!1,h=n("#photo_wrapper, #photo_wrapper .hp-gallery-controls .hp-gallery-control, .bh-photo-grid"),d=n("#photo_wrapper .hp-gallery-controls .hp-gallery-control"),f=n("#reviewFloater");if(!h.length||!f.length)return _r_();function u(e){_i_("269:e7ce61e2");e=e&&!isNaN(e)?e:r;clearTimeout(i),t=setTimeout(function(){if(_i_("269:ccaa122e"),s||c)return _r_();f.stop().addClass(a),l=!(c=!0),_r_()},e),_r_()}function p(e){if(_i_("269:1660ca31"),l||clearTimeout(t),!c)return _r_();if(o&&!s)return _r_();c=!1,e&&!isNaN(e)?i=setTimeout(function(){_i_("269:c533dc8f"),f.stop().show(0).removeClass(a),_r_()},e):f.stop().show(0).removeClass(a),_r_()}h.on("mouseenter",function(e){_i_("269:95d572d6"),o=!0,u(),_r_()}),h.on("mouseleave",function(e){_i_("269:9ff9ab17"),o=!1,_||p(500);_r_()}),f.on("mouseenter",function(e){_i_("269:678bc700"),s=!0,p(),_r_()}),f.on("mouseleave",function(e){_i_("269:81657828"),s=!1,u(),_r_()}),d.on("mouseenter",function(){_i_("269:e0133abd"),_=!0,_r_()}),d.on("mouseleave",function(){_i_("269:3cb9fc33"),_=!1,_r_()}),n(window).on("keyup",function(e){_i_("269:73ea1f4b"),e&&e.which&&(39==e.which||37==e.which)&&(l=!0,u(1),p(1e3));_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_full_screen_side_reviews}).run(function(e){_i_("269:1031b312");var s=e("jquery"),_=e("et"),l="adUAVYCOcMINLJHZLGCCfKSHLLTZHT",t=e("fragment"),i=e("events"),r=void 0,n=void 0,a=void 0,o=void 0,c=e("jstmpl"),h=s(".gallery-side-reviews-wrapper__body"),d=".gallery_ugc_similar_photos",f=e("tooltip"),u={},p="gallery_ugc_similar_photos_tooltip_container";function m(e,t){var i,n;if(_i_("269:b604b01b"),r&&e&&r[e]){if(b(t),i=r[e],s.each(i,function(e){_i_("269:2f2fb010"),i[e].id&&i[e].ugc_photo_id||(i=i.splice(e,1)),_r_()}),!i.length)return _r_();n=c("hp_d_gallery_similar_ugc_photos").render({photosData:i}),function(){_i_("269:de7a7fba");var e=B.env.b_hotel_id;s.ajax({method:"GET",url:"/has_seen_similar_photos",data:{hotel_id:e},error:function(e){},success:function(){}}),_r_()}(),h.find("ul").last().before(n),t||s(d).hide(0).slideDown(),function(o){if(_i_("269:8635885f"),!s(d).length)return _r_();s(d+" ul li").each(function(){_i_("269:74ec2edb");for(var r=s(this),e=r.data("ugc-img-id"),t=r.data("related-img-id"),i=void 0,n=0;n<o.length;n++)if(o[n].ugc_photo_id==e){i=o[n];break}r.on("mouseenter",function(){var e,t,i,n;_i_("269:9887f274"),_.customGoal(l,1),e="reviews_gallery_ugc_photo_hovered",t=B.env.b_hotel_id,i="photo_id",n=r.data("ugc-img-id"),_i_("269:428e0c741"),s.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:e||"",hotel_id:t||"",attribute_name:i||null,attribute_value:n||null},success:function(e){},error:function(e){}}),_r_(),_r_()}),i&&i.ugc_photo_url&&i.ugc_photo_url.max500&&function(e){if(_i_("269:6b8fc00b"),!e)return _r_();(new Image).src=e,_r_()}(i.ugc_photo_url.max500),u[t]=u[t]||{};var a="";a+=p,i&&i.id&&(a+=" photo_id_"+i.id),u[t][e]=f.setup({target:d+' li[data-ugc-img-id="'+e+'"]',contentTemplate:"hp_d_gallery_similar_ugc_photos_tooltip",contentTemplateData:i,trigger:"hover",customClass:a}).show().hide(),r.on("blur mouseleave remove",function(){_i_("269:d21bc2c0"),u[t]&&u[t][e]&&(u[t][e].hide(),i&&i.id&&s(".photo_id_"+i.id).hide(0)),_r_()}),i&&i.id&&r.on("mouseenter",function(){_i_("269:6e8a2505"),s(".photo_id_"+i.id).show(0),_r_()}),_r_()}),s("."+p).hide(0),_r_()}(i)}_r_()}function b(e){if(_i_("269:36a115b2"),s(d).length)for(var t in e?s(d).hide().remove():s(d).slideUp(function(){_i_("269:9f35ab9d"),s(this).remove(),_r_()}),u)if(t!=n)for(var i in u[t])u[t]&&u[t][i]&&u[t][i].hide().destroy();_r_()}i.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(){if(_i_("269:af72302b"),!r){var e=B.env.use_similar_ugc_photo_v2?2:1;t.call("ugc.display.similar_ugc_photo",{hotel_id:B.env.b_hotel_id,max_photos:4,sort:"similarity",version:e}).then(function(e){_i_("269:5ec9c9c0"),function(e){_i_("269:bdab4644"),e?(r=e,a&&m(a)):(_i_("269:3d608920"),b(),_r_());_r_()}(e),_r_()})}_r_()}),i.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){_i_("269:1f03456e"),_.stage(l,1),o=n||void 0,e&&e.modal&&e.modal.activePhotoId?(n=e.modal.activePhotoId,a=e.modal.activePhotoId):a=n=void 0;n&&r&&r[n]?m(n,o):(b(void 0),n=void 0);_r_()}),_r_()}),B.when({action:"hotel",condition:B.env.fe_track_sort_copies}).run(function(e){_i_("269:1c34546b");var t=e("jquery"),i=e("events"),n=e("et"),r="adUAVYCdKNKNKZaFFEJMZOVAZdUUKe";t("#blockdisplay4").on("change","#review_sort",function(){_i_("269:b723e391");var e=this.value||"recommended";switch(n.stage(r,2),n.customGoal(r,1),e){case"f_recent_desc":n.customGoal(r,2);break;case"f_recent_asc":n.customGoal(r,3);break;case"f_score_desc":n.customGoal(r,4);break;case"f_score_asc":n.customGoal(r,5)}_r_()}),i.on("reviews-tab-opened",function(){_i_("269:fbd94ad4"),n.stage(r,1),_r_()}),_r_()}),B.when({action:"hotel",events:"ready",experiment:"adUTWALOLOLOOTdCNVdBDTKe"}).run(function(e){_i_("269:19e6bf34");var i=e("jquery"),n=e("et"),r=this.hash;({wrapper:"#review_tips_container",loader:"[data-js-review-tips-loader]",placeholder:"[data-js-review-tips-placeholder]",button:"[data-js-review-tips-button]",errorMsg:"[data-js-review-tips-error]",pagination:"[data-js-review-tips-pagination] a",tryAgain:"[data-js-review-tips-try-again]",scrollArea:"[data-scrollable].sliding-panel-widget-scrollable",latsRequestedUrl:null,config:{base:"/reviewtips",cc1:(B.env.fe_reviews_base_params||{}).country||"",pagename:(B.env.fe_reviews_base_params||{}).page||"",query:(B.env.fe_reviews_base_params||{}).query||"",offset:0,rows:10},isInit:!1,isLoading:!1,init:function(){_i_("269:f89c12322"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:b4ffaf09"),i(this.button).on("click",this.onButtonClick.bind(this)),i(this.wrapper).on("click",this.pagination,this.onPaginationClick.bind(this)),i(this.wrapper).on("click",this.tryAgain,this.onTryAgainClick.bind(this)),_r_()},onButtonClick:function(e){if(_i_("269:bf2fc3fc"),e.preventDefault(),this.isInit)return _r_(!0);this.fetchTips(),_r_()},onPaginationClick:function(e){_i_("269:2eca0179"),e&&e.preventDefault();var t=i(e.currentTarget).attr("href");t&&this.fetchTips(t),n.customGoal(r,2),_r_()},onTryAgainClick:function(e){_i_("269:219fab30"),e&&e.preventDefault(),this.fetchTips(this.latsRequestedUrl),_r_()},fetchTips:function(e){if(_i_("269:61e4127a"),this.isLoading)return _r_(!0);this.isInit=!0,this.isLoading=!0;var t=this.config.base+this.config.query+"&";t+="pagename="+this.config.pagename+"&",t+="offset="+this.config.offset+"&",t+="rows="+this.config.rows+"&",t+="cc1="+this.config.cc1+"&",this.latsRequestedUrl=e||t,this.onFetchBefore(),i.ajax(e||t).error(this.onFetchError.bind(this)).then(this.onFetchSuccess.bind(this)),_r_()},onFetchBefore:function(){_i_("269:ca3cd488"),i(this.scrollArea).scrollTop(0),this.showLoader(),_r_()},onFetchAfter:function(){_i_("269:b2a2bffb"),this.isLoading=!1,i("body").trigger("scroll"),i("html").trigger("scroll"),i(this.scrollArea).trigger("scroll"),_r_()},onFetchError:function(e){_i_("269:c01082c9"),this.isInit=!1,this.showError(),this.onFetchAfter(),_r_()},onFetchSuccess:function(e){_i_("269:d4a39b83"),i(this.placeholder,this.wrapper).html(null).html(e).loadComponents(),this.showContent(),this.onFetchAfter(),n.customGoal(r,5),_r_()},hideAllBut:function(e){_i_("269:c7afd46f"),i(this.placeholder).hide(),i(this.errorMsg).hide(),i(this.emptyMsg).hide(),i(this.loader).hide(),e&&i(e,this.wrapper).show(),_r_()},showLoader:function(){_i_("269:555ddfff"),this.hideAllBut(this.loader),_r_()},showError:function(){_i_("269:c8789e19"),this.hideAllBut(this.errorMsg),n.customGoal(r,4),_r_()},showContent:function(){_i_("269:5c762e6d"),this.hideAllBut(this.placeholder),_r_()}}).init(),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:c8e9c3ff");var t=e("jquery"),i=e("et"),n="adUAVYCdKNKNKZaFFEJZMHaT",r=e("events"),a=t("#blockdisplay4");B.env&&"hotel"==B.env.b_action&&"www"==B.env.b_site_type&&(r.on("reviews-tab-opened",function(){_i_("269:a8e58608"),i.stage(n,1),_r_()}),a.on("click",".language_filter_checkbox",function(){_i_("269:36a6a0be"),i.customGoal(n,2),_r_()}),t("#review_list_score_container").on("copy","ul.review_list",function(){_i_("269:96387142"),i.customGoal(n,4),_r_()})),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:d2bab05f");var t=e("jquery"),i=e("et"),n="adUAVYCdKNKNKZaFFEZKfWXe",r=t("#hp-reviews-sliding"),a=e("hotel/reviews");r.on("click",".review-list-translate-all-js",function(){_i_("269:60488475"),i.customGoal(n,1),a.load({translate:1}),_r_()}),r.on("copy",".c-review-block",function(){_i_("269:29283c9e"),i.customGoal(n,3),_r_()}),r.on("click",".language_filter_value_row",function(){_i_("269:b1a39d9b"),i.customGoal(n,5),_r_()}),_r_()}),B.when({action:"hotel",events:"ready",condition:B.env.fe_autotranslate_featured_reviews}).run(function(e){_i_("269:136b837d");var t=e("jquery"),r=e("et"),i=e("translatable-review/modules/review-translate"),a="adUAVYCdKNKNKPZPFIDbEbeOWdCNVMYBWPPYUNZdeLEHT",n=B.env.fe_translatable_featured_review_urls||[];if(0<n.length&&(r.customGoal(a,1),i.batchTranslate({review_urls:n.join(","),target_lang:B.env.b_lang,broadcast:!0}).then(function(e){_i_("269:9b06f233"),e&&1==e.success?(r.stage(a,4),r.customGoal(a,2)):r.customGoal(a,3),_r_()}).fail(function(){_i_("269:cd34312a"),r.customGoal(a,3),_r_()})),t(".reviews-snippet-sidebar, .gallery-side-reviews-wrapper__body").on("copy",function(){_i_("269:93cf262f"),r.customGoal(a,4),_r_()}),"function"==typeof MutationObserver){var o=t("html").get(0),s=new MutationObserver(function(e){_i_("269:84bae1d9");for(var t=0;t<e.length;t++){var i=e[t];if("attributes"===i.type&&"class"===i.attributeName){var n=i.target;if("object"==typeof n.classList)if(n.classList.contains("translated-ltr")||n.classList.contains("translated-rtl")){r.customGoal(a,5),s.disconnect();break}}}_r_()});s.observe(o,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})}_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:0dc95341");var t=e("events"),i=e("et"),n="adUAVYCMXDSWPFWUDTdIO";t.on("sliding-panel/on:show",function(e){_i_("269:b80fa270"),e&&"hp-reviews-sliding"==e&&(i.stage(n,1),i.customGoal(n,1),i.goalWithValue("js_www_review_panel_opened",1));_r_()}),t.on("REVIEWS:fetched",function(){_i_("269:01866119"),i.stage(n,2),i.customGoal(n,4),i.goalWithValue("js_www_reviews_fetched",1),_r_()}),_r_()}),booking.jstmpl("reviewlist_compset_component_item",function(){_i_("269:f651d9ae");var r,a=['\n    <li class="bui-carousel__item" data-bui-ref="carousel-item">\n        <a href="','" target="_blank" class="bui-card bui-card--media bui-card--transparent">\n            <div class="bui-card__image-container">\n                <img class="bui-card__image rl-compset__item-img" src="','" />\n            </div>\n            <div class="bui-card__content">\n                <div class="rl-compset__item-title">','</div>\n                <div class="rl-compset__item-sub-title">',"/private/hp_m_similar_prop_price_from/name",'</div>\n                <div class="rl-compset__item-review-score">\n                    '," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/comp_num_reviews_sr_page/name","</div> ","\n","\n                </div>\n            </div>\n        </a>\n    </li>\n"],o=["url","img","name","price","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_score_formatted","fe_reviews_number","reviews","review_score"];return _r_(function(i){_i_("269:a153e16c");var e="",n=this.fn;return e+=[a[0],n.F.entities(n.MC(o[0])),a[1],n.STATIC_HOSTNAME(n.MB(o[1]),0,0,0),a[2],n.F.entities(n.MC(o[2])),a[3],(i.unshift({price:n.MB(o[3])}),r=n.ME(a[4],n.MB,n.MN,null),i.shift(),r),a[5]].join(""),i.unshift({fe_modifier_small:1,fe_reviews_number:n.MB(o[22]),fe_score:n.MB(o[23]),fe_show_adjective:1}),e=function(e){if(_i_("269:44d17e41"),e+=["",a[6]].join(""),n.MJ(n.MB(o[13]))||n.MJ(n.MB(o[12]))){if(n.MN("fe_classes","bui-review-score c-score"),n.MJ(n.MB(o[5]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--outline"),n.MJ(n.MB(o[6]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--end"),n.MJ(n.MB(o[7]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--inverse"),n.MJ(n.MB(o[8]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--inline"),n.MJ(n.MB(o[9]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--text"),n.MJ(n.MB(o[10]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--small"),n.MJ(n.MB(o[11]))&&n.MN("fe_classes",n.MB(o[4])+" bui-review-score--smaller"),n.MJ(n.MB(o[12]))&&n.MN("fe_score_formatted",0),n.MJ(n.MB(o[13]))&&n.MN("fe_score_formatted",n.format_review_score_new(n.MB(o[13]))),n.MN("fe_can_show_adjective",n.MB(o[14])||n.MB(o[15])),n.MJ(n.MB(o[19]))){var t="";i.unshift({fe_hide_low_adjectives:n.MB(o[18]),fe_score:n.MB(o[13])}),t=function(e){if(_i_("269:94bc3983"),n.MD(o[13])){var t="";n.MJ(1<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<2)&&(t+=n.ME(a[7],n.MB,n.MN,null)),n.MJ(2<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<3)&&(t+=n.ME(a[8],n.MB,n.MN,null)),n.MJ(3<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<4)&&(t+=n.ME(a[9],n.MB,n.MN,null)),n.MJ(4<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<5)&&(t+=n.ME(a[10],n.MB,n.MN,null)),n.MJ(5<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<5.6)&&(t+=n.ME(a[11],n.MB,n.MN,null)),n.MJ(5.6<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<6)&&(t+=n.ME(a[12],n.MB,n.MN,null)),n.MJ(6<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<7)&&(t+=n.ME(a[13],n.MB,n.MN,null)),n.MJ(7<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<8)&&(t+=n.ME(a[14],n.MB,n.MN,null)),n.MJ(8<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<8.6)&&(t+=n.ME(a[15],n.MB,n.MN,null)),n.MJ(8.6<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<9)&&(t+=n.ME(a[16],n.MB,n.MN,null)),n.MJ(9<=n.MB(o[13]))&&n.MJ(n.MB(o[13])<9.5)&&(t+=n.ME(a[17],n.MB,n.MN,null)),n.MJ(9.5<=n.MB(o[13]))&&(t+=n.ME(a[18],n.MB,n.MN,null)),n.MN(o[17],t),n.MJ(n.MB(o[18]))&&n.MJ(n.MB(o[13])<7)&&n.MN(o[17],n.ME(a[19],n.MB,n.MN,null)),e+=[n.MC(o[17]),a[20]].join("")}return n.MN("fe_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_score",0),_r_(e)}(t),i.shift(),n.MN(o[16],t),n.MJ(n.MB(o[15]))&&n.MN("fe_adjective_text",n.MB(o[15]))}e+=[a[21],n.F.entities(n.MC(o[4])),a[22],(i.unshift({review_score_number:n.MB(o[20])}),r=n.ME(a[23],n.MB,n.MN,null),i.shift(),r),a[24],n.F.entities(n.MC(o[20])),a[25]].join(""),n.MD(o[16])&&(e+=[a[26],n.MC(o[16]),a[25]].join(""),n.MD(o[21])&&(e+=[a[27],(i.unshift({num_reviews:n.format_number(n.MB(o[21]))}),r=n.ME(a[28],n.MB,n.MN,n.MO(n.MI(n.MC(o[21]))+n.MI(0),null,a[28])),i.shift(),r),a[25]].join("")),e+=a[29]),e+=a[29]}return n.MN("fe_adjective_text",0),n.MN("fe_allow_zero",0),n.MN("fe_classes",0),n.MN("fe_custom_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_modifier_end",0),n.MN("fe_modifier_inline",0),n.MN("fe_modifier_inverse",0),n.MN("fe_modifier_outline",0),n.MN("fe_modifier_text",0),n.MN("fe_reviews_number",0),n.MN("fe_score",0),n.MN("fe_score_formatted",0),n.MN("fe_show_adjective",0),e+=["",a[6]].join(""),e+=a[30],_r_(e)}(e),i.shift(),e+=a[31],_r_(e)})}()),B.define("component/ugc/reviewlist-compset",function(e,t,i){_i_("269:74cd13cc");var n=e("component"),r=e("jquery"),a=B.events;i.exports=n.extend({init:function(){_i_("269:6c2ee36e"),this.$window=r(window),this.template=B.jstmpl("reviewlist_compset_component_item"),this.$compset=r('[data-id="reviewlist_add_compset"]'),this.$ul=this.$compset.find('[data-bui-ref="carousel-container"]'),this.compsetLoaded=!1,this.loadOption=this.$compset.data("load"),"auto"===this.loadOption?(r(".js-rl-compset-container",'[data-id="reviewlist_add_compset"]').show(),this.compsetLoaded||this.loadCompSet(this)):this.addEventListeners(),_r_()},isCompSetOnView:function(){_i_("269:49832154");var e=this.$compset.offset().top,t=e+this.$compset.outerHeight(),i=this.$window.scrollTop(),n=i+r(window).height();return _r_(i<t&&t<n&&i<e&&e<n)},loadCompSet:function(i){_i_("269:4837c51c"),function(){_i_("269:ace73f89");var e={stype:B.env.b_site_type_id,aid:B.env.b_aid,label:B.env.b_label,hid:B.env.b_hotel_id,currency:B.env.b_selected_currency,checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date,lang:B.env.b_lang_for_url,max:4,src:B.env.b_action,image_840:!0},t=B.require("search-config");return e=r.extend(e,t.toObject()),_r_(r.ajax({type:"GET",url:"/srla/cs"+B.env.b_query_params_no_ext,contentType:"json",data:e}))}().done(function(e){if(_i_("269:61a7844d"),e&&e.hotels&&e.hotels.length){i.$ul.find(".js-compset-loading").remove();var t=e.hotels.map(function(e){return _i_("269:1aec9f67"),_r_(i.template.render({reviews:e.b_review_count,review_score:e.b_review_score,name:e.b_name,price:e.b_price,img:e.b_image_url_840x460||e.b_image_url_square200,url:e.b_url}))});i.$ul.html(""),i.$ul.append(t),i.$ul.find("li > a").on("click",function(){_i_("269:98ae1ddc"),B.et.customGoal("adUAVYCIFBUcAQDdUFeDWXe",1),_r_()})}else i.$compset.remove();_r_()}),_r_()},addEventListeners:function(){_i_("269:25aada4e");var e=this;a.on("REVIEWS:fetched",function(){_i_("269:274218b0"),r(".js-rl-compset-container",'[data-id="reviewlist_add_compset"]').show(),r(".sliding-panel-widget-scrollable").on("scroll",function(){_i_("269:fc5cac85"),!e.compsetLoaded&&e.isCompSetOnView()&&e.loadCompSet(e),_r_()}),_r_()}),_r_()}}),_r_()}),B.when({action:["hotel","unit"],events:"ready"}).run(function(e){_i_("269:c3740b72");var i,n,r=e("jquery"),a=e("events"),o=e("et");if("www"==B.env.b_site_type)var s=e("trap-focus");n={init:function(){_i_("269:c8e2a661"),this.$formLoginButton=r(".ugc_add_review_entrypoint_modal--login-or-details .js-button-log-in-write-review"),this.$formSubmitDetails=r(".ugc_add_review_entrypoint_modal--reservation_details form"),this.$formSubmitDetailsButton=r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details"),o.track("adUAVYCCDKTTSIbfBAWfMOBcVT"),o.stage("adUAVYCCDKTTSIbfBAWfMOBcVT",1),this.attachEvents(),_r_()},attachEvents:function(){_i_("269:fba2271d"),this.$formLoginButton.length&&this.$formLoginButton.on("click",this.openSignInForm.bind(this)),this.$formSubmitDetailsButton.length&&(this.$formSubmitDetailsButton.on("click",this.submitDetailsForm.bind(this)),r(".ugc_add_review_entrypoint_modal--reservation_details").on("keydown",'input[type="text"]',this.processKeyDownOnDetailsForm.bind(this))),_r_()},openSignInForm:function(e){if(_i_("269:a17b1a92"),i.closeModal(),"mdot"!=B.env.b_site_type||o.track("adUAVYCCDKTTSIbfBAWfMOBcVT")){if("www"==B.env.b_site_type||"mdot"==B.env.b_site_type&&o.track("adUAVYCCDKTTSIbfBAWfMOBcVT")){var t=r(e.target).data("loginUrl");t&&(o.customGoal("adUAVYCdKNKNKPZZaeaLDdCMSXe",2),window.location.href=t)}}else a.one("TABNAV.signin_loaded",this.setRedirectUrlMDOT.bind(this)),a.one(B.eventNames.TABNAV_OPENED,this.setRedirectUrlMDOT.bind(this)),B.require("tabbed-nav").activateTab("signin",r(e));_r_()},processKeyDownOnDetailsForm:function(e){if(_i_("269:fc2092d0"),!e||!e.which||13!=e.which)return _r_();this.submitDetailsForm(),_r_()},submitDetailsForm:function(e){if(_i_("269:be96c7d5"),e&&e.preventDefault&&e.preventDefault(),o.customGoal("adUAVYCdKNKNKPZZaeaLDdCMSXe",3),!this.validateDetailsForm())return _r_();this.updateSubmittingUI("loading"),this.hideDetailsErrorMessage();var t={bn:r("#form_code_input").val(),pincode:r("#form_pin_input").val()},i=B.env.b_secure_hostname||B.env.b_secure_domain;r.ajax({method:"POST",url:i+"/get_review_invite_from_booking",data:t,xhrFields:{withCredentials:!0},crossDomain:!0,success:this.detailsRequestSuccess.bind(this),error:this.detailsRequestError.bind(this)}),_r_()},validateDetailsForm:function(){_i_("269:06da5b4b");var i={},e=r(this.$formSubmitDetails.find('input[type="text"]'));for(var t in e.each(function(e,t){_i_("269:dca6417a"),i[r(t).attr("name")]=!!r(t).val().length,_r_()}),i)if(0==i[t])return this.hideValidtationErrorMessage(),this.showValidationErrorMessage(t),_r_(!1);return this.hideValidtationErrorMessage(),_r_(!0)},showValidationErrorMessage:function(e){if(_i_("269:d2f1421d"),!e)return _r_();r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-"+e).removeClass("g-hidden"),_r_()},hideValidtationErrorMessage:function(){_i_("269:fdff6201"),r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.validation-error-message").addClass("g-hidden"),_r_()},updateSubmittingUI:function(e){if(_i_("269:afe8171e"),!e)return _r_();"loading"==e&&(r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details").addClass("g-hidden"),r(".ugc_add_review_entrypoint_modal--reservation_details form .bui-is-loading").removeClass("g-hidden")),"normal"==e&&(r(".ugc_add_review_entrypoint_modal--reservation_details form .bui-is-loading").addClass("g-hidden"),r(".ugc_add_review_entrypoint_modal--reservation_details form .js-button-submit-booking-details").removeClass("g-hidden")),_r_()},detailsRequestSuccess:function(e){if(_i_("269:29100e18"),!(e&&e.success&&1==e.success&&e.data&&e.data.review_url))return this.detailsRequestError(e),_r_();o.customGoal("adUAVYCdKNKNKPZZaeaLDdCMSXe",4),window.location.href=e.data.review_url,_r_()},detailsRequestError:function(e){if(_i_("269:c35698ed"),this.updateSubmittingUI("normal"),o.customGoal("adUAVYCdKNKNKPZZaeaLDdCMSXe",5),!e||!e.error)return _r_();this.showDetailsErrorMessage(e.error),_r_()},showDetailsErrorMessage:function(e){if(_i_("269:01153acd"),e&&e.booking_not_found&&1==e.booking_not_found)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-not_found").removeClass("g-hidden"),_r_();if(e&&e.invitation_not_found&&1==e.invitation_not_found)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-invitation_not_found").removeClass("g-hidden"),_r_();if(e&&e.invite_expired&&1==e.invite_expired)return r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-invite_expired").removeClass("g-hidden"),_r_();r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error.error-went_wrong").removeClass("g-hidden"),_r_()},hideDetailsErrorMessage:function(){_i_("269:d06fa0ed"),r(".ugc_add_review_entrypoint_modal--reservation_details .bui-alert--error").addClass("g-hidden"),_r_()},setRedirectUrlMDOT:function(e){if(_i_("269:6f0aef59"),!e||!e.target||"signin"!=e.target)return _r_();a.one(B.eventNames.TABNAV_RESET,this.resetRedirectUrlMDOT.bind(this)),a.one(B.eventNames.TABNAV_OPENED,this.resetRedirectUrlMDOT.bind(this));var t=r('[data-tab-id="signin"]');this.$signInUrlField=t.find('.js-user-access-form--signin [name="target_url"]'),this.$signInUrlField.length&&(this.originalRedirectUrlValue=this.originalRedirectUrlValue!=this.$signInUrlField.val()?this.$signInUrlField.val():this.originalRedirectUrlValue,this.$signInUrlField.val(-1<B.env.b_this_url.indexOf("wrlogin=1")?B.env.b_url_start+B.env.b_this_url:B.env.b_url_start+B.env.b_this_url+";wrlogin=1")),_r_()},setRedirectUrlWWW:function(e){_i_("269:04f359cf");var t=r(".modal-wrapper.reviews-login-redirect");if(!t.length||!t.is(":visible"))return _r_();B.eventEmitter.one("auth-dialog:hide",this.resetRedirectUrlWWW.bind(this));this.$signInUrlField=t.find('.js-user-access-form--signin [name="target_url"]'),this.$signInUrlField.length&&(this.originalRedirectUrlValue=this.originalRedirectUrlValue!=this.$signInUrlField.val()?this.$signInUrlField.val():this.originalRedirectUrlValue,this.$signInUrlField.val(-1<B.env.b_this_url.indexOf("wrlogin=1")?B.env.b_url_start+B.env.b_this_url:B.env.b_url_start+B.env.b_this_url+";wrlogin=1;tab=4")),_r_()},resetRedirectUrlMDOT:function(e){if(_i_("269:04595b80"),e&&e.target&&"signin"==e.target)return _r_();this.$signInUrlField.length&&(this.originalRedirectUrlValue||""==this.originalRedirectUrlValue)&&this.$signInUrlField.val(this.originalRedirectUrlValue),_r_()},resetRedirectUrlWWW:function(){_i_("269:a0e89487"),this.$signInUrlField.length&&(this.originalRedirectUrlValue||""==this.originalRedirectUrlValue)&&this.$signInUrlField.val(this.originalRedirectUrlValue),_r_()}},(i={init:function(){_i_("269:3c071004"),this.$modals=r('.ugc_add_review_entrypoint_wrap [data-bui-component="Modal"], .entrypoint_form_wrap [data-bui-component="Modal"]'),this.modals={};var i=this;this.$modals.length&&window.BUI&&window.BUI.getInstance&&this.$modals.each(function(e,t){_i_("269:2e5acf5c"),i.modals[r(this).data("modal-id")]=window.BUI.getInstance(r(this)[0]),_r_()}),this.attachEvents(),B.env.fe__write_review_load_error&&(B.env.fe__write_review_load_error=!1,this.openBookingDetailsFormWithError()),_r_()},attachEvents:function(){_i_("269:ae09ae87");r.each(this.modals,function(e,t){_i_("269:9e680487"),t&&t.props&&(t.props.onAfterOpen=this.afterModalOpened.bind(this),t.props.onBeforeClose=this.resetModal.bind(this)),_r_()}.bind(this)),_r_()},afterModalOpened:function(){_i_("269:a18667c9"),n.init(),this.init(),"www"==B.env.b_site_type&&s.release(),_r_()},updateModalsList:function(){_i_("269:bb83c4f8"),this.init(),_r_()},openBookingDetailsFormWithError:function(){_i_("269:49721f81"),this.openModal("reservation_details","not_found"),_r_()},getOpenModal:function(){_i_("269:1e83cbc2");var i=!1;return r.each(this.modals,function(e,t){if(_i_("269:2641ed7d"),t.state.isOpen)return _r_(i=t);_r_()}),_r_(i)},getModals:function(){return _i_("269:d7a9eadc"),_r_(this.modals)},closeModal:function(){_i_("269:f5accd18");var e=this.getOpenModal();e&&(e.close(),"www"==B.env.b_site_type&&s.release()),_r_()},openModal:function(e,t){if(_i_("269:958e0f03"),!e)return _r_();var i=this.getModals();i[e]&&(i[e].open(),"www"==B.env.b_site_type&&s.trap(document.getElementById(e)),t&&"not_found"==t&&n.showDetailsErrorMessage({booking_not_found:1})),_r_()},resetModal:function(){_i_("269:3c41337e"),n.hideDetailsErrorMessage(),n.hideValidtationErrorMessage(),_r_()}}).init(),_r_()}),B.when({action:["hotel","unit"],events:"load"}).run(function(e){_i_("269:315087e5");var t=e("jquery"),i=t(".hp_review_score_entry");i.length&&i.on("click",function(){_i_("269:de50ad0e"),t("#blockdisplay4").length&&t("#blockdisplay4").show(0),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:dede4aa0");var t=e("et"),i=e("events");i.on("hp:grid_modal_opened",function(){_i_("269:61d78c83"),t.stage("adUAVYCOTAURAfPMddWTYUALEeCIObTEDaKFET",2),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:854983c1");var r=e("jquery"),t=e("hotel/reviews"),n="adUAVYCdKNKNKZaFFEZICFLcMLaUC",a=e("et");({elm:{wrapper:"[data-js-reviews-filters-wrapper]",languageWrapper:"[data-js-reviews-language-wrapper]",filtersCard:"[data-js-reviews-filters-card]",langToggle:"[data-js-reviews-language-toggle]",showBtn:"[data-js-reviews-filters-show]",hideBtn:"[data-js-reviews-filters-hide]",scoreCheckbox:"[name='reviews-filters-scores']",typeCheckbox:"[name='reviews-filters-traveller-type']",langCheckbox:"[name='reviews-filters-language']",topicsBtnLess:"[data-js-filter-topics-btn-less]",topicsBtnMore:"[data-js-filter-topics-btn-more]",topicsWrapper:"[data-js-filter-topics-wrapper]",topicsCheckbox:"[data-topic-from-content]"},init:function(){_i_("269:f8d89f43"),this.elm.$wrapper=r(this.elm.wrapper),this.elm.$languageWrapper=r(this.elm.languageWrapper),this.elm.$filtersCard=r(this.elm.filtersCard),this.elm.$scoreCheckbox=this.elm.$wrapper.find(this.elm.scoreCheckbox),this.elm.$typeCheckbox=this.elm.$wrapper.find(this.elm.typeCheckbox),this.elm.$langCheckbox=this.elm.$wrapper.find(this.elm.langCheckbox),this.elm.$topicsWrapper=this.elm.$wrapper.find(this.elm.topicsWrapper),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:a0b8d899"),t.on(t.events.LOAD_AFTER,this.onLoadAfter.bind(this)),t.on(t.events.LOAD_SUCCESS,this.onLoadSuccess.bind(this)),this.elm.$wrapper.on("click",this.elm.langToggle,this.onLanguageToggleClick.bind(this)),this.elm.$wrapper.on("click",this.elm.showBtn,this.onShowBtnClick.bind(this)),this.elm.$wrapper.on("click",this.elm.hideBtn,this.onHideBtnClick.bind(this)),this.elm.$wrapper.on("change",this.elm.scoreCheckbox,this.onScoreChange.bind(this)),this.elm.$wrapper.on("change",this.elm.typeCheckbox,this.onTravellerTypeChange.bind(this)),this.elm.$wrapper.on("change",this.elm.langCheckbox,this.onLangChange.bind(this)),this.elm.$wrapper.on("change",this.elm.topicsCheckbox,this.onTopicsChange.bind(this)),this.elm.$wrapper.on("click",this.elm.topicsBtnLess,this.onTopicsLess.bind(this)),this.elm.$wrapper.on("click",this.elm.topicsBtnMore,this.onTopicsMore.bind(this)),_r_()},onShowBtnClick:function(e){_i_("269:7b36c338"),e.preventDefault(),this.elm.$wrapper.addClass("reviews-toggle-filters-wrapper--show"),a.customGoal(n,1),_r_()},onHideBtnClick:function(e){_i_("269:e93d3fc8"),e.preventDefault(),this.elm.$wrapper.removeClass("reviews-toggle-filters-wrapper--show"),a.customGoal(n,2),_r_()},onTopicsMore:function(){_i_("269:533475e2"),this.elm.$topicsWrapper.addClass("reviews-filters-topics-wrapper--more"),_r_()},onTopicsLess:function(){_i_("269:eb42cd4e"),this.elm.$topicsWrapper.removeClass("reviews-filters-topics-wrapper--more"),_r_()},onLanguageToggleClick:function(e){_i_("269:28089c8a"),e.preventDefault(),r(e.currentTarget).hasClass("reviews-language-toggle-more")?this.elm.$languageWrapper.addClass("reviews-language-wrapper--more"):this.elm.$languageWrapper.removeClass("reviews-language-wrapper--more"),_r_()},onLangChange:function(){_i_("269:b7552853");var i=[];this.elm.$langCheckbox.filter(":checked").map(function(e,t){_i_("269:57503aa2"),i.push(r(t).val()),_r_()}),t.load({offset:0,lang:i,topics:[]}),a.customGoal(n,3),_r_()},onTopicsChange:function(){_i_("269:dac8e064");var i=[];this.elm.$wrapper.find(this.elm.topicsCheckbox).filter(":checked").map(function(e,t){_i_("269:6d4bd1a3"),r(t).data("category-id")&&i.push(r(t).data("category-id")),_r_()}),t.load({offset:0,topics:i}),_r_()},onTravellerTypeChange:function(){_i_("269:d668d0ac");var i=[];this.elm.$typeCheckbox.filter(":checked").map(function(e,t){_i_("269:52009acc"),i.push(r(t).val()),_r_()}),t.load({offset:0,type:i}),a.customGoal(n,4),_r_()},onScoreChange:function(){_i_("269:829f912d");var i=[];this.elm.$scoreCheckbox.filter(":checked").map(function(e,t){_i_("269:a7820394"),i.push(r(t).val()),_r_()}),t.load({offset:0,score:i}),a.customGoal(n,5),_r_()},onLoadSuccess:function(){_i_("269:5ec360cf"),B.env.b_review_nr&&5<=B.env.b_review_nr&&a.stage(n,1),_r_()},onLoadAfter:function(){_i_("269:c5e89f2e"),this.matchScoresWithLoadedState(),this.matchTravellerTypeWithLoadedState(),this.matchLangWithLoadedState(),this.matchTopicsWithLoadedState(),_r_()},matchScoresWithLoadedState:function(){_i_("269:612099e0");var n=t.getState().score;this.elm.$scoreCheckbox.map(function(e,t){_i_("269:42f2fc77");var i=r(t);i.prop("checked",-1<n.indexOf(i.val())),_r_()}),_r_()},matchTravellerTypeWithLoadedState:function(){_i_("269:60640fa3");var n=t.getState().type;this.elm.$typeCheckbox.map(function(e,t){_i_("269:2ddbe9c0");var i=r(t);i.prop("checked",-1<n.indexOf(i.val())),_r_()}),_r_()},matchLangWithLoadedState:function(){_i_("269:2f2d1e67");var n=t.getState().lang;this.elm.$langCheckbox.map(function(e,t){_i_("269:9caa3a83");var i=r(t);i.prop("checked",-1<n.indexOf(i.val())),_r_()}),_r_()},matchTopicsWithLoadedState:function(){_i_("269:6fbd6746");var n=t.getState().topics;this.elm.$wrapper.find(this.elm.topicsCheckbox).map(function(e,t){_i_("269:4e6811f8");var i=r(t);i.prop("checked",-1<n.indexOf(String(i.data("category-id")))),_r_()}),_r_()}}).init(),r("#review_list_score_container").on("change","#reviewer_type_filter",function(){_i_("269:51273b54"),a.customGoal(n,4),_r_()}),r("#review_list_score_container").on("change","#review_score_filter",function(){_i_("269:b61305ce"),a.customGoal(n,5),_r_()}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:bee2de2c");var a=e("jquery"),o=e("et"),s="adUAVYCAeFaUALdLcGKYO",t=e("hotel/reviews"),_="#review_list_page_container",l={204:5,203:6,201:7,219:7,206:8,216:9};B.env&&t.on(t.events.LOAD_AFTER,function(){_i_("269:ea8d1a56");var e=a(_),t=e.find(".js-has-new-review-topics");if(0<t.size()){var i=parseInt(t.val());if(1==i){o.stage(s,2);var n=e.find(".js-has-old-review-topics");if(0<n.size()){var r=n.val();1==r?o.stage(s,3):o.stage(s,4)}!function(e){_i_("269:b791e1fb");var t=l[e];t&&o.stage(s,t);_r_()}(parseInt(B.env.b_acc_type)),a(_).on("click","[data-js-review-topic]",function(){_i_("269:b6c3b4ef"),o.customGoal(s,1),_r_()})}}_r_()}),_r_()}),B.when({action:"hotel"}).run(function(e){_i_("269:a3c58567");var t=e("events"),r="adUAVYCOTTUMKPBCIWSRVfBJOYO",a=e("et");if(!(B.env&&B.env.fe_num_photo_landmarks?B.env.fe_num_photo_landmarks:0))return _r_();t.on(B.hotel.Events.Gallery.AFTER_SLIDE_CHANGE,function(e){_i_("269:39bd04f8");var t=e?e[1]:null;if(t&&t.currentSlide){var i=t.$slides.eq(t.currentSlide),n=i.data("landmarkid");n&&(a.stage(r,1),a.stage(r,2))}_r_()}),t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:365c0b81"),e&&e.modal){var t=e.modal.activePhotoId||"",i=""+t;i&&0===i.indexOf("landmark")&&(a.stage(r,1),a.stage(r,3))}_r_()}),_r_()}),B.when({action:"hotel",condition:"www"==B.env.b_site_type,events:"ready"}).run(function(e){_i_("269:d442abe8");var t,i=e("jquery"),n=e("et"),r="adUAVYCOTIFGedCIXcYQC",a="g-hidden",o=e("events"),s=i(".hp_d_survey_review_panel_onview_tracker"),_=i(".hp_d_survey_review_panel"),l=i("#blockdisplay4 .sliding-panel-widget-scrollable"),c=!1,h=!1;if(!s.length)return _r_();function d(){if(_i_("269:00913475"),!s.is(":visible")||c)return _r_();var e=l.scrollTop()+i(window).innerHeight();s.position().top<e&&(n.stage(r,2),h?n.stage(r,3):n.stage(r,4),c=!0,_.length&&n.track(r)&&_.hasClass(a)&&!t&&(t=setTimeout(function(){_i_("269:db95979d"),_.removeClass(a).hide(0).slideDown(500),_r_()},400))),_r_()}o.on("REVIEWS:fetched",function(){_i_("269:077e5d4e"),l.on("scroll",d),h=!!i(".review_list_pagination").length,_r_()}),_r_()}),B.when({action:"hotel",events:"load"}).run(function(e){_i_("269:9e9537ba");var i=e("hotel/reviews"),n=e("et"),t=e("jquery"),r="adUAVYCOTdIcPSBBPXe";({showSearchClass:"js-show-search-input",container:"#review_list_score_container",toggleButton:"#reviews-filters-search-toggler",searchWrapper:".bui-panel.bui-panel--search-wrapper",searchInput:"#reviews-filters-search-input",searchButton:"#reviews-filters-search-button",clearButton:"#reviews-filters-search-clear",searchError:"#reviews-filters-search-error",topics:".bui-inline-container--topics-wrapper [data-js-review-topic]",errorClassName:"bui-has-error",init:function(){_i_("269:6f2601e0"),n.track(r),this.isSearchVisible=!1,this.isErrorVisible=!1,this.isFirstLoaded=!1,this.$container=t(this.container),this.bindEvents(),this.bindTracking(),_r_()},bindEvents:function(){_i_("269:d3c8a2e2"),this.$container.on("click",this.searchButton,this.onSearchClick.bind(this)),this.$container.on("click",this.clearButton,this.onClearClick.bind(this)),this.$container.on("click",this.toggleButton,this.onToggleClick.bind(this)),this.$container.on("keyup",this.searchInput,this.onInputKeyup.bind(this)),i.on(B.Reviews.events.LOAD_AFTER,this.onloadAfter.bind(this)),i.on(B.Reviews.events.LOAD_SUCCESS,this.onloadSuccess.bind(this)),_r_()},bindTracking:function(){_i_("269:c9b3e887");var e=this;i.on(B.Reviews.events.LOAD_SUCCESS,function(){_i_("269:7dbef5d1"),e.isFirstLoaded||(n.stage(r,1),0<e.$container.find$(e.topics).length?n.stage(r,2):n.stage(r,3)),0<B.Reviews.getState().topics.length&&n.stage(r,2),_r_()}),_r_()},onClearClick:function(e){_i_("269:3564a544"),e.preventDefault(),i.load({text:""}),n.customGoal(r,3),_r_()},onloadSuccess:function(){_i_("269:d6a6fef7");var e=i.getState().text||"";this.$container.find(this.searchInput).val(e),this.$container.find(this.clearButton).toggle(!!e),this.isFirstLoaded=!0,_r_()},onloadAfter:function(){_i_("269:6839a169"),this.isSearchVisible&&this.$container.find(this.toggleButton).remove(),this.isSearchVisible||this.$container.find(this.toggleButton).removeAttr("aria-hidden"),_r_()},onInputKeyup:function(e){_i_("269:6c926ece"),e.preventDefault();var t=e.target&&e.target.value||"";13==e.keyCode&&this.doSearch(t),this.isErrorVisible&&0<t.length&&this.hideError(),_r_()},onSearchClick:function(e){_i_("269:08dd080b"),e.preventDefault();var t=this.$container.find(this.searchInput).val()||"";this.doSearch(t),_r_()},doSearch:function(e){_i_("269:fb9b6a4f");var t=i.getState().text||"";0<(e||"").length&&e!=t&&(i.load({text:e}),this.toggleError(!1),n.customGoal(r,2)),_r_()},toggleError:function(e){_i_("269:5db9f9ec"),e?this.showError():this.hideError(),_r_()},onToggleClick:function(e){_i_("269:c64473e8"),e.preventDefault(),this.showSearch(),_r_()},showError:function(){_i_("269:12a2bbc1"),this.$container.find(this.searchError).show().attr("aria-hidden",!1),this.$container.find(this.searchWrapper).addClass(this.errorClassName),this.$container.find(this.searchInput).attr("aria-describedby",this.searchError.replace("#","")),this.isErrorVisible=!0,n.customGoal(r,4),_r_()},hideError:function(){_i_("269:7bde4a1e"),this.$container.find(this.searchError).hide().attr("aria-hidden",!0),this.$container.find(this.searchWrapper).removeClass(this.errorClassName),this.$container.find(this.searchInput).removeAttr("aria-describedby"),this.isErrorVisible=!1,_r_()},showSearch:function(){_i_("269:41e9b6ed"),this.isSearchVisible=!0,this.$container.addClass(this.showSearchClass),this.$container.find(this.searchInput).focus(),n.customGoal(r,1),_r_()}}).init(),_r_()}),B.define("component/ugc/hotelpage/gallery-floater",function(e,t,i){_i_("269:c5d5dcd0");var n=e("jquery"),r=e("component"),a=e("translatable-review/modules/review-translate");i.exports=r.extend({init:function(){_i_("269:526ef503"),this.translator=a,this.reviewUrl=this.$el.data("review-url"),this.translated=!!this.$el.data("pretranslated"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:e50b21ea"),this.translator.on(this.translator.events.TRANSLATIONS_LOADED,n.proxy(this.listenToTranslations,this)),_r_()},loadTranslation:function(e){_i_("269:68f7c1e1");var t=e.hotel_general||"";if(0==t.length)return _r_();this._loadTextAndResize(t),_r_()},listenToTranslations:function(e){if(_i_("269:99a8125d"),this.translated||!e)return _r_();this.reviewUrl&&e[this.reviewUrl]&&this.loadTranslation(e[this.reviewUrl]),_r_()},_loadTextAndResize:function(e){_i_("269:45bd1eaa");var t=this.$el.height();this.$el.css("height","auto"),this.$el.text(e);var i=this.$el.height();if(t<i){var n=i/(t-16),r=e.slice(0,Math.floor(e.length/n)),a=r.match(/(\w+)\s/g);a&&(a=a.slice(-1)[0],r=r.slice(0,r.lastIndexOf(a)+a.length)),r+="…",this.$el.text(r)}this.$el.css("height",t+"px"),_r_()}}),_r_()}),B.define("component/ugcs/dom-utils/toggle",["component","jquery"],function(e,t){return _i_("269:d09588d9"),_r_(e.extend({init:function(){_i_("269:16de0527"),this.toShow=this.$el.parent().find("[data-toggle-show]"),this.toHide=this.$el.parent().find("[data-toggle-hide]"),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:931bb367"),this.$el.on("click.ugcs.toggle",this.toggle.bind(this)),this.$el.on("focus.ugcs.toggle",this.onFocus.bind(this)),this.$el.on("blur.ugcs.toggle",this.onBlur.bind(this)),_r_()},unBindEvents:function(){_i_("269:72074450"),this.$el.off("click.ugcs.toggle",this.toggle.bind(this)),this.$el.off("focus.ugcs.toggle",this.onFocus.bind(this)),this.$el.off("blur.ugcs.toggle",this.onBlur.bind(this)),_r_()},onFocus:function(e){_i_("269:a6c67898"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onBlur:function(e){_i_("269:a6c678981"),e.preventDefault(),this.$el.on("keydown.ugcs.toggle",this.onKeyDown.bind(this)),_r_()},onKeyDown:function(e){_i_("269:7faddd6e"),32==e.keyCode&&(this.$el.blur(),this.toggle(e)),_r_()},toggle:function(e){_i_("269:08ea6901"),e.preventDefault();var t=this;window.setTimeout(function(){_i_("269:6eea92f9"),t.$el.hide(),_r_()},0),this.toShow.show(),this.toHide.remove(),this.unBindEvents(),_r_()}}))}),B.define("component/ugcs/review-block/photos",function(e,t,i){_i_("269:a7367b2e");var n=e("component"),r=e("jquery"),a=e("jstmpl");i.exports=n.extend({init:function(){if(_i_("269:237f8b09"),B.env.ugcs=B.env.ugcs||{},B.env.ugcs.review_block=B.env.ugcs.review_block||{},B.env.ugcs.review_block.photos=B.env.ugcs.review_block.photos||{},this.id=this.$el.data("photos-group"),this.id||this.$el.remove(),!this.id)return _r_(!0);this.$all=this.$el.find("[data-photos-src]"),this.bindEvents(),this.additionalClass=B.env.b_site_type&&"www"==B.env.b_site_type&&B.et.track("adUAVYCdKNKNKZaefMSPIeKTBHeQNUYO")?"c-review-block__gallery__inner--increased":"",_r_()},bindEvents:function(){_i_("269:c7973324"),this.$all.bind("click.review-block.photos",r.proxy(this.onBtnClick,this)),_r_()},onBtnClick:function(e){_i_("269:3eb52983"),e.preventDefault();var t=this.$all.index(r(e.currentTarget));B.env.ugcs.review_block.photos[this.id]||this.initGallery(),B.env.ugcs.review_block.photos[this.id].show(t),_r_()},initGallery:function(){_i_("269:e0ab0bea");var i=[];this.$all.each(function(e,t){_i_("269:c08200aa"),i.push(r(t).data("photos-src")),_r_()});var e=this.additionalClass,t=a("component_review_block_gallery").render({photos:i,additionalClass:e}),n=r(t);r("body").append(n),B.env.ugcs.review_block.photos[this.id]=n.component("ugcs/review-block/gallery"),_r_()}}),_r_()}),booking.jstmpl("component_review_block_gallery",function(){_i_("269:b4807bb9");var s,_=['\n    <div class="c-review-block__gallery">\n        <div class="c-review-block__gallery__inner ',' bui-f-depth-2">\n            <ul class="c-review-block__gallery__list">\n                ','\n                    <li index="','"\n                        class="c-review-block__gallery__item">\n                        ',"c-review-block__gallery__error-icon","iconset/warning",'\n                        <img alt=""\n                             index="','"\n                             class="c-review-block__gallery__photo"\n                             data-src="','" />\n                    </li>\n                ','\n            </ul>\n            <button class="c-review-block__gallery__previous">\n                <span>\n                    ',"24","iconset/navarrow_left",'\n                </span>\n            </button>\n            <button class="c-review-block__gallery__next">\n                <span>\n                    ',"iconset/navarrow_right",'\n                </span>\n            </button>\n            <div class="c-review-block__gallery__header">\n                <button class="c-review-block__gallery__close">\n                    ',"/private/close/name","iconset/close",'\n                </button>\n            </div>\n            <div class="c-review-block__gallery__footer">\n                <span class="c-review-block__gallery__count"></span>\n            </div>\n        </div>\n    </div>\n'],l=["additionalClass","photos"];return _r_(function(e){_i_("269:9afb84e8");var t="",i=this.fn;t+=[_[0],i.F.entities(i.MC(l[0])),_[1]].join("");var n=i.MC(l[1])||[];e.unshift({photo:null});for(var r,a=1,o=n.length;a<=o;a++)e[0].photo=r=n[a-1],t+=[_[2],i.F.entities(i.MI(a)-i.MI(1)),_[3],(e.unshift({class:_[4],name:_[5]}),s=i.HELPER("icon",e[0]),e.shift(),s),_[6],i.F.entities(i.MI(a)-i.MI(1)),_[7],i.F.entities(r),_[8]].join("");return e.shift(),t+=[_[9],(e.unshift({color:"#000000",height:_[10],name:_[11],width:_[10]}),s=i.HELPER("icon",e[0]),e.shift(),s),_[12],(e.unshift({color:"#000000",height:_[10],name:_[13],width:_[10]}),s=i.HELPER("icon",e[0]),e.shift(),s),_[14],i.ME(_[15],i.MB,i.MN,null),(e.unshift({name:_[16]}),s=i.HELPER("icon",e[0]),e.shift(),s),_[17]].join(""),_r_(t)})}()),B.define("component/ugcs/review-block/gallery",function(e,t,i){_i_("269:dfe53b28");var n=e("component"),l=e("jquery"),r=e("events");i.exports=n.extend({init:function(){_i_("269:d6ed96f4"),this.isRtl=l("body").hasClass("lang_is_rtl"),this.loadClass="c-review-block__gallery__photo--loaded",this.errorClass="c-review-block__gallery__item--error",this.$window=l(window),this.$close=this.$el.find(".c-review-block__gallery__close"),this.$next=this.$el.find(".c-review-block__gallery__next"),this.$previous=this.$el.find(".c-review-block__gallery__previous"),this.$photos=this.$el.find("img"),this.$count=this.$el.find(".c-review-block__gallery__count"),this.$inner=this.$el.find(".c-review-block__gallery__inner"),this.$listItem=this.$el.find(".c-review-block__gallery__item"),this.total=this.$photos.length,this.current=0,this.seenPictures=[],this.uiFixes(),_r_()},bindEvents:function(){_i_("269:384b6e06"),l(document).on("keydown.ugcs.review-block.gallery",l.proxy(this.onKeyboardPress,this)),this.$close.on("click.ugcs.review-block.gallery.close",l.proxy(this.onCloseClick,this)),this.$el.on("click.ugcs.review-block.gallery.wrapper",l.proxy(this.onBgClick,this)),this.$inner.on("click.ugcs.review-block.gallery.inner",l.proxy(this.onGalleryClick,this)),this.$next.on("click.ugcs.review-block.gallery.next",l.proxy(this.onNextClick,this)),this.$photos.one("load.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoLoad,this)),this.$photos.one("error.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoError,this)),this.$previous.on("click.ugcs.review-block.gallery.prev",l.proxy(this.onPreviousClick,this)),this.$window.on("resize.ugcs.review-block.window",l.proxy(this.onWindowResize,this)),_r_()},unbindEvents:function(){_i_("269:600b6e9f"),l(document).off("keydown.ugcs.review-block.gallery",l.proxy(this.onKeyboardPress,this)),this.$close.off("click.ugcs.review-block.gallery.close",l.proxy(this.onCloseClick,this)),this.$el.off("click.ugcs.review-block.gallery.wrapper",l.proxy(this.onBgClick,this)),this.$inner.off("click.ugcs.review-block.gallery.inner",l.proxy(this.onGalleryClick,this)),this.$next.off("click.ugcs.review-block.gallery.next",l.proxy(this.onNextClick,this)),this.$photos.off("load.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoLoad,this)),this.$photos.off("error.ugcs.review-block.gallery.photo",l.proxy(this.onPhotoError,this)),this.$previous.off("click.ugcs.review-block.gallery.prev",l.proxy(this.onPreviousClick,this)),this.$window.off("resize.ugcs.review-block.window",l.proxy(this.onWindowResize,this)),_r_()},uiFixes:function(){if(_i_("269:9a7a2ccb"),1<this.total)return _r_(!0);this.$previous.remove(),this.$next.remove(),_r_()},onGalleryClick:function(e){_i_("269:875fad7e"),e.stopPropagation(),_r_()},onKeyboardPress:function(e){_i_("269:1fa57cde"),27==e.which&&this.hide(),37==e.which&&this.previous(),39==e.which&&this.next(),_r_()},onPhotoLoad:function(e){_i_("269:3f4980fd"),l(e.currentTarget).addClass(this.loadClass),this.fixPhotoToGallery(),_r_()},onPhotoError:function(e){_i_("269:fa053a03"),l(e.currentTarget).parent().addClass(this.errorClass),_r_()},onBgClick:function(e){_i_("269:50639143"),e.preventDefault(),this.hide(),_r_()},onCloseClick:function(e){_i_("269:506391431"),e.preventDefault(),this.hide(),_r_()},onWindowResize:function(){_i_("269:cba5eebf"),this.fixGalleryToViewport(),_r_()},onNextClick:function(e){_i_("269:f338ab5e"),e.preventDefault(),this.isRtl?this.previous():this.next(),_r_()},onPreviousClick:function(e){_i_("269:e2eafc9d"),e.preventDefault(),this.isRtl?this.next():this.previous(),_r_()},next:function(){_i_("269:7ad0e2aa");var e=this.current+1==this.total?0:this.current+1;this.go(e),_r_()},previous:function(){_i_("269:45bf9f49");var e=0==this.current?this.total-1:this.current-1;this.go(e),_r_()},hide:function(){_i_("269:aed5adca"),this.$el.hide(),this.unbindEvents(),_r_()},show:function(e){_i_("269:2390f192"),this.bindEvents(),this.$el.show(),this.go(e),this.fixGalleryToViewport(),_r_()},go:function(e){_i_("269:ba5103b5");var _=this;this.current=0<=e?e:this.current;var t=this.$listItem.find('img[index="'+this.current+'"]'),i=this.$listItem.filter('[index="'+this.current+'"]'),n=t.data("src");n&&t.attr("src",n),t.removeAttr("data-src"),this.$listItem.hide(),i.show(),this.$count.html(this.current+1+"/"+this.total),this.fixPhotoToGallery(),r.emit("reviews:gallery:switch",{current:this.current,total:this.total}),function(e){var t;_i_("269:9d4e34ed"),e&&e.length&&(t=l(e[0]));if(!(t&&t.length&&t.find(".c-review-block__gallery__photo")&&t.find(".c-review-block__gallery__photo").attr("src")))return _r_();var i=t.find(".c-review-block__gallery__photo").attr("src"),n=/xphoto\/\w+\/(\w+)\.[jpg|png|webp]/.exec(i);n&&n[1]&&-1==_.seenPictures.indexOf(n[1])&&(r="reviews_list_seen_big_photo",a=B.env.b_hotel_id,o="photo_id",s=n[1],_i_("269:af463583"),l.ajax({url:"/personalisationinfra/track_behaviour_property",method:"POST",data:{behaviour_name:r||"",hotel_id:a||"",attribute_name:o||null,attribute_value:s||null},success:function(e){},error:function(e){}}),_r_(),_.seenPictures.push(n[1]));var r,a,o,s;_r_()}(i),_r_()},fixGalleryToViewport:function(){_i_("269:bda2026d");var e=this.$window.height(),t=this.$window.width()/e,i=this.$inner.width()/this.$inner.height(),n=i<t?{width:i/t*90+"%"}:{};this.$inner.css(n),this.fixPhotoToGallery(),_r_()},fixPhotoToGallery:function(){_i_("269:6952e265");var e=this.$photos.eq(this.current),t=(e[0]||{}).naturalWidth/(e[0]||{}).naturalHeight<this.$inner.width()/this.$inner.height()?{height:"100%",width:"auto"}:{width:"100%",height:"auto"};e.css(t),_r_()}}),_r_()}),booking.jstmpl("component_review_block_review_read_more_button",function(){_i_("269:6a0e20ce");var i=['\n    <span class="c-review__read-more">\n        ',"\n    </span>\n"];return _r_(function(e){_i_("269:2d52ea3b");var t="";this.fn;return t+=i[0],_r_(t+=i[1])})}()),B.define("component/ugcs/review-block/review",["component","jquery"],function(e,t){return _i_("269:a19c000f"),_r_(e.extend({init:function(){if(_i_("269:88d69aff"),this.fullContent=this.$el.data("full-content"),!this.fullContent)return _r_(!0);this.$button=t(B.jstmpl("component_review_block_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:af8f58d2"),this.$button.on("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("269:d68f7095"),this.$button.off("click.ugcs.review.show-more",t.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("269:aaf922ff"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.remove(),_r_()}}))}),B.when({events:"ready"}).run(function(e){_i_("269:74c82a86");var a=e("jquery");({init:function(){_i_("269:3c562241");var r=this;a("[data-js-breakdown-show-more]").each(function(e,t){_i_("269:00c75935");var i=a(t),n=i.parents(".c-subscores").find(".c-subscores__hide");0==n.length?i.hide():r.bindEvents(i,n),_r_()}),_r_()},bindEvents:function(e,t){_i_("269:8dd4a5d0"),e.on("click.ugcs.score-breakdown",a.proxy(this.showSubscores,this,e,t)),_r_()},unBindEvents:function(e,t){_i_("269:b8e9e706"),e.off("click.ugcs.score-breakdown",a.proxy(this.showSubscores,this,e,t)),_r_()},showSubscores:function(e,t){_i_("269:57f0c301"),t.show(),this.unBindEvents(e,t),e.hide(),_r_()}}).init(),_r_()}),booking.jstmpl("component_shared_review_read_more_button",function(){_i_("269:556b18ff");var n=['\n    <span class="c-review__read-more">\n        ',"/private/comp_ugc_read_more_cta/name","\n    </span></span>\n"];return _r_(function(e){_i_("269:bde66dc9");var t="",i=this.fn;return t+=[n[0],i.ME(n[1],i.MB,i.MN,null),n[2]].join(""),_r_(t)})}()),B.define("component/ugcs/shared/review",function(e,t,i){_i_("269:56adba4b");var n=e("jquery"),r=B.jstmpl,a=e("component");i.exports=a.extend({init:function(){_i_("269:2ac6b80e"),this.fullContent=this.$el.data("full-content"),this.fullContent&&(this.$button=n(r("component_shared_review_read_more_button").render({})),this.$el.after(this.$button),this.bindEvents()),_r_()},bindEvents:function(){_i_("269:af8f58d21"),this.$button.on("click.ugcs.review.show-more",n.proxy(this.showFullContent,this)),_r_()},unBindEvents:function(){_i_("269:d68f70951"),this.$button.off("click.ugcs.review.show-more",n.proxy(this.showFullContent,this)),_r_()},showFullContent:function(){_i_("269:b649e98b"),this.$el.html(this.fullContent),this.unBindEvents(),this.$button.hide(),B.env&&"www"===B.env.b_site_type&&"hotel"===B.env.b_action&&B.et.customGoal("HVONAFZfNZWbOTBMRVFWUC",1),_r_()}}),_r_()}),B.define("translatable-review/modules/review-translate",function(e,t,i){_i_("269:55c84298");var o=e("jquery"),n=e("event-emitter").extend({events:{TRANSLATIONS_LOADED:"TRANSLATIONS_LOADED"},translate:function(e){_i_("269:071e432d");var t=e.provider,i=e.review_url,n=e.target_lang;if(!i||!n)throw"Args review_url and target_lang are required!";return _r_("google"===t?this._googleTranslate(i,n):"booking"===t?this._bookingTranslate(i,n):this.translateV2(e))},batchTranslate:function(e){_i_("269:31efef61");var t=e.provider||"booking",i=e.review_urls,n=e.target_lang,r=!!e.broadcast;if(!i||!n)throw"Args review_urls and target_lang are required!";if("booking"===t)return _r_(this._bookingBatchTranslate(i,n,r));throw"Invalid translation provider!"},_googleTranslate:function(e,t){_i_("269:c85b14f5");var i={review_url:e,target:t};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review",data:JSON.stringify(i)}).then(function(e){_i_("269:bcaa420a");var t={success:0};if(1===e.success){var i=e.translated_review;t.success=1,t.translated_review={title:i.title,hotel_positive:i.hotel_positive,hotel_negative:i.hotel_negative}}return _r_(t)}).fail(this._handleFailure))},_bookingTranslate:function(n,e){_i_("269:af6e919d");var t={review_urls:n,target:e};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(t)}).then(function(e){_i_("269:3d492047");var t={success:0};if(1===e.success&&e.translations){var i=e.translations[n];i&&(t.success=1,t.translated_review={hotel_general:i})}return _r_(t)}).fail(this._handleFailure))},_bookingBatchTranslate:function(e,t,i){_i_("269:a4151ebe");var n=this,r={review_urls:e,target:t};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_featured_reviews",data:JSON.stringify(r)}).then(function(e){return _i_("269:27b5f723"),_r_(n._generate_response_batch(e,i))}).fail(n._handleFailure))},translateV2:function(e){_i_("269:3e962dde");var t=this,i=e.review_url,n=e.target_lang;if(!i||!n)throw"Args review_urls and target_lang are required!";var r={review_urls:[i],target_lang:n};return _r_(t.batchTranslateV2(r).then(function(e){return _i_("269:cea7eaa5"),_r_(t._generate_response_single(e,i))}).fail(t._handleFailure))},batchTranslateV2:function(e){_i_("269:b9f8bb69");var t=this,i=e.review_urls,n=e.target_lang,r=!!e.broadcast;if(!i||!n)throw"Args review_urls and target_lang are required!";var a={review_urls:i,target:n};return _r_(o.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/translate_review_batch",data:JSON.stringify(a)}).then(function(e){return _i_("269:27b5f7231"),_r_(t._generate_response_batch(e,r))}).fail(t._handleFailure))},_generate_response_single:function(e,t){_i_("269:31e78d13");var i={success:0};if(1===e.success){var n=e.translations[t];if(!n)return _r_(i);i.translated_review=n,i.success=1}return _r_(i)},_generate_response_batch:function(e,t){_i_("269:77b0eec2");var i={success:0};return 1===e.success&&e.translations&&(i.translations=this._map_translations_from_response(e.translations),i.success=1,t&&this.emit(this.events.TRANSLATIONS_LOADED,i.translations)),_r_(i)},_map_translations_from_response:function(n){return _i_("269:667e54ad"),_r_(Object.keys(n).reduce(function(e,t){_i_("269:8069bc3e");var i=n[t];return e[t]="string"==typeof i?{hotel_general:i}:{hotel_positive:i.hotel_positive,hotel_negative:i.hotel_negative,title:i.title,translation_provider:i.translation_provider},_r_(e)},{}))},_handleFailure:function(){_i_("269:f10782ed"),booking&&"function"==typeof booking.reportError&&booking.reportError({message:"[reviews] Failed communicating with reviews translation service."}),_r_()}});i.exports=n,_r_()}),B.define("translatable-review/modules/trackers",function(e,t,i){_i_("269:21490f48");var n={track_show_original:function(e,t){if(_i_("269:402dc517"),!e||!t)return _r_();var i={review_url:e,target_lang:t};return _r_($.ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/track_show_original",data:JSON.stringify(i)}))}};i.exports=n,_r_()}),B.define("component/ugcs/shared/translatable-review",function(e,t,i){_i_("269:d5722772");var n=e("jquery"),r=e("et"),a=e("component"),o=e("translatable-review/modules/review-translate"),s=e("translatable-review/modules/trackers"),_=e("jstmpl"),l=_("provider_logo_google"),c=_("provider_logo_booking");i.exports=a.extend({originalCta:".c-review__translation-cta__original",translatedCta:".c-review__translation-cta__translated",translationProviderText:".c-review__translation-cta__provider",originalLink:".js-review-translation-show-original",translatedLink:".js-review-translation-show-translated",originalBody:".c-review__body--original",translatedBody:".c-review__body--translated",reviewBlock:".c-review-block",originalTitle:".c-review-block__title--original",translatedTitle:".c-review-block__title--translated",translationLoader:".c-review__translation-loader",init:function(){_i_("269:c47c2fd8"),this.$ctaOriginal=this.$el.find(this.originalCta),this.$ctaTranslated=this.$el.find(this.translatedCta),this.$translationLinkOriginal=this.$el.find(this.originalLink),this.$translationLinkTranslated=this.$el.find(this.translatedLink),this.$originalTexts=this.$el.find(this.originalBody),this.$translatedTexts=this.$el.find(this.translatedBody),this.$reviewBlock=this.$el.parents(this.reviewBlock),0<this.$reviewBlock.length&&(this.$titleOriginal=this.$reviewBlock.find(this.originalTitle),0<this.$titleOriginal.length&&(this.$originalTexts=this.$originalTexts.add(this.$titleOriginal),this.$titleTranslated=this.$reviewBlock.find(this.translatedTitle),this.$translatedTexts=this.$translatedTexts.add(this.$titleTranslated))),this.reviewUrl=this.$el.data("review-url"),this.translationProvider=this.$el.data("translation-provider"),this.$translationLoader=this.$el.find(this.translationLoader),this.translator=o,this.translated=!!this.$el.data("pretranslated"),this.quoted=!!this.$el.data("quoted"),this.OPEN_QUOTE=this.decodeEntities(_.translations("quote_open_primary")),this.CLOSE_QUOTE=this.decodeEntities(_.translations("quote_close_primary")),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:8f2eb985"),this.$translationLinkOriginal.on("click",n.proxy(this.showOriginal,this)),this.$translationLinkTranslated.on("click",n.proxy(this.showTranslation,this)),this.translator.on(this.translator.events.TRANSLATIONS_LOADED,n.proxy(this.listenToTranslations,this)),_r_()},showTranslation:function(){_i_("269:41a6758a");var i=this;i.translated?(i.$originalTexts.hide(),i.$ctaTranslated.hide(),i.$translationLoader.hide(),i.$translatedTexts.show(),i.$ctaOriginal.show()):(i.$ctaTranslated.hide(),i.$translationLoader.show(),r.customGoal("adUAVYCdKNKNKZaFFEZKfWXe",2),r.goalWithValue("js_reviewlist_individual_translate",1),i.translator.translate({provider:i.translationProvider,review_url:i.reviewUrl,target_lang:B.env.b_lang}).then(function(e){if(_i_("269:69aea0f7"),i.$translationLoader.hide(),1==e.success){var t=e.translated_review;i.loadTranslation(t)?i.showTranslation():i.translationFailure()}else i.translationFailure();_r_()}).fail(function(e){_i_("269:a345308e"),i.translationFailure(),_r_()})),_r_()},showOriginal:function(){_i_("269:e801dd41"),this.$translatedTexts.hide(),this.$ctaOriginal.hide(),this.$originalTexts.show(),this.$ctaTranslated.show(),r.goalWithValue("js_reviewlist_show_original",1),s.track_show_original(this.reviewUrl,B.env.b_lang),_r_()},loadTranslation:function(e){if(_i_("269:aae83c6b"),!e)return _r_(!1);if(!(e.hotel_general||e.hotel_positive||e.hotel_negative))return _r_(!1);if(this.$translatedTexts.filter(".general").text(this.formatText(e.hotel_general)),this.$translatedTexts.filter(".positive").text(this.formatText(e.hotel_positive)),this.$translatedTexts.filter(".negative").text(this.formatText(e.hotel_negative)),e.title&&this.$titleTranslated&&this.$titleTranslated.length&&this.$titleTranslated.text(e.title),!this.translationProvider&&e.translation_provider){this.translationProvider=e.translation_provider;var t=this.$el.find(this.translationProviderText),i=c;"google"===e.translation_provider&&(i=l),t.html(_.translations("ugc_reviews_translated_by",null,{companyname:i.render({})}))}return this.translated=!0,_r_(!0)},translationFailure:function(){_i_("269:cff86cd2"),this.$translationLoader.hide(),this.$ctaOriginal.text(_.translations("ugc_reviews_translated_failed")),this.$ctaOriginal.show(),booking&&"function"==typeof booking.reportError&&booking.reportError({message:"Failed to translate ["+this.reviewUrl+"]["+B.env.b_lang+"]"},"[reviews] Failed to translate review"),_r_()},listenToTranslations:function(e){if(_i_("269:11cf0d99"),this.translated||!e)return _r_();this.reviewUrl&&e[this.reviewUrl]&&(this.loadTranslation(e[this.reviewUrl])&&this.showTranslation());_r_()},decodeEntities:function(e){_i_("269:9fde2cf7");var t=document.createElement("textarea");return t.innerHTML=e,_r_(t.value)},formatText:function(e){_i_("269:d16fbaa4");var t=e;return this.quoted&&(t=this.OPEN_QUOTE+t+this.CLOSE_QUOTE),_r_(t)}}),_r_()}),booking.jstmpl("provider_logo_google",function(){_i_("269:27c41d3a");var n=["\n    ",'<svg width="49px" height="16px" viewBox="0 0 49 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="position: relative; top: 4px;">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="result" fill="#757575" fill-rule="nonzero">\n            <path d="M11.9684863,5.65009119 L6.29942857,5.65009119 L6.29942857,7.33232827 L10.32,7.33232827 C10.1213763,9.69128267 8.15878419,10.6972888 6.30623708,10.6972888 C3.93609726,10.6972888 1.86786626,8.83243769 1.86786626,6.21865046 C1.86786626,3.67241337 3.83941641,1.71146505 6.31144073,1.71146505 C8.21865046,1.71146505 9.3424924,2.92727052 9.3424924,2.92727052 L10.5203647,1.70752584 C10.5203647,1.70752584 9.00853495,0.0244620061 6.25123404,0.0244620061 C2.74047416,0.0244620061 0.0243647416,2.98781763 0.0243647416,6.18859574 C0.0243647416,9.32503343 2.57945289,12.3833678 6.34120365,12.3833678 C9.64970213,12.3833678 12.071538,10.1169119 12.071538,6.76537386 C12.071538,6.05831003 11.9688802,5.6496535 11.9688802,5.6496535 L11.9684863,5.65009119 Z" id="Path"></path>\n            <path d="M16.6128632,4.4318541 C14.2866869,4.4318541 12.6196231,6.25045593 12.6196231,8.37145289 C12.6196231,10.5238176 14.2365957,12.3762188 16.6401945,12.3762188 C18.8160973,12.3762188 20.5987112,10.7131429 20.5987112,8.41770213 C20.5987112,5.78679635 18.5251307,4.4318541 16.6128632,4.4318541 Z M16.6359942,5.99212158 C17.7799212,5.99212158 18.8639334,6.91696049 18.8639334,8.40719757 C18.8639334,9.86582371 17.7845413,10.8170213 16.6307419,10.8170213 C15.3629972,10.8170213 14.3628756,9.80167781 14.3628756,8.3956231 C14.3628756,7.01972036 15.350596,5.99212158 16.6359942,5.99212158 Z" id="Shape"></path>\n            <path d="M25.2976049,4.4318541 C22.9714286,4.4318541 21.3043647,6.25045593 21.3043647,8.37145289 C21.3043647,10.5238176 22.9213374,12.3762188 25.3249362,12.3762188 C27.5008389,12.3762188 29.2834529,10.7131429 29.2834529,8.41770213 C29.2834529,5.78679635 27.2098723,4.4318541 25.2976049,4.4318541 L25.2976049,4.4318541 Z M25.3207353,5.99212158 C26.4646624,5.99212158 27.5486745,6.91696049 27.5486745,8.40719757 C27.5486745,9.86582371 26.4692824,10.8170213 25.315483,10.8170213 C24.0477384,10.8170213 23.0476168,9.80167781 23.0476168,8.3956231 C23.0476168,7.01972036 24.0353371,5.99212158 25.3207353,5.99212158 Z" id="Shape"></path>\n            <path d="M33.815538,4.43574468 C31.6803891,4.43574468 30.0020912,6.30579939 30.0020912,8.40476596 C30.0020912,10.7956717 31.9478176,12.3811793 33.7787234,12.3811793 C34.9108328,12.3811793 35.5128024,11.9317933 35.9572523,11.4159757 L35.9572523,12.1992462 C35.9572523,13.5697021 35.125155,14.3903708 33.8691793,14.3903708 C32.6558541,14.3903708 32.0472705,13.4881945 31.835769,12.9762432 L30.309155,13.6144438 C30.8507234,14.7595866 31.9409605,15.9537994 33.8818237,15.9537994 C36.0047173,15.9537994 37.6227112,14.6166565 37.6227112,11.8123283 L37.6227112,4.67457751 L35.9573009,4.67457751 L35.9573009,5.34745289 C35.4455927,4.79567173 34.7453374,4.43589058 33.8155866,4.43589058 L33.815538,4.43574468 Z M33.9700912,5.99285106 C35.0168997,5.99285106 36.0918176,6.88671125 36.0918176,8.41317933 C36.0918176,9.96474164 35.0191854,10.8198419 33.9469422,10.8198419 C32.8086565,10.8198419 31.7494954,9.89558663 31.7494954,8.42791489 C31.7494954,6.90290578 32.8495076,5.99285106 33.9700426,5.99285106 L33.9700912,5.99285106 Z" id="Shape"></path>\n            <path d="M45.027696,4.42650456 C43.0136413,4.42650456 41.3225532,6.02893617 41.3225532,8.39343465 C41.3225532,10.8954164 43.2074894,12.3792827 45.221155,12.3792827 C46.9017872,12.3792827 47.9332766,11.4598419 48.5488632,10.6360608 L47.1757325,9.72240729 C46.819414,10.2754043 46.2237082,10.8158541 45.2295684,10.8158541 C44.1128754,10.8158541 43.5994164,10.2043526 43.2813131,9.61201216 L48.6075137,7.4019696 L48.3309957,6.75428571 C47.8162237,5.48590881 46.6158347,4.42650456 45.0275064,4.42650456 L45.027696,4.42650456 Z M45.0970845,5.95418845 C45.8228231,5.95418845 46.3451331,6.3400462 46.5669447,6.80267477 L43.0100328,8.2893617 C42.8566857,7.13838298 43.9471271,5.95418845 45.0970845,5.95418845 Z" id="Shape"></path>\n            <polygon id="Path" points="38.7838055 12.143465 40.5333495 12.143465 40.5333495 0.435258359 38.7838055 0.435258359"></polygon>\n        </g>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("269:8db487d6");var t,i="";this.fn;return t=i+=n[0],_i_("269:c6deab81"),i=_r_(t+=n[1]),_r_(i+=n[2])})}()),booking.jstmpl("provider_logo_booking",function(){_i_("269:7b824e0f");var n=["\n    ",'<svg width="80px" height="14px" viewBox="0 0 80 14" version="1.1" xmlns="http://www.w3.org/2000/svg"\n    style="position: relative; top: 4px;">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="#757575" d="M31.463 1.344a1.21 1.21 0 112.42 0 1.21 1.21 0 11-2.42 0zm-19.86 7.545c-1.043\n        0-1.767-.828-1.767-2.01 0-1.183.724-2.01 1.766-2.01 1.049 0 1.782.827 1.782 2.01 0 1.202-.718 2.01-1.782\n        2.01zm0-5.786c-2.205 0-3.806 1.588-3.806 3.776 0 2.188 1.6 3.777 3.805 3.777 2.213 0 3.82-1.59 3.82-3.777\n        0-2.188-1.607-3.776-3.82-3.776zM29.12 7.068a1.785 1.785 0\n        00-.29-.406l-.066-.07.07-.068c.102-.107.204-.234.304-.38l1.946-2.893h-2.361L27.26\n        5.514c-.082.121-.25.182-.5.182h-.333V1.42c0-.855-.532-.972-1.108-.972h-.986v10.097h2.094V7.515h.197c.238\n        0 .4.028.475.157l1.154 2.18c.322.591.645.692 1.249.692h1.604l-1.194-1.976-.793-1.5zm10.16-3.982c-1.065\n        0-1.743.473-2.125.873l-.126.129-.046-.175c-.111-.428-.488-.664-1.056-.664h-.938l.006\n        7.293h2.079V7.18c0-.328.043-.613.13-.874.231-.787.876-1.277 1.683-1.277.649 0 .902.343.902 1.228v3.176c0\n        .755.35 1.109 1.105 1.109h.99l-.004-4.639c0-1.843-.899-2.817-2.6-2.817zm-6.582.166h-.985l.007\n        5.639h-.001v1.652h1.051l.037.002.491-.002h.487v-.003h.003l.004-6.181c0-.746-.357-1.107-1.094-1.107zm-12.93\n        5.637C18.726 8.89 18 8.061 18 6.88c0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717\n        2.01-1.78 2.01zm0-5.786c-2.207 0-3.808 1.588-3.808 3.776 0 2.188 1.601 3.777 3.808 3.777 2.211 0\n        3.82-1.59 3.82-3.777 0-2.188-1.609-3.776-3.82-3.776zm26.496 5.466c-1.137 0-1.541-.992-1.541-1.921\n        0-.41.103-1.744 1.431-1.744.66 0 1.54.19 1.54 1.812 0 1.531-.778 1.853-1.43 1.853zm2.51-5.337c-.395\n        0-.699.158-.85.445l-.058.111-.097-.083c-.335-.29-.937-.635-1.913-.635-1.944 0-3.253 1.46-3.253 3.632 0\n        2.17 1.354 3.687 3.292 3.687.661 0 1.184-.154 1.599-.469l.16-.12v.202c0 .975-.63 1.513-1.772 1.513a4.22\n        4.22 0 01-1.398-.258c-.44-.133-.699-.024-.878.418l-.165.41-.233.596.145.077c.73.388 1.681.62 2.542.62 1.77\n        0 3.836-.907 3.836-3.458l.008-6.688h-.966zM3.86 8.806l-1.693-.002V6.781c.001-.433.169-.657.538-.709h1.155c.824\n        0 1.356.52 1.356 1.36 0 .862-.519 1.373-1.356 1.374zM2.168 3.349h.001v-.533c0-.466.197-.688.63-.716h.866c.743\n        0 1.187.444 1.187 1.187 0 .568-.304 1.23-1.16 1.23H2.169V3.348zm3.854\n        2.018l-.306-.171.267-.229c.311-.267.832-.867.832-1.905 0-1.587-1.232-2.611-3.137-2.611H1.256A1.06\n        1.06 0 00.234 1.499V10.507H3.72c2.118 0 3.487-1.153 3.487-2.938 0-.962-.443-1.784-1.186-2.202z"/>\n        <path fill="#B0B0B0" d="M50.556 9.413a1.21 1.21 0 112.419 0 1.21 1.21 0 11-2.42 0zm13.823-.524c-1.042\n        0-1.768-.828-1.768-2.01 0-1.183.726-2.01 1.768-2.01 1.046 0 1.78.827 1.78 2.01 0 1.202-.717 2.01-1.78\n        2.01zm0-5.786c-2.206 0-3.807 1.588-3.807 3.776 0 2.188 1.6 3.777 3.807 3.777 2.211 0 3.82-1.59 3.82-3.777\n        0-2.188-1.609-3.776-3.82-3.776zm13.106.007c-.862\n        0-1.696.404-2.231 1.081l-.15.191-.119-.213c-.385-.703-1.048-1.059-1.97-1.059-.966\n        0-1.613.539-1.914.86l-.197.213-.076-.28c-.11-.405-.47-.627-1.015-.627h-.874l-.008\n        7.264h1.985V7.334c0-.282.035-.56.106-.85.19-.775.71-1.608 1.585-1.525.54.052.804.47.804\n        1.275v4.306h2V7.334c0-.352.032-.614.11-.878.162-.74.705-1.498 1.55-1.498.611 0 .838.346.838\n        1.276v3.244c0 .735.327 1.062 1.06 1.062h.935l.002-4.637c0-1.853-.816-2.793-2.42-2.793zM59.37\n        8.018c-.006.007-.861.907-1.985.907-1.026 0-2.06-.628-2.06-2.031 0-1.212.802-2.06 1.95-2.06.374 0\n        .798.135.865.36l.01.037a.73.73 0 00.707.537l1.088.001v-.95c0-1.255-1.595-1.71-2.67-1.71-2.295 0-3.96\n        1.599-3.96 3.8 0 2.2 1.648 3.796 3.919 3.796 1.97 0 3.042-1.296 3.052-1.309l.057-.07-.86-1.429-.113.121z"/>\n    </g>\n</svg>\n',"\n"];return _r_(function(e){_i_("269:e94222af");var t,i="";this.fn;return t=i+=n[0],_i_("269:0b834f58"),i=_r_(t+=n[1]),_r_(i+=n[2])})}()),B.define("component/ugcs/shared/room-info",function(e,t,i){"use strict";_i_("269:ed0454c9");var n,r=e("jquery"),a=e("component"),o="mdot"===B.env.site_type,s="www"===B.env.site_type;o&&(n=e("tabbed-nav")),i.exports=a.extend({init:function(){if(_i_("269:dacaf937"),this.$rt=r(".js-rooms-table"),this.$rtFilters=r(".rt-controls"),this.$anchorTo=0<this.$rtFilters.length?this.$rtFilters:this.$rt.find("#bookForm"),this.roomId=this.$el.data("roomId"),s&&(this.$rt=r(".hprt-table")),B.env.fe_only_one_room_type)return this.hide(),this.$el.parents(".c-review-block__room-info-row").hide(),_r_();this.disableIfUnavailable(),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#roomstable_nodates")),this.$anchorTo&&this.$anchorTo.length||(this.$anchorTo=r("#form_search")),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:3276afdc"),this.$el.on("click",r.proxy(this.onClickRoomInfo,this)),_r_()},unBindEvents:function(){_i_("269:8cfbeaeb"),this.$el.off("click",r.proxy(this.onClickRoomInfo,this)),_r_()},onClickRoomInfo:function(e){if(_i_("269:26b6ec04"),e.preventDefault(),B.require("et").customGoal("adUAVYCdCCBQNbHYIFYRYNWe",1),this.$el.hasClass("review-block__room-info--disabled"))return _r_();n&&n.activateTab("main",r(e.target)),s&&r(".sliding-panel-widget-close-button").click(),this.scrollDownRT(),_r_()},disableIfUnavailable:function(){_i_("269:e91f4360"),this.roomId&&!this.$rt.find('[data-room-id="'+this.roomId+'"]').length&&(this.$el.addClass("review-block__room-info--disabled"),this.$el.parent("a").removeAttr("href")),_r_()},scrollDownRT:function(){_i_("269:832ee938");var e=this.roomId?this.$rt.find('[data-room-id="'+this.roomId+'"]:first'):null;if(e&&e.length&&(this.$anchorTo=e),!this.$anchorTo||!this.$anchorTo.length)return _r_();var t=this.$anchorTo.parents(".rt-collapsed__wrap").find(".bui-action-bar__item button");t.size()&&t.is(":visible")&&t.click();var i=15,n=this.$rt.find(".hprt-table-header");s&&n.size()&&(i+=n[0].clientHeight),r("html, body").animate({scrollTop:this.$anchorTo.offset().top-i},750),_r_()},hide:function(){_i_("269:9548afb4"),this.$el.addClass("g-hidden"),_r_()}}),_r_()}),B.define("referral/raf-goal",function(e,t,i){_i_("269:97b3ad3a");var n=e("et");i.exports={shareGoal:function(e){_i_("269:53c28dcd"),n.goal(e),n.goal("gm_share"),_r_()}},_r_()}),B.define("component/referral/invalid-link",function(e,t,i){_i_("269:ca29cf9a");var n=e("component"),r=e("lightbox");booking.jstmpl("invalid_link_card",function(){_i_("269:c2423b87");var r,a=["\n        ","\n",'\n    <div data-component="referral/require-login-lightbox"></div>\n','\n    <div class="raf_modal_invalid">\n        <div class="raf_modal_invalid__title">\n            ',"\n                ","/private/raf_friend_landing_shut_down_modal_body/name","\n            ","/private/raf_flex_shutdown_influencers/name",'\n        </div>\n        <div class="raf_modal_invalid_image">\n            <img width="150" src="','" alt="invalid raf">\n        </div>\n        <div class="raf_modal_invalid__subtitle">\n        </div>\n        <div class="raf_modal_invalid__body">\n        </div>\n        <div class="raf_modal_invalid_cta">\n            <button class="bui-button bui-button--primary js-modal-close" type="button" style="width: 100%">\n                <span class="bui-button__text">\n                    ',"/private/raf_validation_error_modal_employee_button/name",'\n                </span>\n            </button>\n        </div>\n        <button class="modal-mask-closeBtn" title="Close">\n            ',"iconset/close","large",'\n            <span class="invisible_spoken">Close</span>\n        </button>\n    </div>\n',"\n    "],o=["b_raf_error_code","b_raf_li_in","b_campaign_expired"];return _r_(function(e){_i_("269:712e2d3c");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("269:c65d6cfb"),t+=a[1],n.MJ(n.MC(o[0])+""=="user_not_logged_in")?t+=a[2]:(t+=a[3],n.MJ(1==n.MC(o[1]))?t+=[a[4],n.ME(a[5],n.MB,n.MN,null),a[6]].join(""):n.MJ(1==n.MC(o[2]))&&(t+=[a[4],n.ME(a[7],n.MB,n.MN,null),a[6]].join("")),t+=[a[8],n.STATIC_HOSTNAME("/static/img/referral/raf-failure.svg",0,0,0),a[9],n.ME(a[10],n.MB,n.MN,null),a[11],(e.unshift({name:a[12],size:a[13]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[14]].join("")),i=_r_(t),i+=a[15],_r_(i)})}()),i.exports=n.extend({init:function(){_i_("269:df384cb0");var e=B.jstmpl("invalid_link_card"),t={b_raf_li_in:this.$el.data("raf-li-in"),b_campaign_expired:this.$el.data("campaign-expired"),fe_companyname:B.env.b_companyname},i=r.show(e.render(t),{bCloseButton:!1,customWrapperClassName:"raf_invalid_modal_wrapper"});i&&i.loadComponents&&i.loadComponents(),$(".js-modal-close").click(function(){_i_("269:766c755e"),r.hide(),_r_()}),_r_()}}),_r_()}),B.define("component/incentives/js_stage_tracker",function(e,t,i){_i_("269:a214f6d2");var n=e("component"),r=e("et");i.exports=n.extend({init:function(){_i_("269:24e1f38a"),r.stage(this.$el.data("hash"),this.$el.data("stage")),_r_()}}),_r_()}),B.define("referral/clipboard",function(e,t,i){_i_("269:6dad79bc");var n=function(){};n.prototype.copy=function(e,t){_i_("269:b9e312de"),this.text=e,this.isRTL=B.env.b_lang_rtl,"function"==typeof t&&(this.copyCallback=t),this.selectFake(),_r_()},n.prototype.selectFake=function(){_i_("269:563ce6c9"),this.removeFake();var e=document.createElement("textarea");(this.fakeElement=e).style.fontSize="12pt",e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style[this.isRTL?"right":"left"]="-9999px";var t=window.pageYOffset||document.documentElement.scrollTop;e.style.top=t+"px",e.setAttribute("readonly",""),e.value=this.text,document.body.appendChild(e),function(e){var t;if(_i_("269:eed13d9d"),"SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}_r_(t)}(e),this.copyText(),_r_()},n.prototype.removeFake=function(){_i_("269:dcba3dac"),this.fakeElement&&(document.body.removeChild(this.fakeElement),this.fakeElement=null),_r_()},n.prototype.copyText=function(){var t;_i_("269:881b30ae");try{t=document.execCommand("copy")}catch(e){t=!1}this.handleResult(t),_r_()},n.prototype.handleResult=function(e){_i_("269:14c14746"),this.copyCallback&&(e?this.copyCallback(null):this.copyCallback(!0)),this.removeFake(),_r_()},i.exports=new n,_r_()}),B.define("hotel/new-rooms-table/fit-status-helper",function(e,t,i){"use strict";_i_("269:1ed3a1bf");var n=e("hotel/redux/actionTypes"),r=e("hotel/store"),a=e("search-config");function o(e,t){_i_("269:dc0151ab"),r.dispatch({type:n.CHANGE_FIT_STATUS,fit_status:e,no_fit_guests:t}),_r_()}i.exports={update:function(){_i_("269:0f69a058");var e=r.getState().roomsTable.js_selection;if(e.blockIDs&&0<e.blockIDs.length&&e.blockIDs[0]&&0==e.blockIDs[0].indexOf("bbasic_"))return o(2,0),_r_();var t=[];for(var i in e.blocks)t.push({block_id:i,qty:e.blocks[i].js_nr_selected});if(t.length){var n=B.require("fragment").call("hotel.fit_validation",{hotel_id:B.env.b_hotel_id,hotel_cc1:B.env.b_countrycode,is_user_genius:B.env.b_reg_user_is_genius?1:0,search_config:a.getRawValue(),checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date,selected_blocks:JSON.stringify(t)});n.then(function(e){if(_i_("269:a4906ef7"),void 0!==e.fit_status){var t="undefined"!==e.no_fit_guests?e.no_fit_guests:{};o(e.fit_status,t)}_r_()}),n.catch(function(e){})}_r_()}},_r_()}),B.define("component/hotel/new-rooms-table/fit-status-tooltip",function(e,t,i){"use strict";_i_("269:9d5c0175");var n=e("component"),r=e("hotel/redux/actionTypes"),a=e("hotel/store"),o=e("search-config").getRawValue(),l=e("jstmpl"),s=e("et"),_=e("server-data"),c=1,h=0,d=-1,f=0===o.b_children_total,u=0<o.b_children_total&&s.track("INLGHPFKFPIMbIZDFC"),p=u&&_.b_hotel_has_child_prices_block;i.exports=n.extend({tltpTimeout:null,init:function(){_i_("269:2771b70b");var i=o.b_nr_rooms_needed;window.innerWidth<1440&&f&&this.$el.addClass("fit_status_tooltip_container--to-top"),a.subscribe(function(){_i_("269:3bcb6270");var e=a.getState(),t=e.roomsTable.js_selection;0!=t.roomCount&&e.roomsTable.lastAction!=r.SELECT_ROOM||this.resetTooltip(),e.roomsTable.lastAction==r.CHANGE_FIT_STATUS&&t.roomCount&&t.roomCount>=i&&void 0!==t.fitStatus&&void 0!==t.noFitGuests&&(u?(2===t.fitStatus&&0===t.noFitGuests.num_adults&&0===t.noFitGuests.num_children||0===t.fitStatus)&&(this.renderTooltipNew(t),this.displayTooltip(2===t.fitStatus)):f&&(this.prepareForRender(t.fitStatus,t.noFitGuests),this.displayTooltip(2===t.fitStatus))),_r_()}.bind(this)),_r_()},renderTooltipNew:function(e){_i_("269:754e403f");var t="DEFAULT";p&&e.noFitGuests&&0===e.noFitGuests.num_adults&&o.b_children_total===e.noFitGuests.num_children&&(t="NO_CHILD",s.customGoal("INLGHPFKFPIMbIZDFC",1));var i=l("fe_hprt_fit_message_block").render({fe_fit_status:e.fitStatus,fe_fit_reason:t});this.$el.html(i),_r_()},prepareForRender:function(e,t){_i_("269:a6427401");var i=this.$el.find(".js-fit-status-msg-main"),n=this.$el.find(".js-fit-status-msg-sec"),r="",a="",o=c;if(void 0!==e){if(2===e)r=l.translations("gaf_hp_rt_group_fits");else{var s=t.num_children,_=t.num_adults;0===e?(r=0<_&&0<s?l.translations("gaf_hp_rt_group_wont_fit_4_adult_and",_,{num_adults:_})+l.translations("gaf_hp_rt_group_wont_fit_4_adult_and_kids",s,{num_children:s}):0<_?l.translations("gaf_hp_rt_group_wont_fit_4",_,{num_adults:_}):l.translations("gaf_hp_rt_group_wont_fit_4_children",s,{num_children:s}),a=l.translations("gaf_hp_rt_group_wont_fit_2"),o=d):1===e&&(r=0<_&&0<s?l.translations("gaf_hp_rt_maybe_fit_adult_plus",_,{num_adult:_})+l.translations("gaf_hp_rt_maybe_fit_adult_plus_child",s,{num_child:s}):0<_?l.translations("gaf_hp_rt_maybe_fit_adult",_,{num_adult:_}):l.translations("gaf_hp_rt_maybe_fit_child",s,{num_child:s}),a=l.translations("gaf_hp_rt_maybe_fit_request"),o=h)}r.length?i.html(r).show():i.hide(),a.length?n.html(a).show():n.hide(),o===d?(this.$el.addClass("fit_status_tooltip_container--neg"),this.$el.removeClass("fit_status_tooltip_container--pos")):o===c?(this.$el.addClass("fit_status_tooltip_container--pos"),this.$el.removeClass("fit_status_tooltip_container--neg")):this.$el.removeClass("fit_status_tooltip_container--neg fit_status_tooltip_container--pos")}_r_()},resetTooltip:function(){_i_("269:fa08fc7d"),clearTimeout(this.tltpTimeout),this.$el.hide(),_r_()},displayTooltip:function(e){_i_("269:7081bb91");var t=this.$el;t.show().animate({opacity:1},600),e&&(this.tltpTimeout=setTimeout(function(){_i_("269:ee078cd0"),t.animate({opacity:0},600,function(){_i_("269:b1eb74fd"),t.hide(),_r_()}),_r_()},1e4)),_r_()}}),_r_()}),booking.jstmpl("fe_hprt_fit_message_block",function(){_i_("269:557fc02d");var n,r=['\n    <div class="hprt-fit-message">\n        <div class="hprt-fit-message__head">\n            ','\n                <span class="hprt-fit-message__icon hprt-fit-message__icon--pos">\n                    ',"iconset/checkmark_bold","\n                </span>\n            ",'\n                <span class="hprt-fit-message__icon hprt-fit-message__icon--neg">\n                    ',"iconset/info_sign",'\n\n            <p class="hprt-fit-message__text">',"/private/fam_pp_rt_fit_message_good/name","/private/fam_pp_rt_fit_message_no_child/name","/private/fam_pp_rt_fit_message_no_fit/name","</p>\n        </div>\n\n        ",'\n            <p class="hprt-fit-message__sub">',"/private/fam_pp_rt_fit_message_no_fit_review/name","</p>\n        ","\n    </div>\n"],a=["fe_fit_status","fe_fit_reason"];return _r_(function(e){_i_("269:2ee0f105");var t="",i=this.fn;return t+=r[0],i.MJ(2==i.MB(a[0]))?t+=[r[1],(e.unshift({name:r[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[3]].join(""):t+=[r[4],(e.unshift({name:r[5]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[3]].join(""),t+=r[6],i.MJ(2==i.MB(a[0]))?t+=i.ME(r[7],i.MB,i.MN,null):i.MJ(0==i.MB(a[0]))&&(i.MJ(i.MB(a[1])+""=="NO_CHILD")?t+=i.ME(r[8],i.MB,i.MN,null):t+=i.ME(r[9],i.MB,i.MN,null)),t+=r[10],i.MJ(0==i.MB(a[0]))&&(t+=[r[11],i.ME(r[12],i.MB,i.MN,null),r[13]].join("")),t+=r[14],_r_(t)})}()),B.when({action:"hotel"}).run(function(e){_i_("269:eaf812a7");var t=e("jquery"),s=e("hotel/store"),_=e("utils/deepequal"),i=e("events"),n=t("#hprt-form"),r=!1;i.on(B.hotel.Events.Other.GROUP_RECOMMENDATION_CTA_CLICKED,function(){_i_("269:668e826a"),r=!0,_r_()}),n.on("submit",function(){_i_("269:d5758f9b"),r&&function(){_i_("269:9808d16d");for(var e=s.getState().roomsTable.js_selection.blocks,t={},i=0;i<B.env.b_room_group.length;i++){var n=B.env.b_room_group[i];t[n.block_id]=n}{if(e){var r={};for(var a in e){var o={};o.count=e[a].js_nr_selected,o.block_id=a,r[a]=o}return _r_(_(r,t))}return _r_(!1)}}()&&n.append('<input type="hidden" name="is_group_recommendation" value="1">'),_r_()}),_r_()}),B.when({condition:B.env&&B.env.b_group}).run(function(e){"use strict";_i_("269:b9894a59");var t=e("et"),i=e("search-config").children;if(i){var n="INLGHPFKFPIMbIZDFC";$("body").on("change","[data-group-children-count]",function(){_i_("269:b3be0c12");var e=this.value;0==e?t.stage(n,6):e<i&&t.stage(n,7),_r_()})}_r_()}),function(t){_i_("269:e4053262"),t.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:80c47d17");var i=e("jquery")('[data-elem="js-room-summary-final"]'),n=i.attr("data-hlight-cls");t.events.on("HP:RT:RoomSelectChanged",function(e){_i_("269:074b473e");var t=parseInt(e.totalSelectedRooms,10);i.length&&(0<t?i.addClass(n):i.removeClass(n)),_r_()}),_r_()}),_r_()}(booking),B.when({events:"ready"}).run(function(e){_i_("269:2debdd25");var t=e("events"),n=0,r=0;t.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:0756dff4"),(r=t.find(".hp-rt-lightbox-single-policy-bookable").length)&&(n=t.find("[data-lightbox-ticker-below-cta]")).component("core/ticker").startTicker(),_r_()}),t.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,function(e,t,i){_i_("269:2e35eb68"),r&&n.component("core/ticker").pauseTicker(),_r_()}),_r_()}),B.when({action:"hotel",events:"load"}).run(function(e){_i_("269:02afb495");var t=B.require("jquery")("#hp_small_print .description .is-license strong"),i=t.html()||"";0<t.length&&230<i.length&&(t.attr("fulltext",i).html(t.text().substr(0,180)+'&hellp; <a href="#" class="license-more">'+B.jstmpl.translations("/private/bh_fun_fine_print_expand/name")+"</a>"),t.on("click",".license-more",function(e){_i_("269:05d818de"),e.preventDefault(),t.html(i),_r_()})),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:963d8d2c");var n=e("jquery")(".book_now_rt_summary");function t(e,t){if(_i_("269:2d973b45"),t&&t.nr_rooms){var i=B.jstmpl("hp_book_now_summary").render({fe_num:t.nr_rooms,fe_price:t.price,fe_accommodation_type:B.env.b_acc_type});n.html(i).removeClass("g-hidden")}else n.html("").addClass("g-hidden");_r_()}if(B.env.is_rooms_table_rewrite){var i=e("hotel/store");i.subscribe(function(){_i_("269:909f1c37");var e=i.getState().roomsTable.js_selection;t(0,{nr_rooms:e.roomCount,price:e.totalPriceFormatted}),_r_()})}else B.events.on(B.hotel.Events.RT.SUMMARY_BEFORE_CHANGE,t),B.events.on(B.hotel.Events.RT.SUMMARY_HIDE,t);_r_()}),B.define("component/sharing/utils/copy",function(e,t,i){"use strict";_i_("269:2fa90919");var r=e("jquery");i.exports={copyText:function(e,t,i){_i_("269:3347825c");var n=this.createFakeCopyElement(e);document.body.appendChild(n),n.select(),n.setSelectionRange&&n.setSelectionRange(0,n.value.length),this.execCopyText(t,i),r(n).remove(),_r_()},createFakeCopyElement:function(e){_i_("269:74c38629");var t=document.createElement("textarea");return t.style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[B.env.b_lang_rtl?"right":"left"]="-9999px",t.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",t.setAttribute("readonly",""),t.value=e,_r_(t)},execCopyText:function(e,t){var i;_i_("269:53b5ecb7");try{document.execCommand("copy")}catch(e){i=e}i?t(i):e(),_r_()}},_r_()}),B.define("component/sharing/utils/short-url",function(e,t,i){"use strict";_i_("269:7eae7858");var n=e("jquery");i.exports={MDOT_AID:1258470,DESKTOP_AID:1258472,TDOT_AID:1258471,RAF_AID:939121,generate:function(e){return _i_("269:28c70332"),_r_(n.ajax({method:"POST",url:"/sharing_experience/get_short_url",dataType:"json",data:{url:e.longUrl,channel:e.channelName,aid:e.aid,raf_advocate_data:e.rafAdvocateData}}))}},_r_()}),B.define("component/sharing/share-link/share-link",function(e,t,i){"use strict";_i_("269:26133891");var n=e("component"),r=e("component/sharing/utils/short-url"),a=e("component/sharing/utils/copy"),o=e("et");i.exports=n.extend({placeholder:/DATA/g,channels:{sms:{name:"sms",action:"openSMS",uri:B.env.b_is_iphone?"sms:&body=DATA":"sms:?body=DATA"},whatsapp:{name:"whatsapp",action:"openWhatsapp",uri:"whatsapp://send?text=DATA"},copy:{name:"copy",action:"copyText",fetchOnOpen:!0},google:{name:"google",action:"openWindow",uri:"https://plus.google.com/share?url=DATA"},facebook:{name:"facebook",action:"openWindow",uri:"http://www.facebook.com/share.php?u=DATA"},twitter:{name:"twitter",action:"openWindow",uri:"http://twitter.com/home/?status=DATA"},fbmessenger:{name:"fbmessenger",action:"openURI",uri:"fb-messenger://share?link=DATA"},email:{name:"email",action:"openURI",uri:"mailto:?body=DATA"}},channel:null,loading:!1,init:function(){if(_i_("269:f6ed015a"),this.initChannel(),!this.channel)return _r_();this.loadDataParams(),this.addEventListeners(),_r_()},initChannel:function(){_i_("269:ddf0200f");var e=this.$el.data("channel");this.channel=this.channels[e],_r_()},trackShareSuccess:function(){_i_("269:6b071313"),o.goal("web_share_dialog_succeed"),_r_()},trackShareError:function(){_i_("269:4b28efb6"),o.goal("web_share_dialog_failed"),_r_()},loadDataParams:function(){_i_("269:75d6630f"),this.loadingClass=this.$el.data("loading-class"),this.successClass=this.$el.data("success-class"),_r_()},addEventListeners:function(){_i_("269:f71485e4"),this.$el.on("click",this.onClickEvent.bind(this)),_r_()},onClickEvent:function(e){_i_("269:6c4a7335"),e.preventDefault(),this.isReady()?this.startAction():this.loading||this.startGenerationProcess().done(this.startAction.bind(this)),_r_()},isReady:function(){return _i_("269:09a91dbf"),_r_(!!this.channel.ready)},setLoadingState:function(){_i_("269:2049a470"),this.loading=!0,this.loadingClass&&this.$el.toggleClass(this.loadingClass,!0),_r_()},removeLoadingState:function(){_i_("269:60316399"),this.loading=!1,this.loadingClass&&this.$el.toggleClass(this.loadingClass,!1),_r_()},setSuccessState:function(){_i_("269:bc0e40be"),this.successClass&&this.$el.toggleClass(this.successClass,!0),_r_()},removeSuccessState:function(){_i_("269:a9af7879"),this.successClass&&this.$el.toggleClass(this.successClass,!1),_r_()},startGenerationProcess:function(){return _i_("269:bd4171ca"),this.onGenerationStart(),_r_(this.generateShortLink().done(this.onGenerationFinish.bind(this)).fail(this.onGenerationError.bind(this)))},onGenerationStart:function(){_i_("269:1ca4f0f7"),this.setLoadingState(),_r_()},getLongUrl:function(){return _i_("269:79d2bebc"),_r_(B.env.b_original_url)},generateShortLink:function(){return _i_("269:e53894bf"),_r_(r.generate({longUrl:this.getLongUrl(),channelName:this.channel.name,aid:r.MDOT_AID}))},onGenerationError:function(){_i_("269:c930a017"),this.removeLoadingState(),this.trackShareError(),_r_()},onGenerationFinish:function(e){_i_("269:c273872b"),this.removeLoadingState(),this.updateChannel(e),_r_()},updateChannel:function(e){_i_("269:9835af2b");var t=encodeURIComponent(e.shorturl);this.channel.uri&&(this.channel.uri=this.channel.uri.replace(this.placeholder,t)),this.channel.shorturl=e.shorturl,this.$el.attr("href")&&this.$el.attr("href",this.channel.shorturl),this.channel.ready=!0,_r_()},startAction:function(){_i_("269:e5c31642"),this[this.channel.action].call(this),this.trackShareSuccess(),_r_()},openURI:function(){_i_("269:08fb600c"),this.channel.uri&&(this.onBeforeURIOpen(),window.location.href=this.channel.uri),_r_()},openWindow:function(){_i_("269:cf6270ed"),this.channel.uri&&window.open(this.channel.uri),_r_()},openSMS:function(){_i_("269:5afbe49d"),this.openURI(),_r_()},openWhatsapp:function(){_i_("269:5afbe49d1"),this.openURI(),_r_()},copyText:function(){_i_("269:a9affbe9"),a.copyText(this.channel.shorturl,this.onCopySuccess.bind(this),this.onCopyError.bind(this)),_r_()},copyTimeoutId:null,onCopySuccess:function(){_i_("269:dd7b1ebf"),this.setSuccessState(),clearTimeout(this.copyTimeoutId),this.copyTimeoutId=setTimeout(function(){_i_("269:606a9b1e"),this.removeSuccessState(),_r_()}.bind(this),4e3),_r_()},onCopyError:function(){},onBeforeURIOpen:function(){}}),_r_()}),B.define("component/sharing/share-center/share-center",function(e,t,i){"use strict";_i_("269:c27908fe");var n=e("jquery"),r=e("et"),a=e("component/sharing/utils/short-url"),o=e("component/sharing/utils/copy"),s=e("component"),_=e("querystring"),l=e("trap-focus"),c=(r=e("et"),"OTfdASFYTSUaRQMeBYaebCNZeOBO");i.exports=s.extend({_popup:null,shortCopyUrl:null,rafAdvocateData:null,init:function(){_i_("269:886d13ba"),this.$el.on("click keypress",".share_center_button_icon, .close",this.onPopupBtnClick.bind(this)),this.$el.on("click",".share_center_url",this.onCopyInputClick.bind(this)),this.$el.on("blur",".share_center_url",this.onCopyInputBlur.bind(this)),this.$el.on("click",".out_link a",this.onSocialLinkClick.bind(this)),this.$el.on("click",".share_center_copy_cta",this.onCopyCTAClick.bind(this)),this.copyConfirmationTimeoutId=null,_r_()},trackShareSuccess:function(){_i_("269:6b0713131"),r.goal("web_share_dialog_succeed"),_r_()},trackShareError:function(){_i_("269:4b28efb61"),r.goal("web_share_dialog_failed"),_r_()},onCopyCTAClick:function(e){if(_i_("269:0dfaa461"),e.preventDefault(),!this.shortCopyUrl)return _r_();o.copyText(this.shortCopyUrl,this.onCopySuccess.bind(this),this.onCopyError.bind(this)),this.trackShareSuccess(),_r_()},onCopySuccess:function(){_i_("269:2f3d19a0");var e=this.$el.find(".share_center_copy_cta");e.addClass("share_center_copy_cta--copied"),this.$el.find(".share_center_url_input").focus().select(),clearTimeout(this.copyConfirmationTimeoutId),this.copyConfirmationTimeoutId=setTimeout(function(){_i_("269:4801c82a"),e.removeClass("share_center_copy_cta--copied"),_r_()}.bind(this),4e3),_r_()},onCopyError:function(){_i_("269:2f1466be"),this.$el.find(".share_center_url_input").focus().select(),_r_()},onCopyInputClick:function(e){_i_("269:2df0cf78"),e.currentTarget.select(),n(".copy_hint",n(e.currentTarget).closest(".share_center")).fadeIn("fast"),this.trackShareSuccess(),_r_()},onCopyInputBlur:function(e){_i_("269:004f5d27"),n(".share_center .copy_hint",e.currentTarget).fadeOut("fast"),_r_()},onSocialLinkClick:function(e){_i_("269:6ab8cd0a"),e.preventDefault();var t=e.currentTarget.getAttribute("href");window.open(t,"sc_share","menubar=0,resizable=1,width=600,height=400"),this.trackSocialLinkClick(e.currentTarget.getAttribute("data-channel")),_r_()},trackSocialLinkClick:function(e){_i_("269:5ca85a30"),this.trackShareSuccess(),_r_()},onPopupBtnClick:function(e){_i_("269:51ba2e16"),this.isPopupOpen()?(1===r.track(c)&&this._isItACloseAction(e.target)&&l.release(!1),this.hidePopup()):this.showPopup(),_r_()},isPopupOpen:function(){return _i_("269:695e5725"),_r_(this._popup&&this._popup.hasClass("open"))},_isItACloseAction:function(e){return _i_("269:67e1ef3b"),_r_(e.classList.contains("close"))},showPopup:function(){_i_("269:b7cccae6");var e=n(".share_center_button_icon");e.removeClass("open"),this._popup||(this._popup=this.createPopup(),this.$el.append(this._popup).loadComponents()),this.generateCopyLink(),this.isPopupOpen()||(this._popup.addClass("open"),1===r.track(c)&&(setTimeout(function(){_i_("269:5c7cabb2"),n(".sc_facebook a").focus(),_r_()},100),l.trap(this._popup.get(0),e.get(0)))),this.$el&&this.$el.attr("aria-expanded","true");var t=this._popup.find(".inner");t.length&&(t.focus(),this.$el.on("keydown",this.handleKeys.bind(this))),_r_()},hidePopup:function(){_i_("269:d8f70265"),this._popup.removeClass("open"),this.$el&&(this.$el.focus(),this.$el.attr("aria-expanded","false")),this.$el.unbind("keydown"),_r_()},handleKeys:function(e){switch(_i_("269:a26c3e86"),e.keyCode){case 27:this.hidePopup();break;default:return _r_()}_r_()},createSocialLink:function(e,t){_i_("269:67318c5d");var i=this.$el.data(e),n=window.location.href,r=_.parseUrl(window.location.href);return r&&r.query&&(r.query.aid=a.DESKTOP_AID,n=r.base+"?"+_.stringify(r.query)),_r_(i.replace(/DATA/,encodeURIComponent(n)))},createPopup:function(){return _i_("269:5ea88dbb"),_r_(n(B.jstmpl("shareCenterPopup").render({b_hotel_image_url:this.$el.data("hotel-image-url"),b_facebook_url:this.createSocialLink("facebook-url","facebook"),b_twitter_url:this.createSocialLink("twitter-url","twitter"),b_hotel_name:this.$el.data("hotel-name"),b_reg_user_id:this.$el.data("user-id"),b_raf_url:B.env.b_secure_domain+"/myreferrals"+B.env.b_query_params_with_lang,b_companyname:B.env.b_companyname})))},generateCopyLink:function(){if(_i_("269:2b53250e"),this.shortCopyUrl)return _r_();a.generate({longUrl:window.location.href,channelName:"copy",aid:this.rafAdvocateData?a.RAF_AID:a.DESKTOP_AID,rafAdvocateData:JSON.stringify(this.rafAdvocateData)}).done(function(e){_i_("269:15ce04f9"),this.shortCopyUrl=e.shorturl,this.setCopyReadyState(this.shortCopyUrl),_r_()}.bind(this)).fail(function(){_i_("269:2344cd9c"),this.trackShareError(),_r_()}.bind(this)),_r_()},setCopyReadyState:function(e){_i_("269:467b7284"),this.$el.find(".share_center_url_top").text(e),this.$el.find(".share_center_url").val(e);var t=this.$el.find(".share_center_copy_cta");t.removeClass("share_center_copy_cta--disabled"),t.css("min-width",Math.max(112,t.outerWidth())),_r_()}}),_r_()}),booking.jstmpl("shareCenterPopup",function(){_i_("269:587b5851");var n,r=['\n\n    <div class="share_center_popup top_pointer">\n        <div class="inner" tabindex="0" id="hotel-share_center" role="region" aria-labelledby="share_center_label">\n            <ul class="share_links share_links_with_top_margin">\n                <li class="sc_facebook out_link">\n                    <a href="','" data-channel="facebook" target="_blank" tabindex="0">\n                        ',"bui__share_center_icon","32","sprite/share_center_facebook","\n                        ","/private/share_social_facebook/name",'\n                    </a>\n                </li>\n                <li class="sc_twitter out_link">\n                    <a href="','" data-channel="twitter" target="_blank" tabindex="0">\n                        ',"sprite/share_center_twitter","/private/share_social_twitter/name",'\n                    </a>\n                </li>\n            </ul>\n            <hr />\n            <div class="form_substitute share_center_copy_form">\n                <label class="share_center_copy_label">',"/private/share_social_link/name",'</label>\n                <input type="text" class="share_center_url share_center_url_input" value="" disabled/>\n                <button class="b-button b-button_primary share_center_copy_cta share_center_copy_cta--disabled">\n                    <span class="share_center_copy_message">\n                        ',"/private/desktop_cdm_share_copy_link/name",'\n                    </span>\n                    <span class="share_center_copied_message">\n                        ',"/private/desktop_cdm_share_copied/name",'\n                    </span>\n                </button>\n            </div>\n            <hr />\n        </div>\n        <a href="#" class="close" tabindex="0" aria-label="',"/private/a11y_close_banner_share/name",'">&times;</a>\n    </div>\n'],a=["b_facebook_url","b_twitter_url"];return _r_(function(e){_i_("269:440c195b");var t="",i=this.fn;return t+=[r[0],i.MC(a[0]),r[1],(e.unshift({class:r[2],height:r[3],name:r[4],width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[5],i.ME(r[6],i.MB,i.MN,null),r[7],i.MC(a[1]),r[8],(e.unshift({class:r[2],height:r[3],name:r[9],width:r[3]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[5],i.ME(r[10],i.MB,i.MN,null),r[11],i.ME(r[12],i.MB,i.MN,null),r[13],i.ME(r[14],i.MB,i.MN,null),r[15],i.ME(r[16],i.MB,i.MN,null),r[17],i.ME(r[18],i.MB,i.MN,null),r[19]].join(""),_r_(t)})}()),B.define("utils",function(e,t,i){_i_("269:1ae1366f"),t.assertExists=function(e,t){if(_i_("269:9d42554a"),"object"!=typeof e||!(t in e))throw new Error("Property "+t+" is not found");_r_()},t.camelCaseKeys=function(e){_i_("269:dbbbdfa4");var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t.replace(/-([a-zA-Z])/g,function(e,t){return _i_("269:aefe3784"),_r_(t.toUpperCase())})]=e[t]);return _r_(i)},t.nodeData=function(e){_i_("269:c0d6317e"),e.jquery&&(e=e[0]),this.assertExists(e,"attributes");var t,i,n,r={};for(t=0,i=e.attributes.length;t<i;t++)(n=e.attributes[t])&&0==n.name.indexOf("data-")&&(r[n.name.replace(/^data-/,"")]=n.value);return _r_(this.camelCaseKeys(r))},_r_()}),B.define("component/utils/jump-to",function(e,t,i){"use strict";_i_("269:35604af8");var n=e("component"),r=e("utils");i.exports=n.extend({init:function(){_i_("269:1b384fe7"),this.options=r.nodeData(this.el),this.$el.on("click",function(e){_i_("269:4aab25da");var t=$("html, body"),i=$(this.options.afterJump),n=$(this.options.jumpTo),r=this.options.afterJumpAction||"click";if(!n.length)return _r_();if(e.preventDefault(),n=n.eq(0),t.stop().animate({scrollTop:n.offset().top+"px"},this.options.jumpToDuration||"fast"),!i.length)return _r_();i.trigger(r),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("component/reviews/review-best-score",function(e,t,i){_i_("269:3a1c327b");var n=e("component"),r=e("crosstab"),a="mtv_cnd_d_hp_best_review_seen_event";i.exports=n.extend({init:function(){_i_("269:477b97a4"),this.initData(),this.initCrossTabEvents(),this.updateVisibility(),_r_()},initData:function(){_i_("269:8c1d9d32"),this.hotelId=this.$el.data("current-hotel-id"),this.bestId=this.$el.data("best-hotel-id"),this.ufi=this.$el.data("ufi"),_r_()},initCrossTabEvents:function(){_i_("269:086f50cd"),r.on(a,this.handleCrosstabEvent.bind(this)),r.emitStorageEvent(a,{ufi:this.ufi,bestId:this.bestId}),_r_()},updateVisibility:function(){_i_("269:96b08285");this.$el.toggleClass("review_list_best_review_message__hidden",this.hotelId!==this.bestId),_r_()},handleCrosstabEvent:function(e){_i_("269:981bbc35");var t=e.payload;if(t.ufi!==this.ufi)return _r_();this.bestId=t.bestId,this.updateVisibility(),_r_()}}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:3504f6ed");var s=e("jquery");!function(){_i_("269:316737ed");var r,i=s("#rooms_table"),a=function(e){_i_("269:5634a07e");var t=s("a[href]:visible, area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]):visible, iframe, object, embed, *[tabindex], *[contenteditable]");return _r_(e.find(t))}(i),o=i.find(".bookNowWrap").find(".js-rt__summary__reserve-button");!function(){_i_("269:21639681");var e=i.find("select.b_room_selectbox"),t=i.find(".roomType");o.before('<span class="rt-focus-catcher button-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),o.after('<span class="rt-focus-catcher button-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),e.each(function(){_i_("269:596bd8f0"),s(this).after('<span class="rt-focus-catcher select-focus-catcher next-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),_r_()}),t.each(function(){_i_("269:38acff0d"),s(this).find("a.js-track-hp-rt-room-name").before('<span class="rt-focus-catcher title-focus-catcher prev-catcher" tabindex="0" style="width: 100%; height: 1px; width: 100%; display: block;"></span>'),_r_()}),_r_()}(),_i_("269:f59f971e"),s(".rt-focus-catcher").on("focus",function(e){_i_("269:edeb5941"),e.preventDefault();var t=s(this);switch(!0){case t.hasClass("select-focus-catcher"):o.focus(),r=t.prev();break;case t.hasClass("button-focus-catcher"):if(t.hasClass("prev-catcher")&&r&&r.focus(),t.hasClass("next-catcher")){var i=a.index(r);a[i+1].focus()}break;case t.hasClass("title-focus-catcher"):var n=a.index(t.next());o.focus(),r=a[n-1]}_r_()}),_r_(),_r_()}(),_r_()}),B.define("searchresults/filters",function(n,r,e){function a(e,t){if(_i_("269:f5fe7d6f"),void 0===t){var i=e.split("-");this.id=e,e=i[0],t=i.slice(1).join("-")}else this.id=e+"-"+t;this.name=e,this.value=t,_r_()}function t(e){_i_("269:741fa2ee"),this.filters=e||{},_r_()}_i_("269:1728b511"),r.Filter=a,t.prototype.clone=function(){return _i_("269:c5e56a57"),_r_(new t(Object.assign({},this.filters)))},t.prototype.difference=function(e){_i_("269:db8c53d1");var t=function(t,e){return _i_("269:310faee4"),_r_(e.filter(function(e){return _i_("269:940fffef"),_r_(!(e.id in t))}))};return _r_({added:t(this.filters,e.toArray()),removed:t(e.filters,this.toArray())})},t.prototype.addFilter=function(e,t){_i_("269:448f7f43");var i=new a(e,t),n=$("#filterbox_wrap [data-id='"+e+"-"+t+"']:first");n.length&&(i.description=n.find(".filter_label").text().trim()),this.filters[i.id]=i,_r_()},t.prototype.removeFilter=function(e,t){_i_("269:6aacad14");var i=new a(e,t);delete this.filters[i.id],_r_()},t.prototype.removeFiltersByName=function(e){if(_i_("269:5bc61931"),!e)return _r_();var t=this.filters;this.getByName(e).forEach(function(e){_i_("269:fe407ebd"),delete t[e.id],_r_()}),_r_()},t.prototype.toString=function(){_i_("269:c72fdb40");var i=this,e=Object.keys(this.filters).map(function(e){_i_("269:81a7deaf");var t=i.filters[e];return _r_(t.name+"="+t.value)}).join(";");return _r_(e?e+";":e)},t.prototype.getCount=function(){return _i_("269:76f811e2"),_r_(Object.keys(this.filters).length)},t.prototype.toArray=function(){_i_("269:1ad337f1");var t=[],i=this.filters;return Object.keys(i).forEach(function(e){_i_("269:d7911f30"),t.push(i[e]),_r_()}),_r_(t)},t.prototype.getByName=function(e){_i_("269:fea93e95");var n=this.filters,t=Object.keys(n).reduce(function(e,t){_i_("269:9e0f39ec");var i=n[t];return e[i.name]||(e[i.name]=[]),e[i.name].push(i),_r_(e)},{});return _r_(e?t[e]||[]:t)},r.FilterCollection=t,r.parse=function(e){_i_("269:6bee21cf"),Array.isArray(e)&&(e=e[0]);var i=new t;return e&&e.split(";").forEach(function(e){if(_i_("269:f87b1019"),e){var t=e.split("=");i.addFilter(t[0],t[1])}_r_()}),_r_(i)},r.getInstance=function(e){_i_("269:d62b60b7");var t=void 0===e?n("searchresults/env").get("b_selected_nflt_url_param_decoded"):e,i=r.parse(t);return _r_(i)},_r_()}),B.when({events:"ready",condition:B.env.b_exp_a11y_sb_accessible_facilities}).run(function(e){_i_("269:94728091");var r=B.env.b_exp_a11y_sb_accessible_facilities,a=e("jquery"),i=e("searchresults/filters"),o="form.sb-searchbox";function s(e){_i_("269:4e665890");var t=i.parse(e.val().trim());this.prop("checked")?(t.addFilter("hotelfacility","25"),B.Search.tracker.trackEvent("accessibility_checkbox_checked_v"+r)):(t.removeFilter("hotelfacility","25"),B.Search.tracker.trackEvent("accessibility_checkbox_unchecked_v"+r)),e.val(t.toString()),_r_()}a(o).each(function(){_i_("269:b5657653");var e=a(this).find("input[name=sb_accessible_facilities]"),t=e.closest(o),i=t.find('input[name="nflt"]');if(!e.length||!i.length)return _r_();if(t.on("submit",function(e){_i_("269:96bc224f"),e.prop("checked")?B.Search.tracker.trackEvent("accessibility_search_with_filter_v"+r):B.Search.tracker.trackEvent("accessibility_search_without_filter_v"+r);_r_()}.bind(t,e)),e.on("change.a11y_af",s.bind(e,i)),2===r||"2"===r){var n=a(this).find(".js-a11y-sb-accessible-facilities-tooltip");n.on("mouseenter",function(e){_i_("269:13e7f1d9"),B.Search.tracker.trackEvent("accessibility_tooltip_icon_hovered"),B.et.customGoal(e,3),_r_()}.bind(n,"OTfdASFbLYdKQNQFaIDJNMTKe")),n.on("click",function(){_i_("269:8481e58e"),B.Search.tracker.trackEvent("accessibility_tooltip_icon_clicked"),_r_()}.bind(n))}s.call(e,i),_r_()}),_r_()}),booking.jstmpl("b_hp_rm_cinema_room_gallery",function(){_i_("269:775f7ba3");var s=['\n    <div class="cinema_room_gallery__wrapper hidden">\n        <div class="cinema_room_gallery__header">\n            <button data-js-cinema-btn-close class="cinema_room_gallery__btn-close" type="button">×</button>\n            <h3 class="cinema_room_gallery__name">','</h3>\n        </div>\n        <div class="cinema_room_gallery__body">\n            <button data-js-cinema-btn-prev\n                    class="cinema_room_gallery__btn-prev"\n                    type="button"></button>\n            <div class="cinema_room_gallery__main-img-wrapper">\n                ','\n                    <img data-width="','"\n                         data-height="','"\n                         data-js-cinema-main\n                         data-js-index="','"\n                         class="cinema_room_gallery__main-img hidden"\n                         src="','"/>\n                ','\n            </div>\n            <button data-js-cinema-btn-next\n                    class="cinema_room_gallery__btn-next"\n                    type="button"></button>\n        </div>\n        <div data-js-cinema-footer class="cinema_room_gallery__footer">\n            <div data-js-cinema-thumbwrapper class="cinema_room_gallery__thumb-wrapper">\n                ','\n                    <img class="cinema_room_gallery__thumb-img"\n                         data-js-cinema-thumb\n                         data-js-index="','"\n                         src="',"\n            </div>\n        </div>\n    </div>\n"],_=["name","photos","null"];return _r_(function(e){_i_("269:c7f55de8");var t="",i=this.fn;t+=[s[0],i.MC(_[0]),s[1]].join("");var n=i.MC(_[1])||[];e.unshift({photo:null});for(var r=1,a=n.length;r<=a;r++)e[0].photo=o=n[r-1],t+=[s[2],(o||{}).b_dimension_width_max1024x768,s[3],(o||{}).b_dimension_height_max1024x768,s[4],i.F.entities(r),s[5],i.STATIC_HOSTNAME(i.MB(_[2]),0,0,0),(o||{}).b_uri_max1024x768,s[6]].join("");e.shift(),t+=s[7];n=i.MC(_[1])||[];e.unshift({photo:null});var o;for(r=1,a=n.length;r<=a;r++)e[0].photo=o=n[r-1],t+=[s[8],i.F.entities(r),s[9],i.STATIC_HOSTNAME(i.MB(_[2]),0,0,0),(o||{}).b_uri_max200,s[6]].join("");return e.shift(),t+=s[10],_r_(t)})}()),B.when({action:"hotel",events:"ready"}).run(function(n){_i_("269:60bc72be"),window.setTimeout(function(){_i_("269:80a5a09f");var e="BUcJPPBASMffaAJYeCIObTae",f=n("jquery"),t=n("et"),i=n("jstmpl");if(!t&&!t.track(e))return _r_();({$container:f("<div data-js-cinema-root>"),triggerer:"[data-js-cinema-room-id]",mainImage:"[data-js-cinema-main]",thumbImage:"[data-js-cinema-thumb]",btnNext:"[data-js-cinema-btn-next]",btnPrev:"[data-js-cinema-btn-prev]",btnClose:"[data-js-cinema-btn-close]",footer:"[data-js-cinema-footer]",thumbWrapper:"[data-js-cinema-thumbwrapper]",errorImage:"//r-cf.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",errorThumb:"//r-cf.bstatic.com/static/img/experiments/cinematic_room_error/da188a3c4d69dd1e048608284d1fa0cf6717efe7.png",activeRoom:0,activeImgIdx:0,activeClass:"active",hideClass:"hidden",isOpened:!1,template:i("b_hp_rm_cinema_room_gallery"),cache:{},room:B.env.b_cinematic_room_gallery_data||{},currentThumb:null,currentMain:null,albumLength:0,isRtl:f("body").hasClass("lang_is_rtl"),getGallery:function(){return _i_("269:2d1e3bc0"),_r_(this.cache[this.activeRoom])},init:function(){_i_("269:4c2694b0"),f("body").append(this.$container),this.bindEvents(),_r_()},bindEvents:function(){_i_("269:6f5e8eed"),f("body").delegate(this.triggerer,"click",f.proxy(this.roomClick,this)),_r_()},render:function(){_i_("269:578086e7");var e=this.room[this.activeRoom];if(e&&e.photos&&0<e.photos.length){var t=this.template.render(e);this.cache[this.activeRoom]=f(t),this.$container.append(this.getGallery()),this.getGallery().find("img").bind("error.loadingImage",f.proxy(this.handleImageError,this)),this.open()}_r_()},open:function(){_i_("269:98213644"),this.isOpened=!0,this.currentThumb=this.getGallery().find(this.thumbImage),this.currentMain=this.getGallery().find(this.mainImage),this.albumLength=this.currentMain.length,this.getGallery().removeClass(this.hideClass),this.goIndex(0),this.toggleEventBinding(!0),t.stage(e,1),_r_()},close:function(){for(var e in _i_("269:099fb0b6"),this.cache)this.cache.hasOwnProperty(e)&&this.cache[e].addClass(this.hideClass);this.isOpened=!1,this.toggleEventBinding(!1),_r_()},goNext:function(){_i_("269:2a6fb8bc");var e=0;this.activeImgIdx+1==this.albumLength?e=0:this.activeImgIdx+1<this.albumLength&&(e=this.activeImgIdx+1),this.goIndex(e),_r_()},goPrev:function(){_i_("269:d3d95c99");var e=0;0==this.activeImgIdx?e=this.albumLength-1:0<this.activeImgIdx&&(e=this.activeImgIdx-1),this.goIndex(e),_r_()},goIndex:function(e){_i_("269:6e94dbc6"),this.currentThumb.removeClass(this.activeClass),this.currentThumb.eq(e).addClass(this.activeClass),this.currentMain.addClass(this.hideClass),this.currentMain.eq(e).removeClass(this.hideClass),this.activeImgIdx=e,this.adjustThumbs(),_r_()},roomClick:function(e){_i_("269:e45e0868"),e.preventDefault(),this.activeRoom=f(e.target).data("js-cinema-room-id"),this.getGallery()?this.open():this.render(),_r_()},thumbClick:function(e){_i_("269:24b46772"),e.preventDefault(),this.goIndex(f(e.target).data("js-index")-1),_r_()},handleImageError:function(e){_i_("269:933fb6bb");var t=f(e.target);t.unbind("error.loadingImage"),t.addClass("error"),t.hasClass("cinema_room_gallery__main-img")?t.attr("src",this.errorImage):t.attr("src",this.errorThumb),_r_()},adjustThumbs:function(){_i_("269:9e3ceff0");var e=this.getGallery().find(this.footer),t=e.find(this.thumbWrapper),i=Math.floor(t.width()),n=Math.floor(e.width());if(i<=n)return _r_();var r={},a=f(window).width(),o=this.currentThumb.eq(this.activeImgIdx),s=this.currentThumb.last(),_=i-n+Math.floor(s.width()),l=Math.floor(o.width());if(this.isRtl)var c=Math.floor(a-(o.offset().left+l)),h=Math.floor(a-(t.offset().left+i));else c=Math.floor(o.offset().left),h=Math.floor(t.offset().left);var d=(c-h)/i;r[this.isRtl?"margin-right":"margin-left"]=-Math.floor(_*d)+"px",f(this.thumbWrapper).stop().animate(r,"fast"),_r_()},handleKeyboard:function(e){if(_i_("269:e4179100"),!this.isOpened)return _r_();switch(e.which||e.keyCode){case 27:this.close();break;case 37:this.isRtl?this.goNext():this.goPrev();break;case 39:this.isRtl?this.goPrev():this.goNext();break;default:return _r_()}_r_()},handleResize:function(){_i_("269:6a1f0a73"),this.isOpened&&this.adjustThumbs(),_r_()},toggleEventBinding:function(e){_i_("269:7553fda8"),e?(this.$container.delegate(this.thumbImage,"click.cinemaGalleryThumb",f.proxy(this.thumbClick,this)),this.$container.delegate(this.btnClose,"click.cinemaGalleryClose",f.proxy(this.close,this)),this.$container.delegate(this.btnNext,"click.cinemaGalleryNext",f.proxy(this.goNext,this)),this.$container.delegate(this.btnPrev,"click.cinemaGalleryPrev",f.proxy(this.goPrev,this)),f(document).bind("keydown.cinemaGalleryKeys",f.proxy(this.handleKeyboard,this)),f(window).bind("resize.cinemaGalleryResize",f.proxy(this.handleResize,this))):(this.$container.undelegate(this.thumbImage,"click.cinemaGalleryThumb"),this.$container.undelegate(this.btnClose,"click.cinemaGalleryClose"),this.$container.undelegate(this.btnNext,"click.cinemaGalleryNext"),this.$container.undelegate(this.btnPrev,"click.cinemaGalleryPrev"),f(document).unbind("keydown.cinemaGalleryKeys"),f(window).unbind("resize.cinemaGalleryResize")),_r_()}}).init(),_r_()},1),_r_()}),B.require(["jquery","et"],function(e,i){_i_("269:7c5ed3c6");B.events.on(B.hotel.Events.RT.LIGHTBOX_OPEN,function(e,t){_i_("269:b46e06ff"),t.find(".js_hp_rt_lightbox_room_desc").data("autogen-no-trans")&&i.stage("BUTOQbdMZEQDILSObIWe",2),_r_()}),_r_()}),B.define("component/core/ticker",function(e,t,i){_i_("269:5e4a5d26");var n=e("component");i.exports=n.extend({init:function(){_i_("269:f59f77fa");var e=this.$el.data("ticker-animation-delay")||5e3,t=this.$el.data("ticker-animation-time")||600,i=this.$el.data("ticker-stop-after-iterations")||NaN,n=this.$el.data("ticker-start-immediately");this.timeoutId=null,this.current_message=0,this.iterationIndex=0,this.options={animationDelay:e,animationTime:t,iterations:i,startImmediately:n},this.startImmediately()&&this.startTicker(),_r_()},startTicker:function(){_i_("269:dc682c59");var e=this,t=this.$el.find("li"),i=e.options.iterations*t.length;1<t.length&&(e.timeoutId=setTimeout(function(){_i_("269:b187537a"),e.animateListTicker(e,t,i),_r_()},e.options.animationDelay)),_r_()},animateListTicker:function(e,t,i){_i_("269:e8ba15cd"),(e.iterationIndex<i||e.isAlwaysAnimated())&&(e.current_message=(e.current_message+1)%t.length,t.fadeOut(e.options.animationTime),setTimeout(function(){_i_("269:439871f3"),t.eq(e.current_message).fadeIn(e.options.animationTime),_r_()},e.options.animationTime),e.timeoutId=setTimeout(function(){_i_("269:b187537a1"),e.animateListTicker(e,t,i),_r_()},e.options.animationDelay),e.iterationIndex++),_r_()},pauseTicker:function(){_i_("269:805eab12"),clearTimeout(this.timeoutId),this.timeoutId=null,_r_()},resetTicker:function(){_i_("269:6ab6f10d"),this.pauseTicker(),this.$el.find("li").hide().first().show(),this.current_message=0,this.iterationIndex=0,_r_()},isAlwaysAnimated:function(){return _i_("269:3e59925f"),_r_(isNaN(this.options.iterations))},startImmediately:function(){return _i_("269:d7a1a09c"),_r_(0!=this.options.startImmediately)}}),_r_()}),B.define("component/cinematic-gallery/photo",function(e,t,i){"use strict";_i_("269:7f53e87f");var n=e("jquery"),r=e("component");i.exports=r.extend({init:function(){_i_("269:05f711dc"),this.ratioMap={"1x1":1,"3x2":1.5,"4x3":1.333,"8x5":1.666,"16x9":1.778},this.wrapper=n(this.el),this.inner=n(this.el).find(".cinematic-g__photo__inner"),this.image=n(this.el).find(".cinematic-g__photo__main"),this.fit=this.inner.data("js-fit")||!1,this.ratio=this.inner.data("js-ratio")||!1,this.errorClass="cinematic-g__photo--error",this.successClass="cinematic-g__photo--success",this.fitWidthClass="cinematic-g__photo--width",this.fitHeightClass="cinematic-g__photo--height",!this.fit&&this.ratio&&(this.fit="zoom"),this.addEventListeners(),this.isImageLoaded()&&this.onImgSuccess(),_r_()},isImageLoaded:function(){return _i_("269:9af3b623"),_r_(this.image[0].naturalWidth&&0<this.image[0].naturalWidth)},getRatioData:function(){_i_("269:7ef001b3"),this.imgRatio=(this.image[0].naturalWidth||0)/(this.image[0].naturalHeight||1),this.innerRatio=!!this.ratio&&this.ratioMap[this.ratio],_r_()},onImgSuccess:function(){_i_("269:0fc1fd06"),this.inner.removeClass(this.errorClass),this.inner.addClass(this.successClass),this.setImageFit(),_r_()},onImgError:function(){_i_("269:0c69b242"),this.inner.removeClass(this.successClass),this.inner.addClass(this.errorClass),_r_()},setImageFit:function(){_i_("269:36a5a05d"),this.getRatioData(),this.fit&&"zoom"===this.fit&&this.inner.addClass(this.imgRatio>=this.innerRatio?this.fitHeightClass:this.fitWidthClass),this.fit&&"auto"===this.fit&&this.inner.addClass(this.imgRatio<this.innerRatio?this.fitHeightClass:this.fitWidthClass),_r_()},addEventListeners:function(){_i_("269:047ab9d4"),this.image.on("error",n.proxy(this.onImgError,this)),this.image.on("load",n.proxy(this.onImgSuccess,this)),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(){_i_("269:aa4bbec0");var e=window&&window.devicePixelRatio?window.devicePixelRatio:1;var t="AENYeCIObTEcQSBONNIBEfMdeLAGO";e<=1&&B.et.stage(t,1),(1<e||B.et.track(t))&&function(){_i_("269:0ad120ee");var e=$("div.hp-gallery-container .slick-slide img");$.each(e,function(e){_i_("269:89e27632");var t=$(this),i=t.data("highres"),n=new Image;i&&(n.onload=function(){_i_("269:4eb521d6"),t.attr("src")?t.attr("src",i):t.data("lazy")&&t.attr("data-lazy",i),_r_()},n.src=i),_r_()}),_r_()}(),_r_()}),B.when({events:"ready"}).require([],function(){_i_("269:7e4e5e8a"),B.env.track_wpx_tech_exp_name&&(B.et.stage(B.env.track_wpx_tech_exp_name,B.env.track_wpx_tech_exp_name_stage),B.et.stage(B.env.track_wpx_tech_exp_name,7)),_r_()}),B.when({action:"hotel",events:"load",experiment:"BUafVKdBYOWIBTUbERVHe"}).run(function(){_i_("269:54689311"),$(document).ready(function(){_i_("269:8b604b29");var e=$(".hp_nav_bar_wrapper"),t=e.parent(),i=$(".hp_nav_bar_wrapper_placeholder");e.css("width",t.width()+"px");var n=e.outerHeight(!0)+"px";$(window).scroll(function(){_i_("269:e4f434c0"),!e.hasClass("hp_nav_bar_fixed")&&$(window).scrollTop()>=t.offset().top?(i.css("height",n),e.addClass("hp_nav_bar_fixed")):e.hasClass("hp_nav_bar_fixed")&&$(window).scrollTop()<t.offset().top&&(e.removeClass("hp_nav_bar_fixed"),i.css("height","")),_r_()}),_r_()}),_r_()}),B.when({events:"load",condition:B.env.b_has_valid_dates&&!B.env.b_hotel_blocks,action:"hotel"}).run(function(e){_i_("269:b73dac07");var t=e("jquery");t(".show_more").show(),t(".show_more").click(function(){_i_("269:fd8939e4"),t(this).hide(),t(".other_availability").addClass("active"),_r_()}),_r_()}),B.when({events:"load",condition:B.env.b_has_valid_dates&&!B.env.b_hotel_blocks&&B.env.b_search_config,action:"hotel"}).run(function(e){_i_("269:c5333252");var t=e("jquery"),i=B.require("fragment"),n=t(".js-pob-list-av");(function(){if(_i_("269:3a7230e4"),!(B.env.b_hotel_id&&B.env.b_checkin_date&&B.env.b_checkout_date&&B.env.b_search_config))return _r_(Promise.reject(new Error("[WARN] Not loading AV data cause no valid params found for fragment call")));var t=B.env.b_hotel_id,e={hid:t,checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date,search_config:B.env.b_search_config,simpleav:1,src:"hp_flex_dates"};return _r_(i.call("searchresults.restricted_availability",e).then(function(e){if(_i_("269:8282cb95"),!e[t])return _r_(Promise.reject(new Error("[WARN] No available dates found for the hotel: "+t)));return _r_(e[t])}))})().then(function(e){if(_i_("269:e0f0d9bd"),!e)return _r_(Promise.reject(new Error("[WARN] got no data in appendDataToThePage")));var t=B.jstmpl("pob_availability_list").render({dates:e.dates,hp_url_no_dates:e.hp_url_no_dates});n.html(t),_r_()}).then(function(){_i_("269:7653cff9");var e=n.find(".js-pob-show_more-btn");e.show(),e.on("click",function(){_i_("269:a05c2706"),e.hide(),n.find(".js-pob-other_availability").addClass("active"),_r_()}),_r_()}).catch(function(e){_i_("269:bd9479be"),n.hide(),_r_()}),_r_()}),booking.jstmpl("pob_availability_list",function(){_i_("269:a02e98da");var o,s=["\n  ","\n\n",'\n    <hr>\n\n    <h4 class="other_dates">',"/private/hp_sold_out_no_pobs_dates_with_avail/name","</h4>\n    ","\n        ","<span>","</span>",'\n        <div class="other_availability js-pob-other_availability ',"active",'">\n            <div class="availability_dates">\n                <a href="',"",'" class="js-pob-availability_date-item_link">\n                    '," - ",'\n                </a>\n            </div>\n            <div class="availability_price">\n                <p>',"/private/hp_sold_out_no_pobs_x_nights_from/name","</p>\n            </div>\n        </div>\n    ","\n\n    ",'\n        <div>\n            <p class="show_more js-pob-show_more-btn">',"/private/hp_sold_out_no_pobs_show_more/name",' <i class="bicon-downchevron"></i></p>\n        </div>\n    ',"\n"],_=["dates","av_length","los","av_price","price_pretty","sr_url_hh","checkin","checkout","hp_url_no_dates"];return _r_(function(r){_i_("269:8e885e2f");var e="",a=this.fn;return e+=s[0],r.unshift({dates:a.MB(_[0]),hp_url_no_dates:a.MB(_[8])}),e=function(e){if(_i_("269:57b5e1d2"),e+=["",s[1]].join(""),a.MJ(a.array_length(a.MB(_[0])))){e+=[s[2],a.ME(s[3],a.MB,a.MN,null),s[4]].join("");var t=a.MC(_[0])||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=s[5],a.MN(_[1],a.MB(_[2])),e+=s[5],a.MN(_[3],[s[6],a.MB(_[4]),s[7]].join("")),e+=s[8],a.MJ(i<=5)&&(e+=s[9]),e+=s[10],e+=[s[11],a.F.entities(a.MB(_[5])),s[11]].join(""),e+=[s[12],a.DATE(a.MB(_[6]),"short_date_with_weekday","","",""),s[13],a.DATE(a.MB(_[7]),"short_date_with_weekday","","",""),s[14],(r.unshift({num_nights:a.MB(_[1]),price:a.MB(_[3])}),o=a.ME(s[15],a.MB,a.MN,a.MO(a.MC(_[1]),null,s[15])),r.shift(),o),s[16]].join("");r.shift(),e+=s[17],a.MJ(4<a.array_length(a.MB(_[0])))&&(e+=[s[18],a.ME(s[19],a.MB,a.MN,null),s[20]].join("")),e+=s[1]}return e+=[s[1],"",s[21]].join(""),_r_(e)}(e),r.shift(),e+=s[21],_r_(e)})}()),B.define("component/hotel/new-rooms-table/reservation-column/pob-message",function(e,t,i){_i_("269:461bb3bc"),booking.jstmpl("pob_message_bui_template",function(){_i_("269:ea0e6197");var n,r=['\n      <div class="',"bui-alert bui-alert--error bui-alert--large bui-u-bleed@small bui-pob--message ",'"\n      role="status"\n      >\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"/private/pob_sr_header_full/name",'\n            </p>\n            <a class="bui-link bui-link--primary js-hprt-pob-message_cta"\n            href="','">\n              ',"\n                ","/private/pb_ss_hp_banner_view_booking_cta/name","\n              ","/private/pb_ss_options_on_hp_view_upcoming_bookings_cta/name","\n            </a>\n        </div>\n      </div>\n    "],a=["num_bookings","my_reservations_url"];return _r_(function(e){_i_("269:c732d889");var t="",i=this.fn;return t+=r[0],t+=r[1],t+=[r[2],(e.unshift({num_pob_bookings:i.MB(a[0])}),n=i.ME(r[3],i.MB,i.MN,i.MO(i.MC(a[0]),null,r[3])),e.shift(),n),r[4],i.MC(a[1]),r[5]].join(""),i.MJ(i.MB(a[0])<2)?t+=[r[6],i.ME(r[7],i.MB,i.MN,null),r[8]].join(""):t+=[r[6],i.ME(r[9],i.MB,i.MN,null),r[8]].join(""),t+=r[10],_r_(t)})}());var n=e("component"),r=e("hotel/store"),a=e("ga-tracker");i.exports=n.extend({init:function(){_i_("269:3a155f56"),this.active=!1,this.global_num_bookings=0,this.loadData().then(this.handleData.bind(this)).then(this.render.bind(this)).catch(this.handleError.bind(this)),r.subscribe(this.onStoreUpdate.bind(this)),_r_()},onStoreUpdate:function(){_i_("269:99bb7865");var e=r.getState();e.roomsTable&&e.roomsTable.js_selection&&e.roomsTable.js_selection.roomCount?this.activate():this.deactivate(),_r_()},activate:function(){_i_("269:8dcd96b9"),this.active=!0,this.$el.show(),_r_()},deactivate:function(){_i_("269:6a01f4d7"),this.active=!1,this.$el.hide(),_r_()},loadData:function(){_i_("269:1d304745");var e={checkin:B.env.b_checkin_date,checkout:B.env.b_checkout_date};return _r_(B.require("fragment").call("mybooking.open_bookings_full",e))},handleData:function(e){if(_i_("269:8ebc5af1"),!e)return _r_();var t,i;try{t=B.env.profile_menu.b_secure_hostname,i=B.env.b_query_params_with_lang}catch(e){}if(!t||!i)return _r_();var n=t+"/myreservations"+i;return this.global_num_bookings=e.info&&e.info.num_bookings||0,_r_({num_bookings:this.global_num_bookings,my_reservations_url:n||""})},handleError:function(){},render:function(e){if(_i_("269:098443a9"),!e)return _r_();var t,i;if(!e.num_bookings)return _r_();i={num_bookings:e.num_bookings,my_reservations_url:e.my_reservations_url},t=B.jstmpl("pob_message_bui_template").render(i),this.$el.html(t),this.active||this.deactivate(),this.setupGATracking(),_r_()},setupGATracking:function(){_i_("269:e05f957d"),a.pageviewIsTracked().then(function(){_i_("269:24643069"),a.trackEvent("POB","HP RT","Banner"),_r_()}),_r_()}}),_r_()}),B.require(["ga-tracker","et","jquery"],function(t,e,_){if(_i_("269:14a493de"),!t||!e||!_)return _r_();var i={},n=_("[data-ga-track-pob]").map(function(e,t){_i_("269:37815ba2");var i=_(t).data("ga-track-pob"),n=i.split("|"),r=n[0],a=n[1]||"Action",o=n[2]||"Label",s=parseInt(n[3],10)||1;return _r_({hash:i,category:r,action:a,label:o,value:s})}).get().reduce(function(e,t){if(_i_("269:66f9e756"),i[t.hash])return _r_(e);return i[t.hash]=1,e.push(t),_r_(e)},[]);t.pageviewIsTracked().then(function(){_i_("269:67955a68"),n.map(function(e){_i_("269:e2be2af9"),t.trackEvent(e.category,e.action,e.label,e.value),_r_()}),_r_()}),_r_()}),B.define("sliding-view-model",function(e,t,i){_i_("269:3d31669b");var n=e("event-emitter"),r={},a={show:"sliding-view/show",showView:"sliding-view/showView",hide:"sliding-view/hide"};function o(){_i_("269:c041a663"),this.isShown=0,n.extend(this),_r_()}o.prototype.isPanelShown=function(){return _i_("269:0ec518081"),_r_(this.isShown)},o.prototype.hide=function(){_i_("269:e339093e"),this.isShown&&this.emit(a.hide),_r_()},o.prototype.show=function(e){if(_i_("269:b5dafb4d"),this.isShown)return this.emit(a.showView,e),_r_();this.emit(a.show,e),_r_()},i.exports={EVENTS:a,get:function(e){if(_i_("269:757623b0"),"string"!=typeof e||0===e.length)throw new Error("sliding-view-model: invalid .get() argument!");return r.hasOwnProperty(e)||(r[e]=new o,r[e].id=e),_r_(r[e])},hideAll:function(){for(var e in _i_("269:41b079151"),r)r[e].hide();_r_()},isAnyPanelOpen:function(){if(_i_("269:fac5c04d"),r)for(var e in r)if(r.hasOwnProperty(e))return _r_(r[e].isPanelShown());_r_()}},_r_()}),B.define("component/core/sliding-view-trigger",function(e,t,i){_i_("269:83b71692");var n=e("component"),a=e("sliding-view-model");i.exports=n.extend({init:function(){if(_i_("269:4aad685d"),this.panel=this.$el.data("paramPanel"),"string"!=typeof this.panel)throw new Error("core/sliding-view: `data-panel` is invalid or undefined!");this.preventDefault=void 0===this.$el.data("prevent-default")||this.$el.data("prevent-default"),this.model=a.get(this.panel);var n=this.el.dataset;if(n){this.params={};var r=new RegExp("param");Object.keys(n).forEach(function(e){_i_("269:7e858d44");var t=n[e];if(r.test(e)){var i=e.slice(5);i=i.toLowerCase(),this.params[i]=t}"paramIsStatic"===e&&(this.params.target=this.panel+"_static"),_r_()}.bind(this))}this._attachEvents(),_r_()},_attachEvents:function(){_i_("269:3c0e7bba"),this.$el.on("click",this.onClick.bind(this)),_r_()},onClick:function(e){_i_("269:315376a1"),e.preventDefault(),this.model.show(this.params),_r_()}}),_r_()}),B.define("component/beach-list/events",function(e,t,i){"use strict";_i_("269:79bcd115"),i.exports={RENDER:"RENDER",DESTROY:"DESTROY"},_r_()}),B.define("store/beach_list_store",function(e,t,i){_i_("269:659272c9");var n=e("redux"),r={isActive:1,isLoaded:0,beaches:[]};i.exports=n.createStore(function(e,t){switch(_i_("269:ad21fd66"),e=e||r,t.type){case"RENDER":return _r_(Object.assign({},e,{isLoaded:1,beaches:t.data}));case"DESTROY":return _r_(Object.assign({},e,{isActive:0}))}return _r_(e)}),_r_()}),B.define("component/beach-list",function(e,t,i){_i_("269:65cff976");var n=e("component/reactive"),r=(e("component/beach-list/events"),e("server-data")),a=e("et"),o="searchresults"===B.env.b_action&&"www"===B.env.b_site_type,s=o?e("searchresults/events"):null,_=!1;i.exports=n.extend({template:"beach_list",store:e("store/beach_list_store"),initialize:function(){_i_("269:f50280fb");var e=this.el.getAttribute("data-fe_variant");this.variant=e&&""!==e?e:"vertical";var t=this.el.getAttribute("data-fe_exp_variant");this.exp_variant=t&&""!==t?t:"1",this.setState({fe_variant:this.variant,fe_exp_variant:this.exp_variant,fe_ufi_hero_image:r.fe_ufi_hero_image,fe_in_city_name:r.in_city_name,fe_city_name:r.city_name,fe_hotel_id:r.fe_hotel_id,fe_hotel_name:r.b_hotel_name,fe_site_type:r.b_site_type||B.env.b_site_type,fe_map_center_latitude:r.b_map_center_latitude,fe_map_center_longitude:r.b_map_center_longitude,fe_bbox_southwest_latitude:r.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:r.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:r.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:r.fe_bbox_northeast_longitude}),o?s.on(s.UI_RESULTS_UPDATED,function(){_i_("269:3d1247b3"),this._initAllComponents(),_r_()}.bind(this)):(window.BUI.initComponents(this.el),this._initHorizontalCarousel()),_r_()},afterRender:function(){_i_("269:eafe972c");var e=this.getState();if(e&&e.store&&e.store.isLoaded){e.store.beaches;o?this._initAllComponents():(window.BUI.initComponents(this.el),this._initHorizontalCarousel(),a.initAttributesTracking(this.$el)),this.__addEventListeners()}_r_()},_initAllComponents:function(){_i_("269:07cdd94c"),window.BUI.initComponents(this.el),this._initHorizontalCarousel(),this._initPopoverComponents(),this.$el.loadComponents(),_r_()},_initPopoverComponents:function(){_i_("269:224dccbd");var n=this,e=n.$el.find(".js-beach-popover");e&&e.each(function(e,t){_i_("269:e8bda0d0");var i=$(t).data("beachId");i&&window.BUI.createInstance("Popover",t,{contentId:"beach_popover_"+i,position:"vertical"===n.variant?"end":"top",onAfterOpen:function(){_i_("269:4b65acb4"),$(this.content).loadComponents(),window.BUI.initComponents(this.content),_r_()}}).mount(),_r_()}),_r_()},_initHorizontalCarousel:function(){_i_("269:5b01d4d4");var e=this.$el.find(".js-beach-carousel");_||e&&e.length&&(window.BUI.createInstance("Carousel",e[0]).mount(),_=!0),_r_()},__addEventListeners:function(){_i_("269:3742b996");var e=this.$el.find(".c-beach-list__carousel"),t=this.$el.find(".js-beach-toggle-sneak-peak");t&&t.length&&t.on("click",function(){_i_("269:9a845656"),e.toggleClass("sneak-peak"),_r_()}),_r_()},_getBeachesBasedOnRadius:function(t,e){if(_i_("269:d28fcd02"),!e)return _r_(0);var i=e.filter(function(e){return _i_("269:ba9f7b37"),_r_(e.raw<t)});return _r_(i)}}),_r_()}),booking.jstmpl("beach_list",function(){_i_("269:6b673080");var m,b=["\n    ","\n","\n\n\n",'\n\n\n<div\n    data-component="beach-list"\n    class="c-beach-list"\n    data-fe_variant="','"\n    data-fe_exp_variant="','"\n>\n    ','\n   <div class="c-beach-list__wrapper">\n        ',"\n            \n            \n            \n            ","\n\n                ","\n                    ","\n                        ","\n\n",'\n\n<div class="bui-card bui-card--media bui-card--media-alt bui-u-bleed@small" style="margin-bottom: 10px;">\n    <div class="bui-card__image-container"\n        data-component="core/sliding-view-trigger"\n        data-param-panel="explore_beaches_panel"\n        data-param-target="sliding-view__ufi"\n        data-param-dest_title="',"/private/beach_explore_panel_map_header/name",'"\n\n        data-ga-track="click|On: SR|Open: Explore Destination Panel|From: Sidebar header photo"\n        data-et-click="',"customGoal:",":1"," customGoal:",":2 customGoal:",':5"\n    >\n\t\t',"\n\t\t\t","\n\t\t",'\n\t\t<img class="bui-card__image" src="','" />\n        <header class="bui-card__header">\n            <h1 class="bui-card__title">',"/private/beach_sr_left_side_module_header/name",'</h1>\n        </header>\n    </div>\n    <div class="bui-card__content">\n\t\t<div class="c-beach-list__vertical">\n\n\t        ','\n\t            \n\t            \n\t            \n\t            <div\n                    class="js-beach-popover"\n                    data-beach-id="','"\n                >\n                    \n                    \n                    \n                    ','\n\n\n<div class="c-beach-list__mini-card__wrapper">\n    <div class="c-beach-list__mini-card__avatar"\n        data-component="core/sliding-view-trigger"\n        data-param-panel="explore_beaches_panel"\n        data-param-target="sliding-view__beach"\n        data-param-dest_id="','"\n        data-param-dest_title="',"/private/beach_explore_beach_panel_overview_header/name",'"\n        data-et-click="customGoal:',':4"\n        data-ga-track="click|On: SR|Open: Explore Beach Panel|From: Mini Card Avatar"\n    >\n        ','\n        <img src="','"/>\n    </div>\n    <div class="c-beach-list__mini-card__text">\n        <div class="bui-link bui-link--primary c-beach-list__mini-card__title"\n            data-component="core/sliding-view-trigger"\n            data-param-panel="explore_beaches_panel"\n            data-param-target="sliding-view__beach"\n            data-param-dest_id="','"\n            data-param-dest_title="','"\n            data-et-click="customGoal:',':4"\n            data-ga-track="click|On: SR|Open: Explore Beach Panel|From: Mini Card Title"\n        >\n            ',"\n        </div>\n        ",'\n            <div class="c-beach-list__mini-card__subtitle">\n                '," · ","/private/beach_explore_panel_ave_cost/name","\n            </div>\n        ","\n        <div>\n            ","\n                ","\n            ","\n        </div>\n    </div>\n</div>\n\n","\n                </div>\n\t            ","\n\t                ","\n\t            ","\n\t        ","\n\t\t</div>\n\n        ",'\n            <a href="javascript:void(0);" class="bui-link bui-link--primary c-beach-list__see-more"\n                data-component="core/sliding-view-trigger"\n                data-param-panel="explore_beaches_panel"\n                data-param-target="sliding-view__ufi"\n                data-param-dest_title="','"\n\n                data-ga-track="click|On: SR|Open: Explore Destination Panel|From: Sidebar see more button"\n                data-et-click="',':5"\n            >\n                ',"/private/beach_sr_left_side_module_show_all_beaches/name","\n            </a>\n        ","\n\n\n    </div>\n</div>\n\n",'\n\n\n<div class="c-beach-list__banner">\n    <div class="c-beach-list__banner__title">',"/private/beach_sr_recovery_banner_header/name","</div>\n    ",'\n        <div role="region" class="bui-carousel bui-carousel--small bui-u-bleed@small js-beach-carousel">\n            <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                ','\n                    <li class="bui-carousel__item" data-bui-ref="carousel-item">\n                        \n                        \n                        \n                        <div\n                            class="mini-card__carousel_item bui-f-depth-1 js-beach-popover"\n                            data-beach-id="','"\n                        >\n                            \n                            \n                            \n                             ',"\n                        </div>\n                    </li>\n                ",'\n            </ul>\n            <div class="bui-carousel__nav">\n                <button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="Previous content">\n                    ',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'\n                </button>\n                <button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="Next content">\n                    ',"bui-carousel__next","iconset/navarrow_right","\n                </button>\n            </div>\n        </div>\n    ","\n</div>\n",'\n\n\n<div class="',"c-beach-list__carousel c-beach-list__carousel--bg-filled",'"\n    >\n    <div class="c-beach-list__carousel__title">\n        ',"/private/beach_nearby_discover_title_mdot/name","\n        ","/private/beach_sr_header_explore_beaches/name","\n    </div>\n    ",'\n        <div role="region" class="bui-carousel bui-carousel--small js-beach-carousel">\n            <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                ','\n                    <li class="bui-carousel__item" data-bui-ref="carousel-item">\n                        <div\n                            ','\n                                data-track-tab-open="sr_map" data-tab-target="sr_map" data-tab-fullscreen="true" data-tab-extras="beach-id:beach_id" data-beach-id="','"\n                            ','\n                                data-component="core/sliding-view-trigger"\n                                data-param-panel="explore_beaches_panel"\n                                data-param-target="sliding-view__beach"\n                                data-param-dest_id="','"\n                                data-param-dest_title="','\n                            data-ga-track="click|On: SR|Open: Explore Beach Panel|From: Carousel card"\n                            class="bui-card bui-card--media bui-card--transparent">\n                            <div class="bui-card__image-container">\n                                ','\n                                    <span class="c-beach-list__carousel__review">\n                                        '," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/comp_num_reviews_sr_page/name","</div> ","\n                                    </span>\n                                ","\n                                ",'\n                                <img class="bui-card__image" src="','"/>\n                            </div>\n                            <div class="bui-card__content">\n                                <h3 class="bui-card__title">',"</h3>\n                            </div>\n                        </div>\n                    </li>\n                ",'\n            </ul>\n            <div class="bui-carousel__nav">\n                <button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="',"/private/beach_sr_header_carousel_previous/name",'">\n                    ','\n                </button>\n                <button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="',"/private/beach_sr_header_carousel_next/name",'\n\n\n\n\n<div class="beach-pilot-hp__wrapper">\n    <div class="beach-pilot-hp__header">\n        ',"/private/beach_side_header_closest/name","\n    </div>\n\n\n    ",'\n        <div class="beach-pilot-hp__map">\n                ','\n                    style="'," height:128px; background: url(",") center no-repeat; ",'"\n                    data-source="map_thumbnail"\n                    data-title="',"/private/maps_hp_static_map_hover_tooltip/name",'"\n                    data-map-open-text="',"/private/copy_maps_hp_back_to_property/name",'"\n                    data-ga-track="click|On: HP|Open: HP Map|From: Sidebar Static Map"\n                ',"\n\n            ","map_static_zoom show_map map_static_hover jq_tooltip map_static_button_hoverstate maps-more-static-focus ",'<a\n    id="','"\n    class="',"jq_tooltip ","loc_block_link_underline_fix ",'"\n    href="#map_opened-','"\n    data-atlas-latlng="',",",'"\n    ','\n        data-atlas-bbox="','\n    role="button"\n    ','\n         data-component="tooltip"\n         data-tooltip-text="','"\n         data-tooltip-animation="false"\n         aria-label="',"\n>\n\n    ","\n\n</a>\n","sidebar-beaches-map-cta","\n        </div>\n    ","\n\n        ",'\n            <div\n                class="beach-pilot-hp__beach"\n                data-component="core/sliding-view-trigger"\n                data-param-panel="explore_beaches_panel"\n                data-param-target="sliding-view__beach"\n\n                data-param-dest_id="','"\n                data-param-dest_title="','"\n\n                data-ga-track="click|On: HP|Open: Explore Beach Panel|From: Sidebar beach"\n                data-reference_hotel="','"\n            >\n                <div class="beach-pilot-hp__name">\n                    ',". ",'\n                </div>\n                <div class="beach-pilot-hp__distance">\n                    ',"\n                          \n                          ","\n                              ","/private/beach_panel_distance_from_property_ft/name","\n                          ","/private/beach_panel_distance_from_property_m/name","\n                       ","/private/map_distance_from_property/name","\n                   ","\n                </div>\n                ",'\n                    <img\n                        class="beach-pilot-hp__photo"\n                        alt="Image of ','"\n                        src="','"\n                    />\n                ','\n                    <div class="tt-description">\n                        ',"\n                    </div>\n                ",'\n                <div class="beach-pilot-hp__cta">\n                    ',"/private/beach_explore_panel_cta_more_details/name","\n                </div>\n            </div>\n            ",'\n        <button\n            class="bui-button bui-button--primary"\n\n            data-component="core/sliding-view-trigger"\n            data-param-panel="explore_beaches_panel"\n            data-param-target="sliding-view__property"\n\n            data-param-dest_id="',"/private/beach_hp_explore_nearby_panel_header/name",'"\n\n            data-ga-track="click|On: HP|Open: Nearby Property Panel|From: More nearby button"\n            data-et-click="customGoal:',':2"\n        >\n            <span class="bui-button__text">',"/private/beach_hp_sidecard_more_nearby_button/name","</span>\n        </button>\n    ","\n\n                    ","\n                        \n                    ","\n                    \n                    \n                    \n                    ",'\n                        <div id="beach_popover_','" class="bui-u-hidden">\n                            ','\n<div class="tt-card bui-card tt-card__beach">\n    <div class="bui-card__content">\n        <header class="bui-card__header">\n            <h1 class="bui-card__title bui-link bui-link--primary"\n\n                data-component="core/sliding-view-trigger"\n                data-param-panel="explore_beaches_panel"\n                data-param-target="sliding-view__beach"\n                data-param-dest_id="','"\n\n                data-ga-track="click|On: SR|Open: Explore Beach Panel|From: Mini Card Title In Popover"\n            >\n               ',"\n            </h1>\n        </header>\n        ",'\n            <div role="region" aria-label="Beaches photo gallery" class="tt-carousel tt-carousel--wide bui-carousel" data-bui-component="Carousel">\n                <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n                    ','\n                        <li class="\n                            bui-carousel__item\n                            ',"\n                                tt-carousel--single\n                            ","\n                                tt-carousel--double\n                            ","\n                                tt-carousel--more\n                            ",'"\n                            data-bui-ref="carousel-item">\n                                <a  href="javascript:void(0);"\n\n                                    data-component="core/sliding-view-trigger"\n                                    data-param-panel="explore_beaches_panel"\n                                    data-param-target="sliding-view__beach"\n                                    data-param-dest_id="','"\n                                    data-param-dest_title="','"\n\n                                    data-ga-track="click|On: SR|Open: Explore Beach Panel|From: Mini Card Photo In Popover"\n                                >\n                                    <img class="tt-carousel__image" src="','"\n                                    />\n                                </a>\n                        </li>\n                    ','\n                </ul>\n                <div class="bui-carousel__nav">\n                    <button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="Previous content"\n                        data-ga-track="click|On: SR|Interact: Carousel|From: Carusel Photo Left Arrow In Popover"\n                        data-et-click="',":3",'"\n                    >\n                        ','\n                    </button>\n                    <button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="Next content"\n                        data-ga-track="click|On: SR|Interact: Carousel|From: Carusel Photo Right Arrow In Popover"\n                    >\n                        ',"\n                    </button>\n                </div>\n            </div>\n        ",'\n\n        <div class="tt-description">\n            ','\n        </div>\n\n        <div class="bui-card__actions">\n\n            <a  href="javascript:void(0);"\n                class="bui-link bui-link--primary"\n\n                data-component="core/sliding-view-trigger"\n                data-param-panel="explore_beaches_panel"\n                data-param-target="sliding-view__beach"\n                data-param-dest_id="','"\n\n                data-ga-track="click|On: SR|Open: Explore Beach Panel|From: More Details In Popover"\n                data-reference_hotel="','"\n            >\n                ',"/private/beach_sr_left_side_module_beach_details/name","\n            </a>\n            ",'\n                <div class="bui-card__actions-separator">&#xb7;</div>\n                <a  class="bui-link bui-link--primary js-sorter-link"\n                    href="','"\n                    title="See properties near ','"\n\n                    data-component="trip-types/sorter-link"\n                    data-scroll-top="1"\n                    data-ga-track="click|On: SR|Sort: Beach|From: See Properties Nearby Link In Popover"\n                >\n                    ',"/private/beach_sr_left_side_module_beach_properties/name","\n                </a>\n            ","\n\n        </div>\n\n    </div>\n</div>\n","\n                        </div>\n                    ","\n\n                    \n                    \n                    \n                    ","\n                         ",'<div class="c-beach-list--loading">\n\n    <div class="photo photo-header loading"></div>\n        <div class="card">\n            <div class="inline">\n                <div class="photo loading"></div>\n                <div style="width: 100%;">\n                    <div class="text loading"></div>\n                    <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n         <div class="card">\n            <div class="inline">\n                <div class="photo loading"></div>\n                <div style="width: 100%;">\n                    <div class="text loading"></div>\n                    <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n','<div class="c-beach-list--loading">\n    <div class="text text-half loading" style="\n        margin-top: 20px;\n    "></div>\n    <div class="inline">\n        <div class="card">\n            <div class="inline">\n                <div class="photo loading"></div>\n                <div style="width: 100%;">\n                    <div class="text loading"></div>\n                    <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n        <div class="card">\n            <div class="inline">\n                <div class="photo loading"></div>\n                <div style="width: 100%;">\n                    <div class="text loading"></div>\n                    <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n        <div class="card">\n            <div class="inline">\n                <div class="photo loading"></div>\n                <div style="width: 100%;">\n                    <div class="text loading"></div>\n                    <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n','\n\n<div\n    class="',"c-beach-list--loading c-beach-list__carousel--loading ","c-beach-list__carousel--has-text ","smaller-images--loading ","sneak-peak--loading ","below-action--loading",'"\n >\n    ','\n    <div style="display: flex;justify-content: space-around">\n    ','\n        <div class="c-beach-list__carousel__title">\n            ',"\n        </div>\n         ",'\n            <div class="text text-half loading" style="width: 30%; margin-top: 19px"></div>\n         ','\n        <div class="text text-half loading"></div>\n        ','\n            <div class="text text-half loading" style="width: 30%"></div>\n        ',"\n     </div>\n    ",'\n\n    <div class="inline card-wrapper">\n        <div class="card">\n            <div class="photo-header loading"></div>\n            <div class="text-block text-half loading"></div>\n        </div>\n        <div class="card">\n            <div class="photo-header loading"></div>\n            <div class="text-block text-half loading"></div>\n        </div>\n        <div class="card">\n            <div class="photo-header loading"></div>\n            <div class="text-block text-half loading"></div>\n        </div>\n    </div>\n</div>\n','<div class="c-beach-list--loading c-beach-list__media--loading">\n    <div class="text header loading"></div>\n    <div class="photo-header loading"></div>\n\n    <div class="card">\n        <div class="c-beach-list__media--card">\n           <div class="text loading"></div>\n           <div class="text text-half loading"></div>\n        </div>\n    </div>\n\n\n    <div class="card">\n        <div class="photo-header loading"></div>\n    </div>\n\n     <div class="card">\n        <div class="c-beach-list__media--card">\n           <div class="text loading"></div>\n           <div class="text text-half loading"></div>\n        </div>\n     </div>\n\n     <div class="card">\n         <div class="photo-header loading"></div>\n     </div>\n\n    <div class="text button loading"></div>\n</div>\n',"\n\n            \n            \n            \n            ","\n    </div>\n","\n</div>\n\n"],g=["fe_variant","fe_exp_variant","fe_beaches","fe_in_city_name","fe_is_north_beach","fe_beach_hero","fe_beach","fe_beach_thumbnail","fe_num_beaches_in_ufi","store","fe_ufi_hero_image","fe_site_type","fe_city_name","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_score_formatted","fe_reviews_number","fe_atlas_static_map_image_extra_attributes","fe_hp_sidebar_beach_panel_map","fe_atlas_static_map_image_content","fe_atlas_static_map_image_extra_classes","fe_id","fe_tooltip_show","fe_tooltip_text","fe_extra_classes","fe_lat","fe_lng","fe_bbox","fe_extra_attributes","fe_content","fe_bbox_southwest_latitude","fe_bbox_southwest_longitude","fe_bbox_northeast_latitude","fe_bbox_northeast_longitude","fe_map_center_latitude","fe_map_center_longitude","fe_hp_sidebar_beach_panel","b_hotel_id","b_guest_country","fe_beach_hero_image","fe_hotel_id","fe_hotel_name","fe_tt_items_count","fe_show_property","fe_has_header_text","fe_exp_variant_smaller","fe_exp_variant_sneak_peak","fe_exp_variant_below_action"];return _r_(function(l){_i_("269:b0905a4f");var e="",c=this.fn;function s(e){return _i_("269:ec20abc7"),e+=b[221],_r_(e)}function _(e){return _i_("269:f470711d"),e+=b[222],_r_(e)}function h(e){return _i_("269:bd2fd28b"),e+=b[238],_r_(e)}function n(e){if(_i_("269:dc5dfaa5"),e+=b[6],c.MD(g[9])){if(e+=b[7],c.MJ(c.MG((c.MC(g[9])||{}).isActive))){if(e+=b[8],c.MJ(c.MG((c.MC(g[9])||{}).isLoaded))){if(e+=b[9],c.MJ(c.MB(g[0])+""=="vertical")?(e+=b[10],l.unshift({fe_beaches:c.MG((c.MC(g[9])||{}).beaches),fe_in_city_name:c.MB(g[3]),fe_ufi_hero_image:c.MB(g[10])}),e=function(e){_i_("269:5814d73e"),e+=b[11],c.MN("fe_num_beaches_in_ufi",c.array_length(c.MB(g[2]))),e+=[b[12],(l.unshift({in_city_name:c.MB(g[3])}),m=c.ME(b[13],c.MB,c.MN,null),l.shift(),m),b[14]].join(""),c.MD(g[4])&&(e+=[b[15],c.F.entities("YWYHfeOWUXXdEEHT"),b[16]].join("")),e+=[b[17],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[19]].join("");var t,i=c.MC(g[2])||[];l.unshift({fe_beach:null});for(var n=1,r=i.length;n<=r;n++){l[0].fe_beach=t=i[n-1],e+=b[20],c.MN("fe_beach_hero",c.MG((((t||{}).destination_images||[])[0]||{})["400x300"])),e+=b[20];break}for(l.shift(),e+=[b[22],c.STATIC_HOSTNAME(c.MB(g[5]),0,0,0),b[23],c.ME(b[24],c.MB,c.MN,null),b[25]].join(""),i=c.MC(g[2])||[],l.unshift({fe_beach:null}),n=1,r=i.length;n<=r;n++){if(l[0].fe_beach=t=i[n-1],e+=[b[26],c.F.entities((t||{}).id),b[27]].join(""),l.unshift({fe_beach:t}),e=p(e),l.shift(),e+=b[47],c.MJ(2==n)){e+=b[48];break}e+=b[50]}return l.shift(),e+=b[51],c.MJ(2<c.MB(g[8]))&&(e+=[b[52],(l.unshift({in_city_name:c.MB(g[3])}),m=c.ME(b[13],c.MB,c.MN,null),l.shift(),m),b[53]].join(""),c.MD(g[4])&&(e+=[b[15],c.F.entities("YWYHfeOWUXXdEEHT"),b[16]].join("")),e+=[b[17],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[54],(l.unshift({num_beaches:c.MB(g[8])}),m=c.ME(b[55],c.MB,c.MN,null),l.shift(),m),b[56]].join("")),e+=b[57],_r_(e)}(e),l.shift(),e+=b[9]):c.MJ(c.MB(g[0])+""=="horizontal")?(e+=b[10],l.unshift({fe_beaches:c.MG((c.MC(g[9])||{}).beaches)}),e=function(e){if(_i_("269:722f22b2"),e+=[b[58],c.ME(b[59],c.MB,c.MN,null),b[60]].join(""),c.MJ(c.MB(g[2]))&&c.MJ(c.array_length(c.MB(g[2])))){e+=b[61];var t=c.MC(g[2])||[];l.unshift({fe_beach:null});for(var i,n=1,r=t.length;n<=r;n++)l[0].fe_beach=i=t[n-1],e+=[b[62],c.F.entities((i||{}).id),b[63]].join(""),l.unshift({fe_beach:i}),e=u(e),l.shift(),e+=b[64];l.shift(),e+=[b[65],(l.unshift({class:b[66],name:b[67],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[70],(l.unshift({class:b[71],name:b[72],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[73]].join("")}return e+=b[74],_r_(e)}(e),l.shift(),e+=b[9]):c.MJ(c.MB(g[0])+""=="carousel")&&(c.MJ(c.MB(g[11])+""=="www")||c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(1<c.track_experiment("YWYHaUJGOaT")))?(e+=b[10],l.unshift({fe_beaches:c.MG((c.MC(g[9])||{}).beaches),fe_city_name:c.MB(g[12]),fe_exp_variant:c.MB(g[1]),fe_in_city_name:c.MB(g[3]),fe_site_type:c.MB(g[11])}),e=function(e){_i_("269:46942309"),e+=b[75],e+=b[76],e+=b[77],c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(c.track_experiment("YWYHaUJGOaT"))?e+=[b[45],c.ME(b[78],c.MB,c.MN,null),b[79]].join(""):e+=[b[45],(l.unshift({city_name:c.MB(g[12]),in_city_name:c.MB(g[3])}),m=c.ME(b[80],c.MB,c.MN,null),l.shift(),m),b[79]].join("");if(e+=b[81],c.MJ(c.MB(g[2]))&&c.MJ(c.array_length(c.MB(g[2])))){e+=b[82];var t=c.MC(g[2])||[];l.unshift({fe_beach:null});for(var i,n=1,r=t.length;n<=r;n++)l[0].fe_beach=i=t[n-1],e+=b[83],c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(3==c.track_experiment("YWYHaUJGOaT"))?e+=[b[84],c.F.entities((i||{}).id),b[85]].join(""):e+=[b[86],c.F.entities((i||{}).id),b[87],(l.unshift({beach_name:c.MG((i||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[85]].join(""),e+=b[88],c.MJ(c.MG(((i||{}).reviews||{}).score_formatted))&&(e+=b[89],l.unshift({fe_modifier_smaller:1,fe_score:c.MG(((i||{}).reviews||{}).score),fe_show_adjective:0}),e=d(e),l.shift(),e+=b[114]),e+=b[115],c.MN("fe_beach_thumbnail",c.MG((((i||{}).destination_images||[])[0]||{})["400x300"])),e+=[b[116],c.STATIC_HOSTNAME(c.MB(g[7]),0,0,0),b[117],c.F.entities((i||{}).name),b[118]].join("");l.shift(),e+=[b[119],c.ME(b[120],c.MB,c.MN,null),b[121],(l.unshift({class:b[66],name:b[67],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[122],c.ME(b[123],c.MB,c.MN,null),b[121],(l.unshift({class:b[71],name:b[72],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[73]].join("")}return e+=b[74],_r_(e)}(e),l.shift(),e+=b[9]):c.MJ(c.MB(g[0])+""=="media")&&(e+=b[10],l.unshift({fe_bbox_northeast_latitude:c.MB(g[46]),fe_bbox_northeast_longitude:c.MB(g[47]),fe_bbox_southwest_latitude:c.MB(g[44]),fe_bbox_southwest_longitude:c.MB(g[45]),fe_hotel_id:c.MB(g[54]),fe_hotel_name:c.MB(g[55]),fe_hp_sidebar_beach_panel:c.MG(((c.MC(g[9])||{}).beaches||{}).fe_beaches),fe_hp_sidebar_beach_panel_map:c.MG((((c.MC(g[9])||{}).beaches||{}).fe_map_url||[])[0]),fe_map_center_latitude:c.MB(g[48]),fe_map_center_longitude:c.MB(g[49])}),e=function(e){if(_i_("269:a169c37f"),e+=[b[124],c.ME(b[125],c.MB,c.MN,null),b[126]].join(""),c.MD(g[32])){e+=b[127];var t="";t+=b[128],t+=[b[129],c.F.html(c.MC(g[32])),b[130]].join(""),t+=[b[131],c.ME(b[132],c.MB,c.MN,null),b[133],c.ME(b[134],c.MB,c.MN,null),b[135]].join(""),c.MN(g[31],t),e+=b[45],c.MN(g[33],b[136]),e+=b[136];var t="";t+=b[44],t+=b[137],t+=b[45],c.MN(g[34],t),e+=b[136];var i={fe_bbox:c.MB(g[44])+","+c.MB(g[45])+","+c.MB(g[46])+","+c.MB(g[47]),fe_content:c.MB(g[33]),fe_extra_attributes:c.MB(g[31]),fe_extra_classes:c.MB(g[34]),fe_id:b[152],fe_lat:c.MB(g[48]),fe_lng:c.MB(g[49])},n=l;(l=c.SV([{},{}])).unshift(i),e=function(e){_i_("269:b90ddf1a"),e+=[b[138],c.F.entities(c.MC(g[35])),b[139]].join(""),c.MJ(c.MB(g[36]))&&c.MJ(c.MB(g[37]))||(e+=b[140]);e+=[b[141],c.F.html(c.MC(g[38])),b[104]].join(""),e+=[b[142],c.F.entities(c.MC(g[35])),b[143],c.F.entities(c.MC(g[39])),b[144],c.F.entities(c.MC(g[40])),b[145]].join(""),c.MD(g[41])&&(e+=[b[146],c.F.entities(c.MC(g[41])),b[145]].join(""));e+=[b[0],c.MC(g[42]),b[147]].join(""),c.MJ(c.MB(g[36]))&&c.MJ(c.MB(g[37]))&&(e+=[b[148],c.F.html(c.MC(g[37])),b[149],c.MC(g[37]),b[145]].join(""));return e+=[b[150],c.MC(g[43]),b[151]].join(""),_r_(e)}(e),l=c.SV(n),e+=b[153]}if(e+=b[0],c.MJ(c.MB(g[50]))&&c.MJ(c.array_length(c.MB(g[50])))){e+=b[154];var r=c.MC(g[50])||[];l.unshift({fe_card:null});for(var a,o=1,s=r.length;o<=s;o++){if(l[0].fe_card=a=r[o-1],e+=[b[155],c.F.entities((a||{}).id),b[156],c.F.entities((a||{}).name),b[157],c.F.entities(c.MC(g[51])),b[158],c.F.entities(o),b[159],c.F.entities((a||{}).name),b[160]].join(""),c.MJ(a.raw)&&(c.MJ(0==a.raw)||c.MJ(a.raw<=50))?(e+=b[161],c.MJ(c.MC(g[52])+""=="us")?e+=[b[162],(l.unshift({distance:160}),m=c.ME(b[163],c.MB,c.MN,null),l.shift(),m),b[164]].join(""):e+=[b[162],(l.unshift({distance:50}),m=c.ME(b[165],c.MB,c.MN,null),l.shift(),m),b[164]].join(""),e+=b[9]):e+=[b[166],(l.unshift({distance_localised:c.MG((a||{}).distance_formatted)}),m=c.ME(b[167],c.MB,c.MN,null),l.shift(),m),b[168]].join(""),e+=b[169],c.MJ(c.defined(a.destination_images))&&c.MJ(c.array_length(a.destination_images))&&(e+=b[9],c.MN("fe_beach_hero_image",c.MG(((a||{}).destination_images||[])[0])),e+=[b[170],c.F.entities((a||{}).name),b[171],c.STATIC_HOSTNAME(c.MC(g[53])["300x200"],0,0,0),b[172]].join("")),e+=b[44],c.MJ(c.MG((a||{}).desc))&&(e+=[b[173],(a||{}).desc,b[174]].join("")),e+=[b[175],c.ME(b[176],c.MB,c.MN,null),b[177]].join(""),c.MJ(3==o)){e+=b[44];break}e+=b[79]}l.shift(),e+=[b[178],c.F.entities(c.MC(g[54])),b[35],(l.unshift({property_name:c.MB(g[55])}),m=c.ME(b[179],c.MB,c.MN,null),l.shift(),m),b[180],c.F.entities("YWYHfZPUMVBFUPdHdFYWYHAGO"),b[181],c.ME(b[182],c.MB,c.MN,null),b[183]].join("")}return e+=b[74],_r_(e)}(e),l.shift(),e+=b[9]),e+=b[184],c.MJ(c.MB(g[0])+""=="carousel"))e+=b[185];else{e+=b[186];var t=(c.MC(g[9])||{}).beaches||[];l.unshift({fe_beach:null});for(var i,n=1,r=t.length;n<=r;n++)l[0].fe_beach=i=t[n-1],e+=[b[187],c.F.entities((i||{}).id),b[188]].join(""),l.unshift({fe_beach:i}),e=f(e),l.shift(),e+=b[218];l.shift(),e+=b[9]}e+=b[44]}else e+=b[219],c.MJ(c.MB(g[0])+""=="vertical")?(e=s(e+=b[220]),e+=b[9]):c.MJ(c.MB(g[0])+""=="horizontal")?(e=_(e+=b[10]),e+=b[9]):c.MJ(c.MB(g[0])+""=="carousel")&&(c.MJ(c.MB(g[11])+""=="www")||c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(1<c.track_experiment("YWYHaUJGOaT")))?(e+=b[10],l.unshift({fe_city_name:c.MB(g[12]),fe_in_city_name:c.MB(g[3]),fe_site_type:c.MB(g[11])}),o=e,_i_("269:575ad564"),c.MN("fe_has_header_text",c.MB(g[3])||c.MB(g[12])),o+=b[2],c.MD(g[1])&&(o+=b[0],c.MN("fe_exp_variant_smaller",c.MJ(c.MB(g[1])+""=="2")||c.MJ(c.MB(g[1])+""=="3")||c.MJ(c.MB(g[1])+""=="4")),o+=b[0],c.MN("fe_exp_variant_sneak_peak",c.MJ(c.MB(g[1])+""=="3")),o+=b[0],c.MN("fe_exp_variant_below_action",c.MJ(c.MB(g[1])+""=="4")||c.MJ(c.MB(g[1])+""=="5")),o+=b[1]),o+=b[223],o+=b[224],c.MD(g[58])&&(o+=b[225]),c.MD(g[59])&&(o+=b[226]),c.MD(g[60])&&(o+=b[227]),c.MD(g[61])&&(o+=b[228]),o+=b[229],c.MD(g[60])&&(o+=b[230]),o+=b[0],c.MD(g[58])?(o+=b[231],c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(c.track_experiment("YWYHaUJGOaT"))?o+=[b[44],c.ME(b[78],c.MB,c.MN,null),b[45]].join(""):o+=[b[44],(l.unshift({city_name:c.MB(g[12]),in_city_name:c.MB(g[3])}),m=c.ME(b[80],c.MB,c.MN,null),l.shift(),m),b[45]].join(""),o+=b[232],c.MD(g[60])&&(o+=b[233])):(o+=b[234],c.MD(g[60])&&(o+=b[235])),o+=b[0],o+=b[0],c.MD(g[60])&&(o+=b[236]),o+=b[237],e=_r_(o),l.shift(),e+=b[9]):c.MJ(c.MB(g[0])+""=="media")&&(e=h(e+=b[10]),e+=b[9]),e+=b[44];e+=b[45]}e+=b[154]}else e+=b[239],c.MJ(c.MB(g[0])+""=="vertical")?(e=s(e+=b[44]),e+=b[45]):c.MJ(c.MB(g[0])+""=="horizontal")?(e=_(e+=b[44]),e+=b[45]):c.MJ(c.MB(g[0])+""=="carousel")?(e+=b[44],l.unshift({fe_city_name:c.MB(g[12]),fe_exp_variant:c.MB(g[1]),fe_in_city_name:c.MB(g[3])}),a=e,_i_("269:bdd0bcd1"),c.MN("fe_has_header_text",c.MB(g[3])||c.MB(g[12])),a+=b[2],c.MD(g[1])&&(a+=b[0],c.MN("fe_exp_variant_smaller",c.MJ(c.MB(g[1])+""=="2")||c.MJ(c.MB(g[1])+""=="3")||c.MJ(c.MB(g[1])+""=="4")),a+=b[0],c.MN("fe_exp_variant_sneak_peak",c.MJ(c.MB(g[1])+""=="3")),a+=b[0],c.MN("fe_exp_variant_below_action",c.MJ(c.MB(g[1])+""=="4")||c.MJ(c.MB(g[1])+""=="5")),a+=b[1]),a+=b[223],a+=b[224],c.MD(g[58])&&(a+=b[225]),c.MD(g[59])&&(a+=b[226]),c.MD(g[60])&&(a+=b[227]),c.MD(g[61])&&(a+=b[228]),a+=b[229],c.MD(g[60])&&(a+=b[230]),a+=b[0],c.MD(g[58])?(a+=b[231],c.MJ(c.MB(g[11])+""=="mdot")&&c.MJ(c.track_experiment("YWYHaUJGOaT"))?a+=[b[44],c.ME(b[78],c.MB,c.MN,null),b[45]].join(""):a+=[b[44],(l.unshift({city_name:c.MB(g[12]),in_city_name:c.MB(g[3])}),m=c.ME(b[80],c.MB,c.MN,null),l.shift(),m),b[45]].join(""),a+=b[232],c.MD(g[60])&&(a+=b[233])):(a+=b[234],c.MD(g[60])&&(a+=b[235])),a+=b[0],a+=b[0],c.MD(g[60])&&(a+=b[236]),a+=b[237],e=_r_(a),l.shift(),e+=b[45]):c.MJ(c.MB(g[0])+""=="media")&&(e=h(e+=b[44]),e+=b[45]),e+=b[79];var a,o;return e+=b[240],_r_(e)}function d(e){if(_i_("269:6514bc7e"),e+=["",b[90]].join(""),c.MJ(c.MB(g[22]))||c.MJ(c.MB(g[21]))){if(c.MN("fe_classes","bui-review-score c-score"),c.MJ(c.MB(g[14]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--outline"),c.MJ(c.MB(g[15]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--end"),c.MJ(c.MB(g[16]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--inverse"),c.MJ(c.MB(g[17]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--inline"),c.MJ(c.MB(g[18]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--text"),c.MJ(c.MB(g[19]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--small"),c.MJ(c.MB(g[20]))&&c.MN("fe_classes",c.MB(g[13])+" bui-review-score--smaller"),c.MJ(c.MB(g[21]))&&c.MN("fe_score_formatted",0),c.MJ(c.MB(g[22]))&&c.MN("fe_score_formatted",c.format_review_score_new(c.MB(g[22]))),c.MN("fe_can_show_adjective",c.MB(g[23])||c.MB(g[24])),c.MJ(c.MB(g[28]))){var t="";l.unshift({fe_hide_low_adjectives:c.MB(g[27]),fe_score:c.MB(g[22])}),t=function(e){if(_i_("269:9859203d"),c.MD(g[22])){var t="";c.MJ(1<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<2)&&(t+=c.ME(b[91],c.MB,c.MN,null)),c.MJ(2<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<3)&&(t+=c.ME(b[92],c.MB,c.MN,null)),c.MJ(3<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<4)&&(t+=c.ME(b[93],c.MB,c.MN,null)),c.MJ(4<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<5)&&(t+=c.ME(b[94],c.MB,c.MN,null)),c.MJ(5<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<5.6)&&(t+=c.ME(b[95],c.MB,c.MN,null)),c.MJ(5.6<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<6)&&(t+=c.ME(b[96],c.MB,c.MN,null)),c.MJ(6<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<7)&&(t+=c.ME(b[97],c.MB,c.MN,null)),c.MJ(7<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<8)&&(t+=c.ME(b[98],c.MB,c.MN,null)),c.MJ(8<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<8.6)&&(t+=c.ME(b[99],c.MB,c.MN,null)),c.MJ(8.6<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<9)&&(t+=c.ME(b[100],c.MB,c.MN,null)),c.MJ(9<=c.MB(g[22]))&&c.MJ(c.MB(g[22])<9.5)&&(t+=c.ME(b[101],c.MB,c.MN,null)),c.MJ(9.5<=c.MB(g[22]))&&(t+=c.ME(b[102],c.MB,c.MN,null)),c.MN(g[26],t),c.MJ(c.MB(g[27]))&&c.MJ(c.MB(g[22])<7)&&c.MN(g[26],c.ME(b[103],c.MB,c.MN,null)),e+=[c.MC(g[26]),b[104]].join("")}return c.MN("fe_adjective",0),c.MN("fe_hide_low_adjectives",0),c.MN("fe_score",0),_r_(e)}(t),l.shift(),c.MN(g[25],t),c.MJ(c.MB(g[24]))&&c.MN("fe_adjective_text",c.MB(g[24]))}e+=[b[105],c.F.entities(c.MC(g[13])),b[106],(l.unshift({review_score_number:c.MB(g[29])}),m=c.ME(b[107],c.MB,c.MN,null),l.shift(),m),b[108],c.F.entities(c.MC(g[29])),b[109]].join(""),c.MD(g[25])&&(e+=[b[110],c.MC(g[25]),b[109]].join(""),c.MD(g[30])&&(e+=[b[111],(l.unshift({num_reviews:c.format_number(c.MB(g[30]))}),m=c.ME(b[112],c.MB,c.MN,c.MO(c.MI(c.MC(g[30]))+c.MI(0),null,b[112])),l.shift(),m),b[109]].join("")),e+=b[113]),e+=b[113]}return c.MN("fe_adjective_text",0),c.MN("fe_allow_zero",0),c.MN("fe_classes",0),c.MN("fe_custom_adjective",0),c.MN("fe_hide_low_adjectives",0),c.MN("fe_modifier_end",0),c.MN("fe_modifier_inline",0),c.MN("fe_modifier_inverse",0),c.MN("fe_modifier_outline",0),c.MN("fe_modifier_text",0),c.MN("fe_reviews_number",0),c.MN("fe_score",0),c.MN("fe_score_formatted",0),c.MN("fe_show_adjective",0),e+=["",b[90]].join(""),e+=b[1],_r_(e)}function f(e){if(_i_("269:f4aff5e1"),e+=[b[189],c.F.entities((c.MC(g[6])||{}).id),b[156],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[190],c.F.entities((c.MC(g[6])||{}).name),b[191]].join(""),c.MJ(c.MB(g[6]))&&c.MJ(c.MC(g[6]).destination_images)&&c.MJ(c.array_length(c.MC(g[6]).destination_images))){e+=b[192],c.MN("fe_tt_items_count",c.array_length(c.MC(g[6]).destination_images)),e+=b[9];var t=s,i=a,n=_,r=o,a=(c.MC(g[6])||{}).destination_images||[];l.unshift({item:null});for(var o,s=1,_=a.length;s<=_;s++)l[0].item=o=a[s-1],e+=b[193],c.MJ(1==c.MB(g[56]))?e+=b[194]:c.MJ(2==c.MB(g[56]))?e+=b[195]:e+=b[196],e+=[b[197],c.F.entities((c.MC(g[6])||{}).id),b[198],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[199]].join(""),e+=b[90],c.MJ(o["600x400"])?e+=[b[90],c.STATIC_HOSTNAME(o["600x400"],0,0,0),b[90]].join(""):c.MJ(o.icon_retina)&&(e+=[b[90],c.STATIC_HOSTNAME(o.icon_retina,0,0,0),b[90]].join("")),e+=b[200];l.shift(),s=t,a=i,_=n,o=r,e+=b[201],c.MD(g[4])&&(e+=[b[15],c.F.entities("YWYHfeOWUXXdEEHT"),b[202]].join("")),e+=[b[203],(l.unshift({class:b[66],name:b[67],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[204],(l.unshift({class:b[71],name:b[72],role:b[68],width:b[69]}),m=c.HELPER("icon",l[0]),l.shift(),m),b[205]].join("")}return e+=[b[206],(c.MC(g[6])||{}).desc,b[207],c.F.entities((c.MC(g[6])||{}).id),b[156],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[208],c.F.entities(c.MC(g[57])),b[209],c.ME(b[210],c.MB,c.MN,null),b[211]].join(""),c.MJ(c.MG((c.MC(g[6])||{}).sorter_url))&&(e+=[b[212],c.F.entities((c.MC(g[6])||{}).sorter_url),b[213],c.F.entities((c.MC(g[6])||{}).name),b[214],c.ME(b[215],c.MB,c.MN,null),b[216]].join("")),e+=b[217],_r_(e)}function u(e){return _i_("269:93f4fef2"),e+=[b[28],c.F.entities((c.MC(g[6])||{}).id),b[29],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[31],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[32]].join(""),c.MN("fe_beach_thumbnail",c.MG((((c.MC(g[6])||{}).destination_images||[])[0]||{})["400x300"])),e+=[b[33],c.STATIC_HOSTNAME(c.MB(g[7]),0,0,0),b[34],c.F.entities((c.MC(g[6])||{}).id),b[35],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[36],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[37],c.F.entities((c.MC(g[6])||{}).name),b[38]].join(""),c.MJ(c.MG((c.MC(g[6])||{}).av_details))&&(e+=[b[39],c.F.entities(((c.MC(g[6])||{}).av_details||{}).average_price_formatted),b[40],c.ME(b[41],c.MB,c.MN,null),b[42]].join("")),e+=b[43],c.MJ(c.MG((c.MC(g[6])||{}).reviews_html))&&(e+=[b[44],(c.MC(g[6])||{}).reviews_html,b[45]].join("")),e+=b[46],_r_(e)}function p(e){return _i_("269:b9d8b1d9"),e+=[b[28],c.F.entities((c.MC(g[6])||{}).id),b[29],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[31],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[32]].join(""),c.MN("fe_beach_thumbnail",c.MG((((c.MC(g[6])||{}).destination_images||[])[0]||{})["400x300"])),e+=[b[33],c.STATIC_HOSTNAME(c.MB(g[7]),0,0,0),b[34],c.F.entities((c.MC(g[6])||{}).id),b[35],(l.unshift({beach_name:c.MG((c.MC(g[6])||{}).name)}),m=c.ME(b[30],c.MB,c.MN,null),l.shift(),m),b[36],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[18],c.F.entities("YWYHaUJeaILYDECVVDWKVC"),b[37],c.F.entities((c.MC(g[6])||{}).name),b[38]].join(""),c.MJ(c.MG((c.MC(g[6])||{}).av_details))&&(e+=[b[39],c.F.entities(((c.MC(g[6])||{}).av_details||{}).average_price_formatted),b[40],c.ME(b[41],c.MB,c.MN,null),b[42]].join("")),e+=b[43],c.MJ(c.MG((c.MC(g[6])||{}).reviews_html))&&(e+=[b[44],(c.MC(g[6])||{}).reviews_html,b[45]].join("")),e+=b[46],_r_(e)}e+=b[0];var t={fe_bbox_northeast_latitude:c.MB(g[46]),fe_bbox_northeast_longitude:c.MB(g[47]),fe_bbox_southwest_latitude:c.MB(g[44]),fe_bbox_southwest_longitude:c.MB(g[45]),fe_city_name:c.MB(g[12]),fe_exp_variant:c.MB(g[1]),fe_hotel_id:c.MB(g[54]),fe_hotel_name:c.MB(g[55]),fe_in_city_name:c.MB(g[3]),fe_is_north_beach:c.MB(g[4]),fe_map_center_latitude:c.MB(g[48]),fe_map_center_longitude:c.MB(g[49]),fe_site_type:c.MB(g[11]),fe_ufi_hero_image:c.MB(g[10]),fe_variant:c.MB(g[0]),store:c.MB(g[9])},i=l;return(l=c.SV([{},{}])).unshift(t),e=function(e){_i_("269:73d04535"),e+=[b[1],"",b[2]].join(""),e+=[b[3],c.F.entities(c.MC(g[0])),b[4],c.F.entities(c.MC(g[1])),b[5]].join("");var t={fe_bbox_northeast_latitude:c.MB(g[46]),fe_bbox_northeast_longitude:c.MB(g[47]),fe_bbox_southwest_latitude:c.MB(g[44]),fe_bbox_southwest_longitude:c.MB(g[45]),fe_city_name:c.MB(g[12]),fe_exp_variant:c.MB(g[1]),fe_hotel_id:c.MB(g[54]),fe_hotel_name:c.MB(g[55]),fe_in_city_name:c.MB(g[3]),fe_is_north_beach:c.MB(g[4]),fe_map_center_latitude:c.MB(g[48]),fe_map_center_longitude:c.MB(g[49]),fe_site_type:c.MB(g[11]),fe_ufi_hero_image:c.MB(g[10]),fe_variant:c.MB(g[0]),store:c.MB(g[9])},i=l;return(l=c.SV([{},{}])).unshift(t),e=n(e),l=c.SV(i),e+=[b[241],"",b[1]].join(""),_r_(e)}(e),l=c.SV(i),e+=b[1],_r_(e)})}()),B.define("beach_team_pilot/helpers",function(e,t,i){"use strict";_i_("269:28a613fe");var n=e("querystring"),a=B.env.b_action,r=B.env.b_site_type,o=B.env.isRetina,s=B.env.fe_ufi||"",_={fe_site_type:r,fe_is_retina:o,fe_page:a,fe_ufi:s,fe_beach_view:0,fe_is_static:1,fe_has_map:1,fe_map_id:"beach_ufi-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_ufi_hero_image:B.env.fe_ufi_hero_image,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},l={fe_site_type:r,fe_is_retina:o,fe_page:a,fe_ufi:s,fe_beach_view:1,fe_has_map:1,fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:1,fe_show_property:0,fe_show_map_list:1,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},c={fe_site_type:r,fe_is_retina:o,fe_page:a,fe_beach_view:0,fe_is_static:0,fe_is_fixed:0,fe_has_map:1,fe_map_id:"beach_property-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_hotel_id:B.env.fe_hotel_id,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},h={fe_site_type:r,fe_is_retina:o,fe_page:a,fe_beach_view:0,fe_is_static:1,fe_is_fixed:0,fe_has_map:1,fe_map_id:"beach_surroundings-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_property_name:B.env.property_name,fe_hotel_id:B.env.fe_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},d={fe_site_type:r,fe_is_retina:o,fe_page:a,fe_beach_view:1,fe_is_static:0,fe_has_map:1,fe_map_id:"beach-panel-map",fe_show_beaches:1,fe_show_landmarks:0,fe_show_property:B.env.b_hotel_id,fe_guest_country:B.env.b_guest_country,fe_checkin_date:B.env.b_checkin_date,fe_checkout_date:B.env.b_checkout_date,fe_hotel_id:B.env.fe_hotel_id,fe_lang:B.env.b_lang,fe_is_north_beach:B.env.fe_is_north_beach_ufi},f={configureRenderData:function(e,t){_i_("269:43f0e3c6");var i=[],n=t.panelId;e.beaches&&(3<e.beaches.length&&B.et.stage("YWYHfUDeAEfTTJZSdMYWYHAGO",1),("sliding-view__property"===n||"sliding-view__surroundings"===n)&&3<=e.beaches.length&&!B.env.fe_beach_team_dont_limit_beaches&&(e.beaches=e.beaches.slice(0,3)),e.beaches.map(function(e){_i_("269:9c1b1153"),e.type="beach",e.sorter_url=B.env.fe_beach_order_urls?B.env.fe_beach_order_urls[e.id]:"",e.beach_details=[].concat(e.facilities,e.sand_and_water),_r_()}),i=i.concat(e.beaches)),"sliding-view__beach"!==n&&e.landmarks&&(e.landmarks.map(function(e){_i_("269:fad35b42"),e.type="landmark",_r_()}),i=i.concat(e.landmarks)),e.city&&(e.city.id="citycenter_"+e.city.name,e.city.type="citycenter",e.city.group_name="City center",i.push(e.city)),e.nearest_airport&&(e.nearest_airport.id="airport_"+e.nearest_airport.iata,e.nearest_airport.type="airport",e.nearest_airport.group_name="Airport",e.nearest_airport.lat=e.nearest_airport.latitude,e.nearest_airport.long=e.nearest_airport.longitude,i.push(e.nearest_airport)),e.cards=i;var r={fe_beaches:e.beaches,fe_landmarks:e.landmarks,fe_cards:e.cards,render_params:t,fe_map_url:e.static_map_url};if(window.location.hash.match(/map_opened/)?r.fe_is_map_open=!0:r.fe_is_map_open=!1,"searchresults"===a){if("sliding-view__ufi"===n)return _r_($.extend({},_,r));if("sliding-view__beach"===n)return _r_($.extend({},l,r))}else if("hotel"===a){if("sliding-view__property"===n)return _r_($.extend({},c,r));if("sliding-view__beach"===n)return _r_($.extend({},d,r));if("sliding-view__surroundings"===n)return _r_($.extend({},h,r));if("sliding-view__sidebar"===n)return _r_($.extend({},c,r))}_r_()},initActiveView:function(e){_i_("269:60588a4f");var t=n.parseUrl(location.href).query;if(t.activeView&&""!==t.activeView&&!t.distance_from_geo){var i=t.activeView;i&&e.call(this,i)}_r_()}};i.exports=f,_r_()}),B.when({action:["hotel"],events:"load",experiment:"YWYHfUDeATPRXUBO",condition:function(e){return _i_("269:bd4d6157"),_r_(e.fe_beach_team_pilot_cta_visible&&e.fe_hotel_id)}}).run(function(){_i_("269:b1dcf5fb");var e=B.require("async-loader"),t=B.require("promise"),p=$(".entrance-point__hp-button"),m=$('[data-component="core/sliding-view-trigger"]'),b="1"===B.require("server-data").fe_beach_hp_sidebar_map_dimension,i=e.load({js:"cn"===B.env.b_guest_country?"async_atlas_v2_cn_js":"async_atlas_v2_non_cn_js"}),n=e.load({js:"async_slider_view_js",css:"async_slider_view_css"});t.all([i,n]).then(function(h){_i_("269:ee2486ef"),$("body").addClass("beach-panel-loaded");var d,f,u,e=h("events");(function(){_i_("269:646983c1"),p.removeClass("bui-is-loading"),m.removeClass("bui-is-loading");var e=h("component/core/sliding-view"),t=h("component/core/sliding-view-content"),n=h("beach_team_pilot/helpers"),i=B.require("et"),r="www"===B.env.b_site_type,a="mdot"===B.env.b_site_type&&i.track("YWYHfCfFaXaDDSWPHDDWe"),o="www"===B.env.b_site_type&&i.track("YWYHfCfFaXaDDSFRURURHe"),s=h("jstmpl"),_=$(".beaches-nearby-container"),l="";if(o)_.length&&(l=s("beaches_nearby_cst__container").render(),_.html(l).loadComponents());else if(a)_.length&&(l=s("beaches_nearby_cst__container").render({fe_variant:"horizontal"}),_.html(l).loadComponents());else{var c=h("beach_hp_data_handler");c.init({name:"beach.beach_panel",params:{dest_id:B.env.fe_hotel_id,dest_type:"hotel",map_width:b?264:344,map_height:b?128:160,sections:"photos,reviews,static_map_url"}}),d=new t({id:"sliding-view__property",title:B.jstmpl.translations("beach_hp_explore_nearby_panel_header",null,{property_name:B.env.property_name}),hasMap:!0,fe_map_id:"beach_property-panel-map",async:{loadingCstName:"tt_ufi_panel_loading",cstName:"tt_property_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},datasource:c.getData(),beforeRender:function(e,t){_i_("269:187e82ca"),t.panelId=this.id;var i=n.configureRenderData(e,t);return i.location_block_html=!0,_r_(i)},afterRender:function(e){_i_("269:f3f76eb7");var t=h("jstmpl"),e={fe_has_property_parking:B.env.fe_has_property_parking,fe_has_airport_access:B.env.fe_has_airport_access,fe_has_airport_shuttle_free:B.env.fe_has_airport_shuttle_free,fe_has_airport_shuttle:B.env.fe_has_airport_shuttle,fe_has_airport_shuttle_paid:B.env.fe_has_airport_shuttle_paid,fe_poi_landmark_closest:B.env.fe_poi_landmark_closest,fe_poi_landmark_popular:B.env.fe_poi_landmark_popular,b_hotel_surroundings_aggregated:B.env.fe_hotel_surroundings_aggregated,b_closest_airport:B.env.fe_closest_airport,b_public_transport:B.env.fe_public_transport,b_public_transport_rail:B.env.fe_public_transport_rail},i=t("tt_location_block_simplified").render(e);$(".hp_location_block_simplified").html(i),_r_()}})}f=new t({id:"sliding-view__beach",hasMap:!0,fe_map_id:"beach-panel-map",destroyOnClose:!0,fragment:{name:"beach.beach_panel",params:{dest_type:"beach",sections:r?"photos,landmarks":"photos,reviews"}},async:{loadingCstName:"tt_beach_panel_loading",cstName:"tt_beach_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},beforeRender:function(e,t){return _i_("269:c2ed6b7f"),t.panelId=this.id,_r_(n.configureRenderData(e,t))}}),u=new t({id:"sliding-view__photos",hasMap:!1,destroyOnClose:!0,isInstant:!0,fragment:{name:"beach.beach_panel",params:{dest_type:"beach",sections:r?"photos":"photos,reviews"}},async:{loadingCstName:"tt_photos_panel_loading",cstName:"tt_photos_panel",concatJsFile:"async_beach_team_pilot_js",concatCssFile:"async_beach_team_pilot_css"},beforeRender:function(e,t){return _i_("269:1ab83607"),t.panelId="sliding-view__beach",_r_(n.configureRenderData(e,t))},afterRender:function(e,t){}}),new e(a||o?{id:"explore_beaches_panel",views:[f,u],useScrollBlocker:"www"===B.env.b_site_type?1:0}:{id:"explore_beaches_panel",views:[d,f,u],useScrollBlocker:"www"===B.env.b_site_type?1:0});r&&(o||function(){_i_("269:19876485");var t=h("component/beach-list/events"),i=h("store/beach_list_store"),n={};d.getData().then(function(e){_i_("269:8ca7821e"),e&&Array.isArray(e.fe_beaches)&&e.fe_beaches.length?"www"===B.env.b_site_type&&e.fe_map_url?(n.fe_beaches=e.fe_beaches,n.fe_map_url=e.fe_map_url,i.dispatch({type:t.RENDER,data:n})):i.dispatch({type:t.RENDER,data:e.fe_beaches}):i.dispatch({type:t.DESTROY}),_r_()},function(e){_i_("269:58f802d9"),i.dispatch({type:t.DESTROY}),_r_()}),_r_()}());_r_()})(),e.on("sliding-view/view_rendered",function(e){if(_i_("269:00ec6e16"),"sliding-view__photos"===e){var t=$(".tt-gallery__carousel"),i=h("ga-tracker"),n=!1;if(t&&t.length){var r=window.BUI.getInstance(t[0]);B.env&&"www"===B.env.b_site_type&&r&&r.root&&$(r.root).hasClass("tt-gallery__carousel")&&($(document).on("keyup",function(e){_i_("269:61b2d38b"),e&&e.keyCode&&(27===e.keyCode?history.back(-1):37!==e.keyCode&&39!==e.keyCode||(i.trackEvent("On: Beach Photo Gallery Panel","Interact: Carousel","From: Keyboard Arrows"),n||r._handleKeyup(e))),_r_()}),$("#sliding-view__photos").on("click",function(e){if(_i_("269:5eb8d603"),e&&e.target){var t=e.target.tagName.toLowerCase();if("img"===t||"a"===t||"button"===t||"svg"===t||"path"===t)return n||"svg"!==t&&"button"!==t?"img"===t&&(n=!1):n=!0,_r_();history.back(-1)}_r_()}))}}_r_()}),_r_()}.bind(this,B.require)).catch(function(e){_i_("269:f7f2ec3e"),p.remove(),m.remove();var t=e&&e.srcElement&&e.srcElement.src?e.srcElement.src:"script name not available";B&&B.reportError&&B.reportError(new Error("failed to load async scripts: "+t),"beach_team_pilot",{page:B.env.b_action,event:e}),_r_()}),_r_()}),booking.jstmpl("beach_review_score",function(){_i_("269:73d4c4d1");var r,a=["\n"," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/comp_num_reviews_sr_page/name","</div> "],o=["fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_score_formatted","fe_reviews_number","nr_reviews","score"];return _r_(function(i){_i_("269:a2721c63");var e="",n=this.fn;return e+=a[0],i.unshift({fe_modifier_text:1,fe_reviews_number:n.MB(o[18]),fe_score:n.MB(o[19]),fe_show_adjective:1}),e=function(e){if(_i_("269:9fc0ec46"),e+=["",a[1]].join(""),n.MJ(n.MB(o[9]))||n.MJ(n.MB(o[8]))){if(n.MN("fe_classes","bui-review-score c-score"),n.MJ(n.MB(o[1]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--outline"),n.MJ(n.MB(o[2]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--end"),n.MJ(n.MB(o[3]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--inverse"),n.MJ(n.MB(o[4]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--inline"),n.MJ(n.MB(o[5]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--text"),n.MJ(n.MB(o[6]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--small"),n.MJ(n.MB(o[7]))&&n.MN("fe_classes",n.MB(o[0])+" bui-review-score--smaller"),n.MJ(n.MB(o[8]))&&n.MN("fe_score_formatted",0),n.MJ(n.MB(o[9]))&&n.MN("fe_score_formatted",n.format_review_score_new(n.MB(o[9]))),n.MN("fe_can_show_adjective",n.MB(o[10])||n.MB(o[11])),n.MJ(n.MB(o[15]))){var t="";i.unshift({fe_hide_low_adjectives:n.MB(o[14]),fe_score:n.MB(o[9])}),t=function(e){if(_i_("269:18e2e981"),n.MD(o[9])){var t="";n.MJ(1<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<2)&&(t+=n.ME(a[2],n.MB,n.MN,null)),n.MJ(2<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<3)&&(t+=n.ME(a[3],n.MB,n.MN,null)),n.MJ(3<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<4)&&(t+=n.ME(a[4],n.MB,n.MN,null)),n.MJ(4<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<5)&&(t+=n.ME(a[5],n.MB,n.MN,null)),n.MJ(5<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<5.6)&&(t+=n.ME(a[6],n.MB,n.MN,null)),n.MJ(5.6<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<6)&&(t+=n.ME(a[7],n.MB,n.MN,null)),n.MJ(6<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<7)&&(t+=n.ME(a[8],n.MB,n.MN,null)),n.MJ(7<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<8)&&(t+=n.ME(a[9],n.MB,n.MN,null)),n.MJ(8<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<8.6)&&(t+=n.ME(a[10],n.MB,n.MN,null)),n.MJ(8.6<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<9)&&(t+=n.ME(a[11],n.MB,n.MN,null)),n.MJ(9<=n.MB(o[9]))&&n.MJ(n.MB(o[9])<9.5)&&(t+=n.ME(a[12],n.MB,n.MN,null)),n.MJ(9.5<=n.MB(o[9]))&&(t+=n.ME(a[13],n.MB,n.MN,null)),n.MN(o[13],t),n.MJ(n.MB(o[14]))&&n.MJ(n.MB(o[9])<7)&&n.MN(o[13],n.ME(a[14],n.MB,n.MN,null)),e+=[n.MC(o[13]),a[15]].join("")}return n.MN("fe_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_score",0),_r_(e)}(t),i.shift(),n.MN(o[12],t),n.MJ(n.MB(o[11]))&&n.MN("fe_adjective_text",n.MB(o[11]))}e+=[a[16],n.F.entities(n.MC(o[0])),a[17],(i.unshift({review_score_number:n.MB(o[16])}),r=n.ME(a[18],n.MB,n.MN,null),i.shift(),r),a[19],n.F.entities(n.MC(o[16])),a[20]].join(""),n.MD(o[12])&&(e+=[a[21],n.MC(o[12]),a[20]].join(""),n.MD(o[17])&&(e+=[a[22],(i.unshift({num_reviews:n.format_number(n.MB(o[17]))}),r=n.ME(a[23],n.MB,n.MN,n.MO(n.MI(n.MC(o[17]))+n.MI(0),null,a[23])),i.shift(),r),a[20]].join("")),e+=a[24]),e+=a[24]}return n.MN("fe_adjective_text",0),n.MN("fe_allow_zero",0),n.MN("fe_classes",0),n.MN("fe_custom_adjective",0),n.MN("fe_hide_low_adjectives",0),n.MN("fe_modifier_end",0),n.MN("fe_modifier_inline",0),n.MN("fe_modifier_inverse",0),n.MN("fe_modifier_outline",0),n.MN("fe_modifier_text",0),n.MN("fe_reviews_number",0),n.MN("fe_score",0),n.MN("fe_score_formatted",0),n.MN("fe_show_adjective",0),e+=["",a[1]].join(""),e+=a[0],_r_(e)}(e),i.shift(),e+=a[0],_r_(e)})}()),booking.jstmpl("beaches_nearby_cst__error",function(){_i_("269:52367a90");var n,r=['\n\n        <section class="beaches-nearby-error">\n            <div class="bui-banner__title beaches-nearby-error__title">\n                ',"","16","iconset/warning","\n                ","/private/beach_d_hp_panel_info_error_header/name","\n            </div>\n            ",'\n                <div class="beaches-nearby-error__border">\n            ','\n                    <p class="bui-banner__text beaches-nearby-error__desc">',"/private/beach_d_hp_panel_info_error_desc/name",'</p>\n                    <a class="bui-link bui-link--primary beaches-nearby-error__cta" href="#" title="See available properties in Amsterdam">',"/private/beach_d_hp_panel_info_error_cta/name","</a>\n            ","\n                </div>\n            ","\n        </section>\n\n"],a=["fe_show_border"];return _r_(function(e){_i_("269:bfd2784f");var t="",i=this.fn;return t+=[r[0],(e.unshift({class:r[1],height:r[2],name:r[3],width:r[2]}),n=i.HELPER("icon",e[0]),e.shift(),n),r[4],i.ME(r[5],i.MB,i.MN,null),r[6]].join(""),i.MD(a[0])&&(t+=r[7]),t+=[r[8],i.ME(r[9],i.MB,i.MN,null),r[10],i.ME(r[11],i.MB,i.MN,null),r[12]].join(""),i.MD(a[0])&&(t+=r[13]),t+=r[14],_r_(t)})}()),booking.jstmpl("beaches_nearby_cst__container",function(){_i_("269:2cf5ecd0");var a=["\n    ","\n","\n\n\n",'\n\n\n\n<div\n    data-component="beaches-nearby"\n    class="c-beaches-nearby ',"c-beaches-nearby__mobile",'"\n>\n    ','\n\n\n        \n        <h3 class="beaches-nearby--loading__header">',"/private/beach_d_hp_panel_info_loading/name",'</h3>\n        <div class="c-beach-list--loading beaches-nearby--loading__card">\n            <div class="photo-header loading"></div>\n            <div class="card">\n                <div class="c-beach-list__media--card">\n                   <div class="text loading"></div>\n                   <div class="text text-half loading"></div>\n                </div>\n            </div>\n        </div>\n\n\n',"\n</div>\n\n"],o=["fe_variant","b_site_type"];return _r_(function(n){_i_("269:39df023e");var e="",r=this.fn;e+=a[0];var t={fe_site_type:r.MC(o[1])},i=n;return(n=r.SV([{},{}])).unshift(t),e=function(e){_i_("269:2db3ff9d"),e+=[a[1],"",a[2]].join(""),e+=a[3],r.MJ(r.MB(o[0])+""=="horizontal")&&(e+=a[4]),e+=a[5];var t,i=n;return n=r.SV([{},{}]),t=e,_i_("269:4f3956cd"),t+=[a[6],r.ME(a[7],r.MB,r.MN,null),a[8]].join(""),e=_r_(t),n=r.SV(i),e+=[a[9],"",a[1]].join(""),_r_(e)}(e),n=r.SV(i),e+=a[1],_r_(e)})}()),B.when({action:["searchresults","hotel"],events:"ready",condition:function(e){return _i_("269:8862185b"),_r_(e.beach_team_pilot_data_loaded)}}).run(function(e){_i_("269:b9e20546");var a=e("ga-tracker"),t=e("events"),i=e("et"),n="YWYHfeOWUXXdEEHT",r=B.env.b_action,o=B.env.b_site_type,s=e("server-data"),_="1"==s.fe_is_north_beach_ufi,l="1"==s.fe_beach_redirected_landing_page;function c(e){if(_i_("269:4622261d"),"sliding-view__ufi"===e)return _r_("Explore Destination Panel");if("sliding-view__beach"===e)return _r_("Explore Beach Panel");if("sliding-view__photos"===e)return _r_("Beach Photo Gallery Panel");if("sliding-view__property"===e)return _r_("Nearby Property Panel");_r_()}_i_("269:b91ea69b"),t.on("sliding-view/back",function(e){_i_("269:e3b9b165");var t=c(e);t&&""!==t&&a.trackEvent("On: "+t,"Close: "+t,"From: Back button"),_r_()}),t.on("sliding-view/back_close",function(e){_i_("269:b9ac541a");var t=c(e);t&&""!==t&&a.trackEvent("On: "+t,"Close: "+t,"From: Close button"),_r_()}),t.on("sliding-view/backdrop_close",function(e){_i_("269:285c2805");var t=c(e);t&&""!==t&&a.trackEvent("On: "+t,"Close: "+t,"From: Backdrop Click"),_r_()}),t.on("sliding-view/load_view",function(e){_i_("269:27891691"),_&&"sliding-view__ufi"===e?(i.stage(n,3),"searchresults"===r&&"www"===o&&i.stage(n,6),"searchresults"===r&&"mdot"===o&&i.stage(n,8)):_&&"sliding-view__beach"===e?i.stage(n,4):_&&"sliding-view__property"===e&&(i.stage(n,3),"hotel"===r&&"www"===o&&i.stage(n,5),"hotel"===r&&"mdot"===o&&i.stage(n,7)),l&&("www"===o?i.customGoal("YWYHaQWTGfNbTEJHO",4):"mdot"===o&&i.customGoal("YWYHaYHSQVUQSFfEC",4)),i.customGoal("YWYHaOIeDNabSKYKe",1),"sliding-view__beach"===e&&("hotel"===r&&"mdot"===o?i.customGoal("YWYHfCfFaXaDDSWPHDDWe",1):"hotel"===r&&"www"===o&&i.customGoal("YWYHfCfFaXaDDSFRURURHe",1)),_r_()}),t.on("sliding-view/view_rendered",function(e){var t;_i_("269:5454e065"),"mdot"===o&&("sliding-view__photos"===e?(_i_("269:75fc3b9a"),$("body").on("touchmove",function(){_i_("269:04a904f7"),clearTimeout(t),t=setTimeout(function(){_i_("269:edd2bf4a"),a.trackEvent("On: Beach Photo Gallery Panel","Interact: Carousel","From: Scroll"),$("body").off("touchmove"),_r_()},200),_r_()}),_r_()):function(){_i_("269:4d56c0a8");var t,i,n=$(".tt-carousel--long .bui-carousel__inner"),r=$(".tt-carousel--short .bui-carousel__inner");n.length&&n.on("touchmove",function(e){_i_("269:716531e3"),clearTimeout(t),t=setTimeout(function(){_i_("269:a9c3a19a"),a.trackEvent("On: Explore Beach Panel","Interact: Carousel","From: Scroll"),n.off("touchmove"),_r_()},200),_r_()}),r.length&&r.on("touchmove",function(e){_i_("269:c2667adb"),clearTimeout(i),i=setTimeout(function(){_i_("269:e61d4929"),a.trackEvent("On: Explore Beach Panel","Interact: Things To Do","From: Scroll"),r.off("touchmove"),_r_()},200),_r_()}),_r_()}()),_r_()}),_r_(),_r_()}),B.when({action:["searchresults","hotel"],events:"ready",experiment:"YWYHfUDeATPRXUBO",condition:function(e){return _i_("269:16863c4b"),_r_(e.fe_beach_team_pilot_cta_visible)}}).run(function(s){if(_i_("269:8ea28bc8"),!B.atlas||!B.atlas.define)return _r_();var _=s("server-data").b_action,l=s("sliding-view-model");B.atlas.define("YWYHfUDeATPRXUBO",["util-env","geo.bounds","vendor.polylabel","atlas-marker-properties","markers-disperser"],function(e,t,i,n,o){return _i_("269:07cfc3df"),_r_({init:function(e){_i_("269:5b88a491");var t,i,n=e.map,r=[],a=new o({map:n});n.on(n.EVENTS.MARKERS_GET_SUCCESS,function(e){_i_("269:bfcfcde8"),i=e,_r_()}),n.on(n.EVENTS.MARKERS_READY,function(){var e;_i_("269:d0f5c528"),i&&(e=i,_i_("269:5324919d"),e.b_beach_information&&e.b_beach_information.beaches&&(r=[],e.b_beach_information.beaches.forEach(function(e){_i_("269:6ea76890");var t,i=e.center.split(",");Array.isArray(e.hero_image)&&e.hero_image.length&&e.hero_image[0]&&e.hero_image[0]["600x400"]?t=e.hero_image[0]["600x400"]:Array.isArray(e.destination_images)&&e.destination_images.length&&e.destination_images[0]&&e.destination_images[0]["600x400"]&&(t=e.destination_images[0]["600x400"]);var n={b_id:e.id,b_atlas_id:"beach_pilot_map"+e.id,b_type:"beach",b_basic_type:"pilot_beach",b_template:"www_atlas_overlay_marker_svg",b_states:{overlay:!0},width:22,height:24,b_name:e.name,b_latitude:i[0],b_longitude:i[1],b_image_url:t,b_desc:e.desc,b_reviews_html:e.reviews?B.jstmpl("beach_review_score").render(e.reviews):"",b_panel_trigger_options:{panel:"explore_beaches_panel",target:"sliding-view__beach",dest_id:e.id,dest_title:B.jstmpl.translations("beach_explore_beach_panel_overview_header",null,{beach_name:e.name})}};r.push(n),_r_()})),r=a.filter(r),n.addMarkers(r).then(function(){}),_r_()),_r_()}),n.on(n.EVENTS.MARKER_HOVER,function(e){_i_("269:a5a15a12"),"pilot_beach"===e.data.b_basic_type&&(clearInterval(t),n.openIW(e.id,{},B.jstmpl("atlas_iw_pilot_beach").render(e.data))),_r_()}),n.on(n.EVENTS.MARKER_OUT,function(e){_i_("269:feaef6f2"),"pilot_beach"===e.data.b_basic_type&&(t=setTimeout(function(){_i_("269:58f3a2d1"),n.closeIW(e.id),_r_()},150)),_r_()}),n.on(n.EVENTS.MARKER_CLICK,function(e){if(_i_("269:4aaa5a31"),"pilot_beach"===e.data.b_basic_type){var t=e.data.b_panel_trigger_options||{};t.fromMap=!0,l.get(t.panel).show(t),n.set("beach_marker_center_coords",[e.data.b_latitude,e.data.b_longitude]);var i=s("ga-tracker");"searchresults"===_?i.trackEvent("On: SR","Open: Explore Beach Panel","From: Map Beach marker click"):"hotel"===_&&i.trackEvent("On: HP","Open: Explore Beach Panel","From: Map Beach marker click")}else n.set("beach_marker_center_coords",null);_r_()}),n.on(n.EVENTS.CLOSE,function(){_i_("269:76eb0a42"),n.get("beach_marker_center_coords")&&n.set("beach_marker_center_coords",null),_r_()}),_r_()}})}),_r_()}),B.define("beach_hp_data_handler",function(e,t,i){_i_("269:24e1626e");var n=e("fragment"),r=e("jquery"),a={};return _r_({init:function(e){_i_("269:503049ef"),e&&(a=r.extend(a,e)),_r_()},getData:function(){if(_i_("269:7e3ac301"),a.name&&a.params)return _r_(n.call(a.name,a.params).then(function(e){if(_i_("269:8b3caa0c"),e&&Array.isArray(e.beaches)&&e.beaches.length){"www"===B.env.b_site_type?B.et.stage("YWYHfCfFaXaDDSFRURURHe",3):"mdot"===B.env.b_site_type&&B.et.stage("YWYHfCfFaXaDDSWPHDDWe",3);var t=e.beaches.filter(function(e){return _i_("269:9d40116c"),_r_(e.raw<1e3)}).length;t&&0<t?"www"===B.env.b_site_type?B.et.stage("YWYHfCfFaXaDDSFRURURHe",1):"mdot"===B.env.b_site_type&&B.et.stage("YWYHfCfFaXaDDSWPHDDWe",1):"www"===B.env.b_site_type?B.et.stage("YWYHfCfFaXaDDSFRURURHe",2):"mdot"===B.env.b_site_type&&B.et.stage("YWYHfCfFaXaDDSWPHDDWe",2)}return _r_(e)}));_r_()}})}),B.define("component/beaches-nearby",function(h,e,t){_i_("269:53f15f55");var i=h("component"),d=h("server-data"),n=h("beach_hp_data_handler");t.exports=i.extend({init:function(){_i_("269:fbf610de"),d.fe_beach_team_pilot_cta_visible&&d.fe_hotel_id&&this.setupPromises(),_r_()},setupPromises:function(){_i_("269:51a16f3a");var o=h("fragment"),c=h("promise");n.init({name:"beach.beach_panel",params:{dest_id:d.b_hotel_id,dest_type:"hotel",map_width:264,map_height:128,sections:"photos,reviews,static_map_url"}}),n.getData().then(function(s){if(_i_("269:3726ee84"),s&&s.beaches&&s.beaches.length){var e=h("async-loader").load({js:"async_beach_show_more_on_hp_js",css:"async_beach_show_more_on_hp_css"}),t=230;"mdot"===d.b_site_type&&(t=$(window).width()-64);var _=this.getBeachesBasedOnRadius(1e3,s.beaches),l=_.length;if(l)var i=s.beaches[0].center.split(","),n=[{lat:i[0],long:i[1],icon:"/static/img/beach/orange-2x-beach.png",type:"beach"}],r=112;else{n=s.beaches.slice(0,3).map(function(e,t){_i_("269:d46b9b90");var i=e.center.split(","),n="/static/img/beach/orange-2x-"+(t+=1)+".png";return _r_({lat:i[0],long:i[1],icon:n,type:"beach"})});if("mdot"===d.b_site_type)r=152;else r=128}n.push({lat:d.b_map_center_latitude,long:d.b_map_center_longitude,icon:"/static/img/beach/property2x.png",type:"hotel"});var a=o.call("geo.beach_static_map",{dest_id:d.b_hotel_id,dest_type:"hotel",points:n,width:t,height:r,use_retina:!0});c.all([e,a]).then(function(e){_i_("269:e24c1c89");var t,i=e&&e[1]?e[1]:"";if(3<=l){var n="";if(n="us"===d.b_guest_country&&"en"==d.b_lang?B.jstmpl.translations("beach_d_hp_panel_info_other_mi",null,{num:1}):B.jstmpl.translations("beach_d_hp_panel_info_other_km",null,{num:1}),t=this.render1kmBeaches(_,i,n),"mdot"===d.b_site_type){var r=B.jstmpl("beaches_nearby_cst__card"),a=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:_[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:d.b_site_type,fe_guest_country:d.b_guest_country});t=a.render({fe_short_content:o,fe_long_content:t})}}else if(0<l&&l<3){n=B.jstmpl.translations("beach_d_hp_panel_info_other_area");if(t=this.render1kmBeaches(s.beaches,i,n),"mdot"===d.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),a=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:_[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:d.b_site_type,fe_guest_country:d.b_guest_country});t=a.render({fe_short_content:o,fe_long_content:t})}}else if(t=this.renderNo1kmBeaches(s.beaches,i),"mdot"===d.b_site_type){r=B.jstmpl("beaches_nearby_cst__card"),a=B.jstmpl("beaches_nearby_cst__toggle"),o=r.render({beach:s.beaches[0],fe_show_mapinfo:!1,fe_horizontal:!0,fe_show_review_count:!1,fe_container_card:!0,fe_site_type:d.b_site_type,fe_guest_country:d.b_guest_country});t=a.render({fe_short_content:o,fe_long_content:t,fe_no_beaches:!0})}(this.$el.empty(),this.$el.append(t),this.$el.loadComponents(),window.BUI.initComponents(this.$el[0]),"mdot"===d.b_site_type)?$(".c-beaches-nearby__mobile .js-m-toggle-class .js-beaches-nearby-trigger").on("click",function(e){_i_("269:71b4917d"),e.stopPropagation(),_r_()}):$("#sidebar-beaches-map-cta").on("click",function(e){_i_("269:71b4917d1"),e.stopPropagation(),_r_()});_r_()}.bind(this),function(e){_i_("269:177245e3"),this.renderError(),_r_()}.bind(this))}else this.$el.remove();_r_()}.bind(this),function(e){_i_("269:ea385302"),this.renderError(),_r_()}.bind(this)),_r_()},getBeachesBasedOnRadius:function(t,e){if(_i_("269:d28fcd021"),!e)return _r_(0);var i=e.filter(function(e){return _i_("269:ba9f7b371"),_r_(e.raw<t)});return _r_(i)},render1kmBeaches:function(e,t,i){_i_("269:97b4b980");var n=B.jstmpl("beaches_nearby_cst__card"),r=B.jstmpl("beaches_nearby_cst__carousel"),a="",o=e.slice(0);return o.shift(),"mdot"===d.b_site_type?a+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>":(a+='<div class="c-beaches-nearby-header">'+B.jstmpl.translations("beach_d_hp_panel_info_header_around")+"</div>",a+='<hr class="c-beaches-nearby-divider" />'),a+='<div class="c-beaches-nearby-carousel__title">'+B.jstmpl.translations("beach_d_hp_panel_info_subheader_close")+"</div>",a+=n.render({beach:e[0],fe_show_mapinfo:!0,fe_static_map_url:t,fe_container_card:!0,fe_show_review_count:!0,fe_site_type:d.b_site_type,fe_guest_country:d.b_guest_country,fe_map_center_latitude:d.b_map_center_latitude,fe_map_center_longitude:d.b_map_center_longitude,fe_bbox_southwest_latitude:d.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:d.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:d.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:d.fe_bbox_northeast_longitude}),a+=r.render({beaches:o,showTitle:!0,fe_title:i,fe_carousel_border:"mdot"!==d.b_site_type}),_r_(a)},renderNo1kmBeaches:function(e,t){_i_("269:56254576");var i=B.jstmpl("beaches_nearby_cst__area"),n=e.slice(0,3),r="";return"mdot"===d.b_site_type?r+="<div class='u-font-weight:bold u-color:bright_blue u-margin-bottom:10'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</div>":r+="<h2 class='c-beaches-nearby-header'>"+B.jstmpl.translations("beach_d_hp_panel_info_header_area")+"</h2>",r+=i.render({beaches:n,fe_static_map_url:t,fe_map_center_latitude:d.b_map_center_latitude,fe_map_center_longitude:d.b_map_center_longitude,fe_bbox_southwest_latitude:d.fe_bbox_southwest_latitude,fe_bbox_southwest_longitude:d.fe_bbox_southwest_longitude,fe_bbox_northeast_latitude:d.fe_bbox_northeast_latitude,fe_bbox_northeast_longitude:d.fe_bbox_northeast_longitude,fe_site_type:d.b_site_type,fe_guest_country:d.b_guest_country,fe_show_index:!0}),_r_(r)},renderError:function(){_i_("269:f8f4fb84");var e=B.jstmpl("beaches_nearby_cst__error");this.$el.empty(),this.$el.append(e.render({fe_show_border:"www"===d.b_site_type?1:0})),$(".beaches-nearby-error__cta").on("click",function(){_i_("269:a3d25aee"),window.location.reload(),_r_()}),_r_()}}),_r_()}),B.when({action:["searchresults","hotel"],events:"load",condition:$(".car_rentals_discount_header--container").length}).run(function(e){_i_("269:1ae89c10"),$(".car_rentals_discount_header--container").addClass("car_rentals_discount_header--animate"),_r_()}),B.define("component/hotel/contact-host-desktop",function(t,e,i){_i_("269:b5b9290a");var n,r,a,o,s,_,l,c,h=t("component"),d=t("server-data"),f=t("lightbox"),u=t("jstmpl"),p=t("browser-storage-handler"),m=t("events"),b=t("jquery"),g=t("ga-tracker"),v="contactTheHostForm",y=b('[data-target="user_access_signup_menu"]'),M={customWrapperClassName:"contact-host-pre-booking-modal-wrapper",preventBodyScroll:!0,bOverflowVisible:!0},w=[{name:"hotel_id",value:d.b_hotel_id},{name:"lang",value:d.b_lang},{name:"user_id",value:d.b_reg_user_id},{name:"checkin",value:d.b_checkin_date},{name:"checkout",value:d.b_checkout_date},{name:"site_type_id",value:d.b_site_type_id},{name:"site_type",value:d.b_site_type}],k=p.getSessionValue("contact_the_host_form_position"),E=/.+@.+/,C={canRun:d.bhdc_www_nolgdin_can_run,userHasLoggedIn:!1},S=t("component/hotel/contact-host/constants").eventNames,x="";function T(){_i_("269:009d5a07"),f.show(a,M),x&&o.find('textarea[name="msg_body"]').val(x),o.off().on("submit",D),_.off().on("focus",function(){_i_("269:f576f106"),l.removeClass("invalid"),l.removeClass("bui-has-error"),_r_()}),m.emit("contactTheHost:show",a),m.one("modal:close",function(){_i_("269:93e61b04"),m.emit("contactTheHost:hide",a),_r_()}),g.trackEvent(g.hotelPageTracker,"Contact Host","See the contact form"),x="",_r_()}function N(){_i_("269:2aec9dbb"),k=b(this).data("position"),c=b(this).data("origin"),T(),g.trackEvent(g.hotelPageTracker,"Contact Host","CTA click"),_r_()}function I(e){_i_("269:ee2eeae1");var t,i=e.val(),n=(t=i,_i_("269:fb8a07e8"),!_r_(!t.trim()));return e.closest(".contact-host__validation_wrapper").toggleClass("invalid",!n),_r_(n)}function A(){_i_("269:67d185d0");var e=!0;return b("[required]",o).each(function(){_i_("269:4806ec03"),I(b(this))||(e=!1),_r_()}),b('[type="email"]',o).each(function(){_i_("269:5b6a3924"),function(e){_i_("269:062f09da");var t=e.val(),i=E.test(t);return e.closest(".contact-host__validation_wrapper").toggleClass("invalid",!i),_r_(i)}(b(this))||(e=!1),_r_()}),_r_(e)}function P(){_i_("269:347b02f0");var e=u(v).render({state:"SUCCESS",fe_reg_user_email:d.fe_reg_user_email||"",fe_hotel_id:d.b_hotel_id,b_companyname:d.b_companyname,is_search_results_page:"searchresults"===d.b_action,is_hotel_page:"hotel"===d.b_action,can_show_book_now_button:"hotel"===d.b_action&&"www"===d.b_site_type,user_is_logged_in:d.b_user_auth_level_is_low_or_high});f.hide(),o[0].reset(),f.show(e,M),b('.contact-host-with-question__message_success [data-component="feedback-inline"]').loadComponents(),L(),m.emit("contactTheHost:showSuccess",a),C.userHasLoggedIn&&(m.emit(S.NON_LOGGED_IN_FLOW_SUCCESS,{name:S.NON_LOGGED_IN_FLOW_SUCCESS}),m.emit(S.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGIN_NON_BUI,{name:S.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGIN_NON_BUI})),_r_()}function O(e){_i_("269:1431bb7b");var t=u(v).render({state:"FAIL"});f.hide(),f.show(t,M),s.attr("disabled",!1),m.emit("contactTheHost:showFail",a),_r_()}function D(e){if(_i_("269:a1d859aa"),e.preventDefault(),!A())return _r_();s.attr("disabled",!0);var t=[];c&&t.push({name:"origin",value:c}),"bottom_cta"===c&&t.push({name:"bottom",value:1});var i=b.ajax({method:o.attr("method"),xhrFields:{withCredentials:!0},url:d.domain_for_book+"/contact_host",data:o.serializeArray().concat(w,t)});i.done(P),i.fail(O),m.emit("contactTheHost:submit",a),C.userHasLoggedIn&&m.emit(S.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN,{name:S.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN}),g.trackEvent(g.hotelPageTracker,"Contact Host","Submit question"),_r_()}function j(){_i_("269:5250e62b"),r.on("click",function(){if(_i_("269:95f5fa61"),k=b(this).data("position"),_i_("269:5606ab68"),B.command("show-auth-lightbox").run({tab:"signin",extraClass:"contact-host-pre-booking-login"}),m.one("modal:close",function(){_i_("269:d77a8911"),p.deleteSessionValue("show_contact_the_host_form"),_r_()}),_r_(),p.addSessionValue("show_contact_the_host_form",!0),p.addSessionValue("contact_the_host_form_position",k),p.addSessionValue("user_has_logged_in",!0),d.b_user_auth_level_is_low&&g.trackEvent(g.hotelPageTracker,"Contact Host","See enter password form"),d.b_user_auth_level_is_none&&g.trackEvent(g.hotelPageTracker,"Contact Host","See login form"),C.canRun){var e=t("component/hotel/contact-host/local-storage");e.save({test:"1"})?e.clear():m.emit(S.NON_LOGGED_IN_FLOW_FAILED_TO_SAVE_LOCAL_DATA_BEFORE_AUTH,{name:S.NON_LOGGED_IN_FLOW_FAILED_TO_SAVE_LOCAL_DATA_BEFORE_AUTH}),m.emit(S.NON_LOGGED_IN_FLOW_CLICKS_CTA,{$btn:b(this),name:S.NON_LOGGED_IN_FLOW_CLICKS_CTA}),m.emit(S.NON_LOGGED_IN_FLOW_OPENS_LOG_IN_FORM,{name:S.NON_LOGGED_IN_FLOW_OPENS_LOG_IN_FORM})}_r_()}),_r_()}function L(){_i_("269:59914e5b"),a=b(u(v).render({state:d.fe_reg_user_email?"EDIT":"NO_EMAIL",languages_spoken:d.languages_spoken_by_hotelier,b_companyname:d.b_companyname,fe_reg_user_email:d.fe_reg_user_email||"",b_original_url:d.b_original_url,fe_pre_booking_asker_name:d.fe_pre_booking_asker_name||"",b_free_cancellation_property:d.b_free_cancellation_property})),o=b("form",a),s=b(".contact-host-submit",o),_=b('[name="msg_body"]',o),l=_.closest(".contact-host__validation_wrapper"),_i_("269:1fe7136e"),r.on("click",N),document.getElementById("wl252-modal__if")&&g.trackEvent(g.hotelPageTracker,"Contact Host","Welcome screen"),y.on("click",function(){_i_("269:af2e3cb2"),g.trackEvent(g.hotelPageTracker,"Contact Host","See signup form"),_r_()}),_r_(),_i_("269:375d360d"),p.getSessionValue("show_contact_the_host_form")&&(T(),C.userHasLoggedIn=d.b_user_auth_level_is_low_or_high||0,C.userHasLoggedIn&&m.emit(S.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_AFTER_LOGIN_NON_BUI,{name:S.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_AFTER_LOGIN_NON_BUI}),p.deleteSessionValue("show_contact_the_host_form"),p.deleteSessionValue("contact_the_host_form_position")),_r_(),_r_()}m.one(S.NON_LOGGED_IN_FLOW_SENDING_MESSAGE_FAILED_AFTER_LOGIN,function(e){_i_("269:25fedfeb"),x=e.formData.msg_body,_r_()}),i.exports=h.extend({init:function(){if(_i_("269:cbd97cca"),n=!!d.b_user_auth_level_is_low||d.b_user_auth_level_is_high,r=b(".contact-host-with-question__open-form-button",this.el),p.deleteSessionValue("user_has_logged_in"),a)return r.on("click",N),_r_();n?L():j(),_r_()}}),_r_()}),booking.jstmpl("contactTheHostForm",function(){_i_("269:89782ad8");var _,l=["\n\n  \n\n",'\n    <div class="contact-host-with-question__message-form">\n      <div class="contact-host__header">\n        <strong>',"</strong>\n        ","/private/bhdc_pp_contact_host_form_header/name",'\n      </div>\n        <form class="bblp-form"\n            method="POST"\n            novalidate\n            >\n\n      ','\n    <label class="contact-host__labels">',"/private/bhdc_pp_contact_host_form_question_header/name",'</label>\n    <div class="contact-host__validation_wrapper">\n        <textarea\n            name="msg_body"\n            rows="6"\n            placeholder="',"/private/bhdc_pp_contact_host_form_question_1/name","&#10;","/private/bhdc_pp_contact_host_form_question_2/name",'"\n            class="contact-host__form-fields contact-host__form-fields_textarea"\n            required></textarea>\n    </div>\n\n      <span class="contact-host__languages-spoken_header">',"/private/bhdc_pp_contact_host_form_languages_spoken/name",'</span>\n      <ul class="contact-host__languages-spoken">\n        ',"\n          <li>\n            ","\n          </li>\n        ","\n      </ul>\n\n\n","\n    ","<strong>","</strong>",'\n\n    <label class="contact-host__checkbox">\n        ',"/private/bhdc_pp_contact_host_form_name_permission/name",'\n        <input type="checkbox" checked="checked" name="user_consent" value="1">\n        <span class="contact-host__checkmark"></span>\n    </label>\n','\n\n\n\n    <p class="contact-host__dissclaimer_required contact-host__divider">\n      ',"/private/bhdc_pp_contact_host_form_required_field_disclaimer/name","\n    </p>\n",'\n\n            <button class="b-button b-button_primary call_to_action--wide contact-host-submit" name="save" value="save" type="submit">\n            ',"/private/bhdc_pp_contact_host_form_send_cta/name",'\n            </button>\n            <p class="contact-host__dissclaimer">\n              ',"/private/bhdc_contact_form_confirmation_guest_footer/name","</a>","\n            </p>\n\n        </form>\n    </div>\n\n",'\n\n  \n\n  <div class="contact-host-with-question__message_success">\n    <div class="contact-host__header">',"/private/bhdc_pp_contact_host_form_success_header/name","</div>\n      ",'\n        <h5 class="feedback-message__header-success">',"/private/bhdc_pp_contact_host_form_success_subheader/name","</h5>\n        ","\n        <p>","/private/bhdc_pp_contact_host_form_success_body/name","</p>\n      ","\n        ",'\n          <h5 class="feedback-message__header-success">',"</h5>\n          <p>","/private/bh_dc_contact_host_reply_to_confirmed_email/name","</p>\n        ","/private/bh_dc_contact_host_question_sent_property/name","\n\n      ",'\n        <div class="bui-u-text-center contact-host__space">\n          <hr class="bui-divider" />\n          <a href="#availability"\n             class="bui-button bui-button--primary lightbox-element-close contact-host__space"\n             type="button"\n             data-ref=\'hp_availability_style_changes\'\n             data-scroll=\'a[name=availability]\'\n             rel=\'main\'\n          >\n            <span class="bui-button__text">',"/private/bhdc_contact_form_host_reply_book_cta/name","</span>\n          </a>\n        </div>\n      ","\n\n </div>\n",'\n  \n     <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">',"/private/bhdc_pp_contact_host_form_error_header/name",'</div>\n         <p class="feedback-message__header feedback-message__header-error">',"/private/bhdc_pp_contact_host_form_error_subheader/name","</p>\n         <p>\n           ","/private/bhdc_pp_contact_host_form_error_body/name","\n         </p>\n    </div>\n\n",'\n  \n    <div class="contact-host-with-question__message_error">\n       <div class="contact-host__header">\n         ',"/private/bhdc_contact_host_no_email_error_header/name",'\n       </div>\n         <p class="feedback-message__header feedback-message__header-error">',"/private/bhdc_contact_host_no_email_error_subheader/name","/private/bhdc_contact_host_no_email_error_body/name","\n         </p>\n    </div>\n\n  ",'\n        <div class="feedback-message__header contact-host__message_body">\n         <div class="contact-host__header">\n           ',"/private/bhdc_non_logged_in_check_email_header/name",'\n         </div>\n\n         <div class="bui-alert bui-alert--info bui-u-bleed@inline" role="status">\n            <div class="bui-alert__description">\n                <p class="bui-alert__text">\n                    <strong class="bui-f-font-strong">',"/private/bhdc_non_logged_in_check_email_body_1/name","</strong>\n                </p>\n            </div>\n        </div>\n         <p>\n           ","\n           ","/private/bhdc_non_logged_in_check_email_body_2/name","\n         </p>\n         <p>\n           ","/private/bhdc_non_logged_in_check_email_body_3/name","48",'\n         </p>\n           <a role="button" data-dismiss-modal="true">',"/private/bhdc_non_logged_in_check_email_close_cta/name","</a>\n      </div>\n\n","\n\n","\n"],c=["text","languages_spoken","fe_pre_booking_asker_name_in_bold","fe_pre_booking_asker_name","state","fe_bhdc_success_email","fe_reg_user_email","user_is_logged_in","is_hotel_page","b_dircom_property_name","can_show_book_now_button","fe_user_email_address"];return _r_(function(o){_i_("269:93fd6e7b");var e,t="",s=this.fn;return e=t,_i_("269:4ac59ff5"),e+=["",l[0]].join(""),s.MJ(s.MB(c[4])+""=="EDIT")?(e=function(e){_i_("269:b65d9e39"),e+=[l[5],s.ME(l[6],s.MB,s.MN,null),l[7],s.ME(l[8],s.MB,s.MN,null),l[9],s.ME(l[10],s.MB,s.MN,null),l[11],s.ME(l[12],s.MB,s.MN,null),l[13]].join("");var t=s.MC(c[1])||[];o.unshift({language:null});for(var i,n=1,r=t.length;n<=r;n++)o[0].language=i=t[n-1],e+=[l[14],(i||{}).b_language_translated,l[15]].join("");if(o.shift(),e+=l[16],s.MD(c[3])){e+=l[17];var a="";a+=[l[18],s.F.html(s.MB(c[3])),l[19]].join(""),s.MN(c[2],a),e+=[l[20],(o.unshift({user_name:s.MB(c[2])}),_=s.ME(l[21],s.MB,s.MN,null),o.shift(),_),l[22]].join("")}return e+=[l[23],s.ME(l[24],s.MB,s.MN,null),l[25]].join(""),_r_(e)}(e+=[l[1],s.MC(c[0]),l[2],s.ME(l[3],s.MB,s.MN,null),l[4]].join("")),e+=[l[26],s.ME(l[27],s.MB,s.MN,null),l[28],(o.unshift({end_link:l[30],start_link:"<a href='https://www.booking.com/content/privacy.html' target='_blank'>"}),_=s.ME(l[29],s.MB,s.MN,null),o.shift(),_),l[31]].join("")):s.MJ(s.MB(c[4])+""=="SUCCESS")?(e+=[l[32],s.ME(l[33],s.MB,s.MN,null),l[34]].join(""),s.MD(c[7])?(e+=[l[35],s.ME(l[36],s.MB,s.MN,null),l[37]].join(""),s.MN(c[5],[l[18],s.F.entities(s.MC(c[6])),l[19]].join("")),e+=[l[38],(o.unshift({guest_email:s.MB(c[5])}),_=s.ME(l[39],s.MB,s.MN,null),o.shift(),_),l[40]].join("")):(e+=l[41],s.MD(c[8])?e+=[l[42],s.ME(l[36],s.MB,s.MN,null),l[43],s.ME(l[44],s.MB,s.MN,null),l[45]].join(""):e+=[l[42],(o.unshift({property_name:s.MC(c[9])}),_=s.ME(l[46],s.MB,s.MN,null),o.shift(),_),l[43],s.ME(l[44],s.MB,s.MN,null),l[45]].join(""),e+=l[41]),e+=l[47],s.MD(c[10])&&(e+=[l[48],s.ME(l[49],s.MB,s.MN,null),l[50]].join("")),e+=l[51]):s.MJ(s.MB(c[4])+""=="FAIL")?e+=[l[52],s.ME(l[53],s.MB,s.MN,null),l[54],s.ME(l[55],s.MB,s.MN,null),l[56],s.ME(l[57],s.MB,s.MN,null),l[58]].join(""):s.MJ(s.MB(c[4])+""=="NO_EMAIL")?e+=[l[59],s.ME(l[60],s.MB,s.MN,null),l[61],s.ME(l[62],s.MB,s.MN,null),l[56],s.ME(l[63],s.MB,s.MN,null),l[64]].join(""):s.MJ(s.MB(c[4])+""=="ALMOST_THERE")&&(e+=[l[65],s.ME(l[66],s.MB,s.MN,null),l[67],s.ME(l[68],s.MB,s.MN,null),l[69]].join(""),s.MN(c[11],[l[18],s.F.entities(s.MC(c[6])),l[19]].join("")),e+=[l[70],(o.unshift({email_address:s.MB(c[11])}),_=s.ME(l[71],s.MB,s.MN,null),o.shift(),_),l[72],(o.unshift({num:l[74]}),_=s.ME(l[73],s.MB,s.MN,null),o.shift(),_),l[75],s.ME(l[76],s.MB,s.MN,null),l[77]].join("")),e+=[l[78],"",l[79]].join(""),t=_r_(e),_r_(t)})}()),B.define("component/contact-host/confirmation",function(e,t,i){_i_("269:7eb2fe68");var n=e("component");i.exports=n.extend({init:function(){_i_("269:b1ed8a4b");var e=window.BUI.createInstance("Modal",null,{id:"contact-host__email-success",template:this.$el[0],onAfterClose:function(){_i_("269:333d7dac"),$(e.contentWrapper).empty(),this.unmount(),_r_()}});e.mount(),e.open(),_r_()}}),_r_()}),B.define("component/hotel/contact-host",function(e,t,i){_i_("269:efde7fe4");var n,r=e("component"),a=e("jquery"),o=e("server-data"),s=e("component/hotel/contact-host/actions"),_=e("hotel/store"),l=_.getState().contactHost,c=e("component/hotel/contact-host/constants").eventNames,h=e("et"),d=B.require("events"),f=e("component/hotel/contact-host/local-storage");i.exports=r.extend({init:function(){_i_("269:99c74d42"),function(){_i_("269:d7613992");var n={};for(var e in n.NAFLSHNLOLOLOOTOYXbPBePYEYUIbQbAEDC={is_valid_to_track:"www"===o.b_site_type,stages:{1:c.NON_LOGGED_IN_FLOW_CLICKS_CTA,2:c.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_AFTER_LOGIN_NON_BUI,3:c.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGIN_NON_BUI,4:c.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_BUI,5:c.NON_LOGGED_IN_FLOW_CHOOSES_TO_SIGN_IN,6:c.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGGING_IN,7:c.NON_LOGGED_IN_FLOW_CHOOSES_TO_VERIFY_EMAIL,8:c.NON_LOGGED_IN_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY},goals:{1:c.NON_LOGGED_IN_FLOW_SUCCESS,2:[c.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN,c.NON_LOGGED_IN_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY],3:c.NON_LOGGED_IN_FLOW_CLICKS_BACK_TO_MESSAGE,4:c.NON_LOGGED_IN_FLOW_FAILED_TO_SAVE_LOCAL_DATA_BEFORE_AUTH}},n.NAFLSHYBBVYUBUTHXSJNeDHPPYVSGFGPOOOVfLUO={is_valid_to_track:"mdot"===o.b_site_type,stages:{1:c.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_MDOT,2:c.NON_LOGGED_IN_ONE_STEP_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY,3:c.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_VERIFYING_EMAIL,4:c.NON_LOGGED_IN_FLOW_CHOOSES_TO_SIGN_IN,5:c.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN,6:c.NON_LOGGED_IN_FLOW_CHOOSES_TO_VERIFY_EMAIL,7:c.NON_LOGGED_IN_TWO_STEPS_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY,8:c.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_VERIFYING_EMAIL},goals:{1:c.NON_LOGGED_IN_FLOW_SUCCESS,2:[c.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN,c.NON_LOGGED_IN_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY,c.NON_LOGGED_IN_ONE_STEP_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY],3:c.NON_LOGGED_IN_FLOW_SWITCHES_FROM_VERIFY_EMAIL_TO_SIGN_IN}},c)if(c.hasOwnProperty(e)){var t=c[e];d.once(t,function(e){_i_("269:0438bc2d"),i(e),_r_()})}function i(e){for(var t in _i_("269:9c6a5d44"),n)if(n.hasOwnProperty(t)){var i=n[t];i.is_valid_to_track&&(r(t,i,e.name),a(t,i,e.name))}_r_()}function r(t,e,i){_i_("269:7b67c9f9");var n=e.stages;for(var r in n)if(n.hasOwnProperty(r)&&0<=(r=parseInt(r))&&r<=9){var a=n[r];"string"==typeof a&&(a=[a]),a.forEach(function(e){_i_("269:76059fcb"),e===i&&h.stage(t,r),_r_()})}_r_()}function a(t,e,i){_i_("269:c16eeb3d");var n=e.goals;for(var r in n)if(n.hasOwnProperty(r)&&1<=(r=parseInt(r))&&r<=5){var a=n[r];"string"==typeof a&&(a=[a]),a.forEach(function(e){_i_("269:6fdb6194"),e===i&&h.customGoal(t,r),_r_()})}_r_()}_r_()}();var e=B.jstmpl({mdot:"contactTheHostFormMdot",www:"contactTheHostFormDesktop"}[o.b_site_type]).render(l);switch((n=window.BUI.createInstance("Modal",this.$el[0],{id:"contact-host__modal",template:e,onAfterOpen:function(){_i_("269:6cdfda17");var e=a(n.contentWrapper);e.loadComponents(),e.on("click",'[data-bui-ref="modal-close"]',function(){_i_("269:393e3f24"),n.close(),_r_()}),_.dispatch(s.openModal()),_r_()},onAfterClose:function(){_i_("269:75b07107"),_.dispatch(s.closeModal()),_r_()}})).mount(),a("body").on("click",".js-bhdc-contact-host-btn",function(e){_i_("269:de4ede73"),e.preventDefault(),n.open(),_.dispatch(s.clickedCTAButton({$btn:a(e.currentTarget)})),_r_()}),o.b_site_type){case"mdot":this.initMdot()}f.nonLoggedInHasPendingMessage()?n.open():f.clear(),_r_()},initMdot:function(){_i_("269:b8d24630"),this.$el.on("click",function(e){_i_("269:67fc1361"),e.stopPropagation(),_r_()}),_r_()}}),_r_()}),booking.jstmpl("contactTheHostFormMdot",function(){_i_("269:a201d868");var h,d=["\n\n",'<div data-component="hotel/contact-host/form"> ','<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__success-verify__title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_non_logged_in_check_email_header/name",'\n    </h1>\n    <p\n        class="bui-modal__paragraph"\n        id="contact-host__success-verify__subtitle"\n        data-bui-ref="modal-subtitle"\n    >\n        ',"/private/bhdc_non_logged_in_check_email_body_1/name",'\n    </p>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n\n    <p class="bui-f-font-strong bui-spacer--large">\n        ',"/private/bhdc_non_logged_in_check_email_body_2/name",'\n    </p>\n\n    <p class="bui-spacer--large">',"/private/bhdc_non_logged_in_check_email_body_3/name",'</p>\n\n    <div class="bui-alert bui-alert--info bui-u-bleed@small" role="status">\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            ',"","iconset/info_sign","presentation","24",'\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"/private/bhdc_non_logged_in_check_email_promotions_tab/name",'\n            </p>\n        </div>\n    </div>\n\n</div>\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ',"/private/bhdc_non_logged_in_check_email_close_cta/name","\n            </span>\n        </button>\n    </div>\n</footer>\n","\n","<b>","</b>",'\n\n<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__success__title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_pp_contact_host_form_success_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n    <p\n        class="bui-modal__paragraph bui-spacer--large"\n        id="contact-host__success__subtitle"\n        data-bui-ref="modal-subtitle"\n    >\n        <strong>',"/private/bhdc_pp_contact_host_form_success_subheader/name","</strong>\n    </p>\n\n    <p>\n        ","/private/bhdc_mdot_contact_form_logged_in_success_reponse_time/name",'\n    </p>\n\n</div>\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ',"/private/bhdc_mdot_contact_form_logged_in_success_close/name",'<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__fail_title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_pp_contact_host_form_error_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n    <p\n        class="bui-modal__paragraph"\n        id="contact-host__fail__subtitle"\n        data-bui-ref="modal-subtitle"\n    >\n        ',"/private/bhdc_pp_contact_host_form_error_subheader/name","\n    </p>\n    <p>","/private/bhdc_pp_contact_host_form_error_body/name",'</p>\n</div>\n\n<hr class="bui-divider bui-divider--light" />\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ','\n\n<form novalidate class="contact-host__form">\n    ','\n        <div class="contact-host__form__disabler"></div>\n    ',"\n\n    ","\n        ",'<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__form__title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_pp_contact_host_form_header/name","\n    </h1>\n    ",'\n        <div>\n            <div class="contact-host__responsive-host-title">\n                ',"contact-host__responsive-host-title-icon responsive-host-icon","experiments/messaging-responsive-host","\n                ","/private/gpc_responsive_profile_desc_android/name",'\n            </div>\n            <p\n                class="bui-modal__paragraph contact-host__responsive-host-subtitle"\n                data-bui-ref="modal-subtitle"\n            >\n                ',"/private/gpc_responsive_profile_desc_b/name","\n            </p>\n        </div>\n    ",'\n        <p\n            class="bui-modal__paragraph"\n            id="contact-host__form__subtitle"\n            data-bui-ref="modal-subtitle"\n        >\n            ',"/private/bhdc_mdot_contact_form_estimated_repsonse_time/name","\n        </p>\n    ",'\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n\n    \n    <div class="\n        bui-form__group\n        bui-spacer--medium\n        ',"\n            js-field-has-error\n            bui-has-error\n        ",'\n    ">\n        <label for="contact-host__form__message">\n            ',"/private/bhdc_send_question_form_question/name","\n            ","/private/bhdc_send_question_form_required/name",'\n        </label>\n        <textarea\n            id="contact-host__form__message"\n            name="msg_body"\n            class="bui-form__control bui-input-textarea js-bhdc-form-field"\n            rows="6"\n            placeholder="',"/private/bhdc_mdot_contact_form_type_question_here/name",'"\n            aria-describedby="contact-host__form__message__desc"\n        >','</textarea>\n        <div class="bui-form__error" id="contact-host__form__message__desc">\n            ',"/private/bhdc_mdot_contact_form_invalid_message_error/name","\n        </div>\n    </div>\n\n    ",'\n        \n        <div class="bui-form__group bui-spacer--medium">\n            <label for="contact-host__form__name">\n                ',"/private/bhdc_mdot_contact_form_name_label/name",'\n            </label>\n            <input\n                type="text"\n                id="contact-host__form__name"\n                name="nick_name"\n                class="bui-form__control js-bhdc-form-field"\n                value="','"\n                aria-describedby="contact-host__form__name__desc"\n            />\n            <div class="bui-form__error" id="contact-host__form__name__desc">\n                ',"\n            </div>\n        </div>\n\n        \n        ",'\n            <div class="\n                bui-form__group\n                bui-spacer--medium\n                ',"\n                    js-field-has-error\n                    bui-has-error\n                ",'\n            ">\n                <label for="contact-host__form__email">\n                    ',"/private/bhdc_mdot_contact_form_email_required_label/name",'\n                </label>\n                <input\n                    type="email"\n                    id="contact-host__form__email"\n                    name="email"\n                    class="bui-form__control js-bhdc-form-field"\n                    value="','"\n                    aria-describedby="contact-host__form__email__desc"\n                />\n                <div class="bui-form__error" id="contact-host__form__email__desc">\n                    ',"/private/bhdc_mdot_contact_form_invalid_email_error/name","\n                </div>\n            </div>\n        ","\n    "," "," - ",'\n    <div class="bui-f-font-caption">\n        ',"/private/bhdc_mdot_contact_host_form_languages_spoken/name",'\n    </div>\n\n</div>\n\n\n\n<footer class="bui-modal__footer">\n        ','\n            <div class="bui-spacer--large">\n               <a class="bui-button bui-button--primary bui-button--large bui-button--wide js-bhdc-form-action-sign-in" href="','">\n                   <span class="bui-button__text">',"/private/bh_dc_mdot_sign_in_to_submit_cta/name",'</span>\n               </a>\n            </div>\n            <div class="bui-spacer--large">\n                ','<button class="',"bui-button ","bui-button--","bui-button--primary ","bui-button--large ","bui-button--wide ","is-loading ",'" ',' type="',' type="button" ',' disabled="" ',' on:click="'," >",'<span class="bui-button__icon bui-button__loading-icon">',"material/ic_loading","large","</span>",'<span class="bui-button__icon">',"medium","#b3b3b3",'<span class="bui-button__text">',"</button>",'\n    <div class="bui-alert bui-alert--error bui-alert--inline u-bleed@small" role="status">\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128" width="24" height="24"><title>warning</title><g id="_8x" data-name="8x"><path id="warning" d="M64,8a56,56,0,1,0,56,56A56,56,0,0,0,64,8Zm0,91a8,8,0,1,1,8-8A8,8,0,0,1,64,99Zm7.93-61h0L67,77H61L56.06,38h0a8,8,0,1,1,15.86,0Z"/></g></svg>\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"\n            </p>\n        </div>\n    </div>\n","You did not provide text or an icon.","js-bhdc-form-action-goto-step-2","button","secondary","true","\n            </div>\n        ",'\n            <button\n                type="submit"\n                class="\n                    bui-button\n                    bui-button--wide\n                    bui-button--large\n                    bui-button--primary\n                    bui-spacer--medium\n                    ',"\n                    js-bhdc-form-action-goto-step-2\n                    ","\n                    ","\n                        is-loading\n                    ",'\n                "\n            >\n                <span class="bui-button__icon bui-button__loading-icon">\n                    ',"iconset/loading",'\n                </span>\n                <span class="bui-button__text">\n                    ',"\n                        ","/private/bhdc_send_question_next_step_cta/name","/private/bhdc_pp_contact_host_form_send_cta/name","\n                </span>\n            </button>\n        ",'\n\n    <div class="bui_font_caption bui-f-color-grayscale bui-u-text-center">\n        ',"/private/bhdc_contact_form_confirmation_guest_footer/name","</a>",'<a class="bui-link bui-link--primary" href="https://www.booking.com/content/privacy.html" target="_blank">',"\n    </div>\n</footer>\n","/private/bh_dc_mdot_contact_details_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n\n    <textarea\n        id="contact-host__form__message"\n        name="msg_body"\n        class="bui-form__control bui-input-textarea js-bhdc-form-field bui-u-hidden"\n        rows="6"\n        placeholder="','"\n        aria-describedby="contact-host__form__message__desc"\n    >','</textarea>\n\n    \n    <div class="bui-form__group bui-spacer--medium">\n        <label for="contact-host__form__name">\n            ',"/private/bh_dc_mdot_contact_details_name/name",'\n        </label>\n        <input\n            type="text"\n            id="contact-host__form__name"\n            name="nick_name"\n            class="bui-form__control js-bhdc-form-field"\n            value="','"\n            aria-describedby="contact-host__form__name__desc"\n        />\n        <div class="bui-form__error" id="contact-host__form__name__desc">\n            ','\n        </div>\n    </div>\n\n    \n    <div class="\n        bui-form__group\n        bui-spacer--medium\n        ','\n    ">\n        <label for="contact-host__form__email">\n            ',"/private/bh_dc_mdot_contact_details_email/name",'\n        </label>\n        <input\n            type="email"\n            id="contact-host__form__email"\n            name="email"\n            class="bui-form__control js-bhdc-form-field"\n            value="','"\n            aria-describedby="contact-host__form__email__desc"\n        />\n        <div class="bui-form__error" id="contact-host__form__email__desc">\n            ','\n        </div>\n    </div>\n\n</div>\n\n\n\n<footer class="bui-modal__footer">\n        <div class="bui-spacer--large">\n            ',"submit","primary",'\n        </div>\n        <a class="bui-button bui-button--secondary bui-button--large bui-button--wide js-bhdc-form-action-sign-in" href="','">\n            <span class="bui-button__text">','</span>\n        </a>\n    <div class="bui_font_caption bui-f-color-grayscale bui-u-text-center">\n        ',"\n\n</form>\n","</div> "],f=["form","host","fe_user_email","languages_spoken","variant","size","wide","is_loading","js_class","type","disabled","data_args","input_data_args","on_click","has_loading_icon","icon","disabled_color","text","component_error","b_dev_server","bh_dc_mdot_send_link_email_cta","formStates","nonLoggedInFlowSteps","bh_dc_mdot_email_verification_link","constants"];return _r_(function(_){_i_("269:45f2fb1c");var e,t,i,n,r="",l=this.fn;function c(e){var t;return _i_("269:9468a4cd"),e+=d[11],l.MJ(l.MB(f[17]))||l.MJ(l.MB(f[17])+""=="0")||l.MJ(l.MB(f[15]))?(e+=d[91],e+=d[92],l.MJ(l.MB(f[4])+""=="secondary")||l.MJ(l.MB(f[4])+""=="destructive")?e+=[d[93],l.F.entities(l.MC(f[4])),d[82]].join(""):e+=d[94],l.MJ(l.MB(f[5])+""=="large")&&(e+=d[95]),l.MD(f[6])&&(e+=d[96]),l.MD(f[7])&&(e+=d[97]),l.MJ(l.MB(f[8]))&&l.MJ(/^js-/.test(l.MB(f[8])))&&(e+=[l.F.entities(l.MC(f[8])),d[11]].join("")),e+=d[98],l.MJ(l.MB(f[9])+""=="submit")||l.MJ(l.MB(f[9])+""=="reset")?e+=[d[99],l.F.entities(l.MC(f[9])),d[98]].join(""):e+=d[100],e+=d[11],l.MD(f[10])&&(e+=d[101]),e+=d[11],l.MD(f[11])&&(e+=[d[11],l.MC(f[11]),d[11]].join("")),e+=d[11],l.MJ(l.MB(f[12]))&&l.MJ(/^data-/.test(l.MB(f[12])))&&(e+=[d[11],l.MC(f[12]),d[11]].join("")),e+=d[11],l.MD(f[13])&&(e+=[d[102],l.F.entities(l.MC(f[13])),d[98]].join("")),e+=d[103],l.MD(f[14])&&(e+=[d[104],(_.unshift({name:d[105],size:d[106]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[107]].join("")),e+=d[11],l.MD(f[15])&&(e+=d[108],l.MJ(l.MB(f[4])+""=="primary")||l.MJ(l.MB(f[4])+""=="destructive")?e+=[d[11],(_.unshift({color:"#FFFFFF",name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join(""):l.MD(f[10])?(e+=d[11],l.MN(f[16],d[110]),e+=[d[11],(_.unshift({color:l.MB(f[16]),name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join("")):e+=[d[11],(_.unshift({color:"#0077CC",name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join(""),e+=d[107]),e+=d[11],(l.MJ(l.MB(f[17]))||l.MJ(l.MB(f[17])+""=="0"))&&(e+=[d[111],l.MB(f[17]),d[107]].join("")),e+=d[112],e+=d[11]):l.MD(f[19])&&(e+=d[81],_.unshift({component_error:d[115]}),t=e,_i_("269:e792d53a"),l.MD(f[18])&&(t+=[d[113],l.F.entities(l.MC(f[18])),d[114]].join("")),t+=d[0],l.MN("component_error",""),t+=d[20],e=_r_(t),_.shift(),e+=d[11]),e+=d[11],e+=d[11],l.MN("text",""),e+=d[11],l.MN("variant",""),e+=d[11],l.MN("icon",""),e+=d[11],l.MN("type",""),e+=d[11],l.MN("disabled",""),e+=d[11],l.MN("js_class",""),e+=d[11],l.MN("data_args",""),e+=d[11],l.MN("input_data_args",""),e+=d[11],l.MN("wide",""),e+=d[11],l.MN("size",""),e+=d[11],l.MN("is_loading",""),e+=d[11],l.MN("has_loading_icon",""),e+=d[11],l.MN("on_click",""),e+=d[11],_r_(e)}function a(e){var t;return _i_("269:afa02f5a"),e+=d[11],l.MJ(l.MB(f[17]))||l.MJ(l.MB(f[17])+""=="0")||l.MJ(l.MB(f[15]))?(e+=d[91],e+=d[92],l.MJ(l.MB(f[4])+""=="secondary")||l.MJ(l.MB(f[4])+""=="destructive")?e+=[d[93],l.F.entities(l.MC(f[4])),d[82]].join(""):e+=d[94],l.MJ(l.MB(f[5])+""=="large")&&(e+=d[95]),l.MD(f[6])&&(e+=d[96]),l.MD(f[7])&&(e+=d[97]),l.MJ(l.MB(f[8]))&&l.MJ(/^js-/.test(l.MB(f[8])))&&(e+=[l.F.entities(l.MC(f[8])),d[11]].join("")),e+=d[98],l.MJ(l.MB(f[9])+""=="submit")||l.MJ(l.MB(f[9])+""=="reset")?e+=[d[99],l.F.entities(l.MC(f[9])),d[98]].join(""):e+=d[100],e+=d[11],l.MD(f[10])&&(e+=d[101]),e+=d[11],l.MD(f[11])&&(e+=[d[11],l.MC(f[11]),d[11]].join("")),e+=d[11],l.MJ(l.MB(f[12]))&&l.MJ(/^data-/.test(l.MB(f[12])))&&(e+=[d[11],l.MC(f[12]),d[11]].join("")),e+=d[11],l.MD(f[13])&&(e+=[d[102],l.F.entities(l.MC(f[13])),d[98]].join("")),e+=d[103],l.MD(f[14])&&(e+=[d[104],(_.unshift({name:d[105],size:d[106]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[107]].join("")),e+=d[11],l.MD(f[15])&&(e+=d[108],l.MJ(l.MB(f[4])+""=="primary")||l.MJ(l.MB(f[4])+""=="destructive")?e+=[d[11],(_.unshift({color:"#FFFFFF",name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join(""):l.MD(f[10])?(e+=d[11],l.MN(f[16],d[110]),e+=[d[11],(_.unshift({color:l.MB(f[16]),name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join("")):e+=[d[11],(_.unshift({color:"#0077CC",name:l.MB(f[15]),size:d[109]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[11]].join(""),e+=d[107]),e+=d[11],(l.MJ(l.MB(f[17]))||l.MJ(l.MB(f[17])+""=="0"))&&(e+=[d[111],l.MB(f[17]),d[107]].join("")),e+=d[112],e+=d[11]):l.MD(f[19])&&(e+=d[81],_.unshift({component_error:d[115]}),t=e,_i_("269:76568acc"),l.MD(f[18])&&(t+=[d[113],l.F.entities(l.MC(f[18])),d[114]].join("")),t+=d[0],l.MN("component_error",""),t+=d[20],e=_r_(t),_.shift(),e+=d[11]),e+=d[11],e+=d[11],l.MN("text",""),e+=d[11],l.MN("variant",""),e+=d[11],l.MN("icon",""),e+=d[11],l.MN("type",""),e+=d[11],l.MN("disabled",""),e+=d[11],l.MN("js_class",""),e+=d[11],l.MN("data_args",""),e+=d[11],l.MN("input_data_args",""),e+=d[11],l.MN("wide",""),e+=d[11],l.MN("size",""),e+=d[11],l.MN("is_loading",""),e+=d[11],l.MN("has_loading_icon",""),e+=d[11],l.MN("on_click",""),e+=d[11],_r_(e)}function o(e){return _i_("269:5cec7785"),e+=d[38],l.MJ(l.MC(f[0]).state+""=="PROCESSING")&&(e+=d[39]),e+=d[40],l.MJ(l.MC(f[0]).flow.isLoggedIn)||l.MK(l.MC(f[0]).flow.notLoggedInStep)||l.MJ(l.MC(f[0]).flow.notLoggedInStep+""==""+l.MC(f[22]).ENTER_MESSAGE)||l.MJ(l.MC(f[0]).flow.notLoggedInStep+""==""+l.MC(f[22]).LOGGING_IN)?(e+=d[41],_.unshift({form:l.MB(f[0]),formStates:l.MB(f[21])}),e=function(e){_i_("269:974994ea"),e+=[d[42],l.ME(d[43],l.MB,l.MN,null),d[44]].join(""),l.MJ(l.MG((l.MC(f[1])||{}).is_responsive))?e+=[d[45],(_.unshift({class:d[46],color:"#0AB21B",height:d[14],name:d[47],width:d[14]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[48],l.ME(d[49],l.MB,l.MN,null),d[50],l.ME(d[51],l.MB,l.MN,null),d[52]].join(""):e+=[d[53],(_.unshift({num:l.MG((l.MC(f[1])||{}).replyTime)}),h=l.ME(d[54],l.MB,l.MN,null),_.shift(),h),d[55]].join("");e+=d[56],l.MJ(l.MC(f[0]).state+""=="ERROR")&&l.MK(l.MC(f[0]).valid.msg_body)&&(e+=d[57]);e+=[d[58],l.ME(d[59],l.MB,l.MN,null),d[60],l.ME(d[61],l.MB,l.MN,null),d[62],l.ME(d[63],l.MB,l.MN,null),d[64],l.F.entities(((l.MC(f[0])||{}).data||{}).msg_body),d[65],l.ME(d[66],l.MB,l.MN,null),d[67]].join(""),l.MJ(l.MC(f[0]).flow.isLoggedIn)||l.MJ(l.track_experiment("NAFLSHYBBVYUBUTHXSJNeDHPPYVSGFGPOOOVfLUO"))||(e+=[d[68],l.ME(d[69],l.MB,l.MN,null),d[70],l.F.entities(((l.MC(f[0])||{}).data||{}).nick_name),d[71],l.ME(d[69],l.MB,l.MN,null),d[72]].join(""),l.MJ(l.MG((l.MC(f[0])||{}).can_edit_email))&&(e+=d[73],l.MJ(l.MC(f[0]).state+""=="ERROR")&&l.MK(l.MC(f[0]).valid.email)&&(e+=d[74]),e+=[d[75],l.ME(d[76],l.MB,l.MN,null),d[77],l.F.entities(((l.MC(f[0])||{}).data||{}).email),d[78],l.ME(d[79],l.MB,l.MN,null),d[80]].join("")),e+=d[81]);e+=d[40];var t="",i=(l.MC(f[1])||{}).languages||[];_.unshift({language:null});for(var n,r=1,a=i.length;r<=a;r++)_[0].language=n=i[r-1],t+=[d[82],l.F.entities(n),d[82]].join(""),l.MJ(r!=i.length)&&(t+=d[83]);if(_.shift(),l.MN(f[3],t),e+=[d[84],(_.unshift({end_bold:d[22],languages_spoken:l.MB(f[3]),start_bold:d[21]}),h=l.ME(d[85],l.MB,l.MN,null),_.shift(),h),d[86]].join(""),l.MK(l.MC(f[0]).flow.isLoggedIn)&&l.MJ(l.track_experiment("NAFLSHYBBVYUBUTHXSJNeDHPPYVSGFGPOOOVfLUO"))){e+=[d[87],l.F.entities(((l.MC(f[0])||{}).data||{}).login_page_url),d[88],l.ME(d[89],l.MB,l.MN,null),d[90]].join("");var o={disabled:l.MJ(l.MC(f[0]).state+""=="PROCESSING"),js_class:d[116],size:d[106],text:l.MB(f[20]),type:d[117],variant:d[118],wide:d[119]},s=_;(_=l.SV([{},{}])).unshift(o),e=c(e),_=l.SV(s),e+=d[120]}else e+=d[121],l.MK(l.MC(f[0]).flow.isLoggedIn)&&l.MJ(l.track_experiment("NAFLSHYBBVYUBUTHXSJNeDHPPYVSGFGPOOOVfLUO"))&&(e+=d[122]),e+=d[123],l.MJ(l.MC(f[0]).state+""=="PROCESSING")&&(e+=d[124]),e+=[d[125],(_.unshift({height:d[14],name:d[126],width:d[14]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[127]].join(""),l.MJ(l.MG((l.MC(f[0])||{}).can_edit_email))?e+=[d[128],l.ME(d[129],l.MB,l.MN,null),d[123]].join(""):e+=[d[128],l.ME(d[130],l.MB,l.MN,null),d[123]].join(""),e+=d[131];return e+=[d[132],(_.unshift({b_companyname:l.MG((l.MC(f[1])||{}).companyname),end_link:d[134],start_link:d[135]}),h=l.ME(d[133],l.MB,l.MN,null),_.shift(),h),d[136]].join(""),_r_(e)}(e)):(e+=d[41],_.unshift({form:l.MB(f[0]),formStates:l.MB(f[21])}),e=function(e){_i_("269:3c05f593"),e+=[d[42],l.ME(d[137],l.MB,l.MN,null),d[138],l.ME(d[63],l.MB,l.MN,null),d[139],l.F.entities(((l.MC(f[0])||{}).data||{}).msg_body),d[140],l.ME(d[141],l.MB,l.MN,null),d[142],l.F.entities(((l.MC(f[0])||{}).data||{}).nick_name),d[143],l.ME(d[69],l.MB,l.MN,null),d[144]].join(""),l.MJ(l.MC(f[0]).state+""=="ERROR")&&l.MK(l.MC(f[0]).valid.email)&&(e+=d[57]);e+=[d[145],l.ME(d[146],l.MB,l.MN,null),d[147],l.F.entities(((l.MC(f[0])||{}).data||{}).email),d[148],l.ME(d[79],l.MB,l.MN,null),d[149]].join("");var t={disabled:l.MJ(l.MC(f[0]).state+""=="PROCESSING"),size:d[106],text:l.MB(f[23]),type:d[150],variant:d[151],wide:d[119]},i=_;return(_=l.SV([{},{}])).unshift(t),e=a(e),_=l.SV(i),e+=[d[152],l.F.entities(((l.MC(f[0])||{}).data||{}).login_page_url),d[153],l.ME(d[89],l.MB,l.MN,null),d[154],(_.unshift({b_companyname:l.MG((l.MC(f[1])||{}).companyname),end_link:d[134],start_link:d[135]}),h=l.ME(d[133],l.MB,l.MN,null),_.shift(),h),d[136]].join(""),_r_(e)}(e)),_.shift(),e+=d[81],e+=d[155],_r_(e)}return e=r,_i_("269:92533a02"),e+=["",d[0]].join(""),e+=d[1],l.MJ(l.MC(f[0]).state+""=="PROCESSED")?l.MJ(l.MG(((l.MC(f[0])||{}).processingResult||{}).success))?(l.MJ(l.MG((l.MC(f[0])||{}).can_edit_email))?(_.unshift({form:l.MB(f[0])}),n=e,_i_("269:149359c7"),n+=[d[2],l.ME(d[3],l.MB,l.MN,null),d[4],l.ME(d[5],l.MB,l.MN,null),d[6],(_.unshift({email_address:l.MG(((l.MC(f[0])||{}).data||{}).email)}),h=l.ME(d[7],l.MB,l.MN,null),_.shift(),h),d[8],(_.unshift({num:l.MG((l.MC(f[1])||{}).replyTime)}),h=l.ME(d[9],l.MB,l.MN,null),_.shift(),h),d[10],(_.unshift({class:d[11],name:d[12],role:d[13],width:d[14]}),h=l.HELPER("icon",_[0]),_.shift(),h),d[15],l.ME(d[16],l.MB,l.MN,null),d[17],l.ME(d[18],l.MB,l.MN,null),d[19]].join(""),e=_r_(n)):(_.unshift({form:l.MB(f[0]),host:l.MB(f[1])}),i=e,_i_("269:2238ea0a"),i+=d[20],l.MN(f[2],[d[21],l.F.entities(((l.MC(f[0])||{}).data||{}).email),d[22]].join("")),i+=[d[23],l.ME(d[24],l.MB,l.MN,null),d[25],l.ME(d[26],l.MB,l.MN,null),d[27],(_.unshift({email_address:l.MB(f[2]),num:l.MG((l.MC(f[1])||{}).replyTime)}),h=l.ME(d[28],l.MB,l.MN,null),_.shift(),h),d[29],l.ME(d[30],l.MB,l.MN,null),d[19]].join(""),e=_r_(i)),_.shift()):(t=e,_i_("269:52861e7c"),t+=[d[31],l.ME(d[32],l.MB,l.MN,null),d[33],l.ME(d[34],l.MB,l.MN,null),d[35],l.ME(d[36],l.MB,l.MN,null),d[37],l.ME(d[18],l.MB,l.MN,null),d[19]].join(""),e=_r_(t)):l.MJ(l.MG((l.MC(f[0])||{}).state))&&(_.unshift({form:l.MB(f[0]),host:l.MB(f[1]),nonLoggedInFlowSteps:l.MG((l.MC(f[24])||{}).nonLoggedInFlow)}),e=o(e),_.shift()),e+=d[156],e+=[d[0],"",d[20]].join(""),r=_r_(e),_r_(r)})}()),booking.jstmpl("contactTheHostFormDesktop",function(){_i_("269:d2ac747f");var l,c=["\n\n",'<div class="bui-f-font-defaults" data-component="hotel/contact-host/form"> ','<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__success-verify__title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_non_logged_in_check_email_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n\n    <div class="bui-alert bui-alert--info bui-spacer">\n        ',"/private/bhdc_non_logged_in_verify_email_body_1/name","\n    </div>\n\n    <p>\n        ","<strong>","</strong>","\n        ","/private/bhdc_non_logged_in_verify_email_body_2/name","\n    </p>\n\n    <p>\n        ","/private/bhdc_non_logged_in_check_email_body_3/name","48",'\n    </p>\n\n    <div class="bui-alert bui-alert--info bui-u-bleed@small" role="status">\n        <span class="icon--hint bui-alert__icon" role="presentation">\n            ',"","iconset/info_sign","presentation","24",'\n        </span>\n        <div class="bui-alert__description">\n            <p class="bui-alert__text">\n                ',"/private/bhdc_non_logged_in_check_email_promotions_tab/name",'\n            </p>\n        </div>\n    </div>\n\n</div>\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ',"/private/bhdc_non_logged_in_check_email_close_cta/name","\n            </span>\n        </button>\n    </div>\n</footer>\n","\n","<b>","</b>",'\n\n<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__success__title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_pp_contact_host_form_success_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n    <p\n        class="bui-modal__paragraph bui-spacer--large"\n        id="contact-host__success__subtitle"\n        data-bui-ref="modal-subtitle"\n    >\n        <strong>',"/private/bhdc_pp_contact_host_form_success_subheader/name","</strong>\n    </p>\n\n    <p>\n        ","/private/bhdc_pp_contact_host_form_success_body/name",'\n    </p>\n\n</div>\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ','<header class="bui-modal__header">\n    <h1\n        class="bui-modal__title"\n        id="contact-host__fail_title"\n        data-bui-ref="modal-title"\n    >\n        ',"/private/bhdc_pp_contact_host_form_error_header/name",'\n    </h1>\n</header>\n\n<hr class="bui-divider bui-divider--light" />\n\n<div class="bui-modal__body bui-modal__body--primary">\n    <p\n        class="bui-modal__paragraph"\n        id="contact-host__fail__subtitle"\n        data-bui-ref="modal-subtitle"\n    >\n        ',"/private/bhdc_pp_contact_host_form_error_subheader/name","\n    </p>\n    <p>","/private/bhdc_pp_contact_host_form_error_body/name",'</p>\n</div>\n\n<hr class="bui-divider bui-divider--light" />\n\n<footer class="bui-modal__footer">\n    <div class="bui-group bui-group--inline">\n        <button class="bui-button bui-button--secondary" type="button" data-bui-ref="modal-close">\n            <span class="bui-button__text">\n                ','<div class="bui-spacer--large"></div> <div class="bui-empty-state bui-spacer--large"> ',"contact-host__form__preloader","64","iconset/loading"," </div> ",'\n\n\n<form novalidate class="contact-host__form">\n\n    ','\n        <div class="contact-host__form__disabler"></div>\n    ','\n\n    <header class="bui-modal__header">\n        <h1\n            class="bui-modal__title"\n            id="contact-host__form__title"\n            data-bui-ref="modal-title"\n        >\n            ',"/private/bhdc_pp_contact_host_form_header/name",'\n        </h1>\n    </header>\n\n    <hr class="bui-divider bui-divider--light" />\n\n    <div class="bui-modal__body bui-modal__body--primary">\n\n        ','\n\n            \n            <div class="\n                bui-form__group\n                bui-spacer--medium\n                ',"\n                    js-field-has-error\n                    bui-has-error\n                ",'\n            ">\n                <label for="contact-host__form__message">\n                    ',"/private/bhdc_send_question_form_question/name","\n                    ","/private/bhdc_send_question_form_required/name",'\n                </label>\n                <textarea\n                    id="contact-host__form__message"\n                    name="msg_body"\n                    class="bui-form__control bui-input-textarea js-bhdc-form-field"\n                    rows="6"\n                    placeholder="',"/private/bhdc_pp_contact_host_form_question_1/name","&#10;","/private/bhdc_pp_contact_host_form_question_2/name",'"\n                    aria-describedby="contact-host__form__message__desc"\n                >','</textarea>\n                <div class="bui-form__error" id="contact-host__form__message__desc">\n                    ',"/private/bhdc_desktop_contact_form_invalid_message_error/name","\n                </div>\n            </div>\n\n        ","\n\n        ",'\n\n            \n            <div class="bui-form__group bui-spacer--medium">\n                <label for="contact-host__form__name">\n                    ',"/private/bhdc_send_question_form_name/name",'\n                </label>\n                <input\n                    type="text"\n                    id="contact-host__form__name"\n                    name="nick_name"\n                    class="bui-form__control js-bhdc-form-field"\n                    value="','"\n                    aria-describedby="contact-host__form__name__desc"\n                />\n                <div class="bui-form__error" id="contact-host__form__name__desc">\n                    ',"/private/bhdc_mdot_contact_form_name_label/name",'\n                </div>\n            </div>\n\n            \n            <div class="\n                bui-form__group\n                bui-spacer--medium\n                ','\n            ">\n                <label for="contact-host__form__email">\n                    ',"/private/bhdc_send_question_form_email/name",'\n                </label>\n                <input\n                    type="email"\n                    id="contact-host__form__email"\n                    name="email"\n                    class="bui-form__control js-bhdc-form-field"\n                    value="','"\n                    aria-describedby="contact-host__form__email__desc"\n                />\n                <div class="bui-form__error" id="contact-host__form__email__desc">\n                    ',"/private/bhdc_desktop_contact_form_invalid_email_error/name","\n\n            "," "," - ",'\n            <div class="bui-f-font-caption">\n                <strong>',"/private/bhdc_pp_contact_host_form_languages_spoken/name","</strong>\n                ","\n            </div>\n\n        ","\n\n        \n        ",'\n        <div class="contact-host__responsive-host">\n            ',"responsive-host-icon","20","experiments/messaging-responsive-host","16","\n            <strong>","/private/gpc_contact_responsive_host/name","</strong>\n        </div>\n        ",'\n    </div>\n\n    \n\n    <footer class="bui-modal__footer">\n\n        ',"\n            ",'<button\n    type="submit"\n    class="\n        bui-button\n        bui-button--wide\n        bui-button--large\n        bui-button--primary\n        bui-spacer--medium\n        ',"\n            is-loading\n        ",'\n    "\n>\n    <span class="bui-button__icon bui-button__loading-icon">\n        ','\n    </span>\n    <span class="bui-button__text">\n        ',"/private/bhdc_send_question_next_step_cta/name","/private/bhdc_pp_contact_host_form_send_cta/name","\n    </span>\n</button>\n",'\n\n    <div class="contact-host__form__actions--non-logged-in bui-spacer">\n        <button class="bui-button bui-button--secondary js-bhdc-form-action-goto-step-2" type="button">\n            <span class="bui-button__text">\n                ',"/private/bhdc_non_logged_in_flow_send_verification_cta/name",'\n            </span>\n        </button>\n        <button class="bui-button bui-button--primary js-bhdc-form-action-sign-in" type="button">\n            <span class="bui-button__text">\n                ',"/private/bhdc_non_logged_in_flow_sign_in_cta/name","\n            </span>\n        </button>\n    </div>\n\n",'\n\n    <button\n        type="submit"\n        class="\n            bui-button\n            bui-button--wide\n            bui-button--primary\n            bui-spacer--medium\n            ',"\n                is-loading\n            ",'\n        "\n    >\n        <span class="bui-button__icon bui-button__loading-icon">\n            ','\n        </span>\n        <span class="bui-button__text">\n            ',"/private/bhdc_non_logged_in_flow_send_link_button/name",'\n        </span>\n    </button>\n\n    <button class="\n        bui-button\n        bui-button--wide\n        bui-link\n        bui-link--primary\n        bui-spacer\n        js-bhdc-form-action-goto-step-1\n        contact-host__form__action--return-to-form\n    ">\n        ',"/private/bhdc_non_logged_in_flow_go_back_to_question/name","\n    </button>\n\n\n",'\n\n        <div class="bui_font_caption bui-f-color-grayscale bui-u-text-center">\n            ',"/private/bhdc_contact_form_confirmation_guest_footer/name","</a>",'<a class="bui-link bui-link--primary" href="https://www.booking.com/content/privacy.html" target="_blank">',"\n        </div>\n\n    </footer>\n\n</form>\n","</div> "],h=["fe_user_email","form","host","constants","formStates","nonLoggedInFlowSteps","languages_spoken"];return _r_(function(s){_i_("269:ae55b178");var e,t,i,n,r="",_=this.fn;function a(e){if(_i_("269:e6e2948c"),e+=c[46],_.MJ(_.MC(h[1]).state+""==""+_.MC(h[4]).PROCESSING)&&(e+=c[47]),e+=[c[48],_.ME(c[49],_.MB,_.MN,null),c[50]].join(""),(_.MJ(_.MC(h[1]).flow.isLoggedIn)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).ENTER_MESSAGE)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).LOGGING_IN))&&(e+=c[51],_.MJ(_.MC(h[1]).state+""==""+_.MC(h[4]).ERROR)&&_.MK(_.MC(h[1]).valid.msg_body)&&(e+=c[52]),e+=[c[53],_.ME(c[54],_.MB,_.MN,null),c[55],_.ME(c[56],_.MB,_.MN,null),c[57],_.ME(c[58],_.MB,_.MN,null),c[59],_.ME(c[60],_.MB,_.MN,null),c[61],_.F.entities(((_.MC(h[1])||{}).data||{}).msg_body),c[62],_.ME(c[63],_.MB,_.MN,null),c[64]].join("")),e+=c[65],(_.MJ(_.MC(h[1]).flow.isLoggedIn)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).ENTER_NAME_EMAIL))&&(e+=[c[66],_.ME(c[67],_.MB,_.MN,null),c[68],_.F.entities(((_.MC(h[1])||{}).data||{}).nick_name),c[69],_.ME(c[70],_.MB,_.MN,null),c[71]].join(""),_.MJ(_.MC(h[1]).state+""==""+_.MC(h[4]).ERROR)&&_.MK(_.MC(h[1]).valid.email)&&(e+=c[52]),e+=[c[72],_.ME(c[73],_.MB,_.MN,null),c[55],_.ME(c[56],_.MB,_.MN,null),c[74],_.F.entities(((_.MC(h[1])||{}).data||{}).email),c[75],_.ME(c[76],_.MB,_.MN,null),c[64]].join("")),e+=c[65],_.MJ(_.MC(h[1]).flow.isLoggedIn)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).ENTER_MESSAGE)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).LOGGING_IN)){e+=c[77];var t="",i=(_.MC(h[2])||{}).languages||[];s.unshift({language:null});for(var n,r=1,a=i.length;r<=a;r++)s[0].language=n=i[r-1],t+=[c[78],n,c[78]].join(""),_.MJ(r!=i.length)&&(t+=c[79]);s.shift(),_.MN(h[6],t),e+=[c[80],_.ME(c[81],_.MB,_.MN,null),c[82],_.F.entities(_.MC(h[6])),c[83]].join("")}var o;return e+=c[84],_.MJ(_.MG((_.MC(h[2])||{}).is_responsive))&&(e+=[c[85],(s.unshift({class:c[86],color:"#0AB21B",height:c[87],name:c[88],width:c[89]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[90],_.ME(c[91],_.MB,_.MN,null),c[92]].join("")),e+=c[93],_.MJ(_.MG(((_.MC(h[1])||{}).flow||{}).isLoggedIn))?(e+=c[94],s.unshift({form:_.MB(h[1]),formStates:_.MB(h[4])}),e=function(e){_i_("269:9a381727"),e+=c[95],_.MJ(_.MC(h[1]).state+""==""+_.MC(h[4]).PROCESSING)&&(e+=c[96]);e+=[c[97],(s.unshift({height:c[18],name:c[44],width:c[18]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[98]].join(""),_.MJ(_.MG((_.MC(h[1])||{}).can_edit_email))?e+=[c[94],_.ME(c[99],_.MB,_.MN,null),c[9]].join(""):e+=[c[94],_.ME(c[100],_.MB,_.MN,null),c[9]].join("");return e+=c[101],_r_(e)}(e)):(e+=c[94],s.unshift({form:_.MB(h[1]),formStates:_.MB(h[4]),nonLoggedInFlowSteps:_.MB(h[5])}),o=e,_i_("269:2ea76127"),o+=c[24],_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).ENTER_MESSAGE)||_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).LOGGING_IN)?o+=[c[102],_.ME(c[103],_.MB,_.MN,null),c[104],_.ME(c[105],_.MB,_.MN,null),c[106]].join(""):_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[5]).ENTER_NAME_EMAIL)&&(o+=c[107],_.MJ(_.MC(h[1]).state+""==""+_.MC(h[4]).PROCESSING)&&(o+=c[108]),o+=[c[109],(s.unshift({height:c[18],name:c[44],width:c[18]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[110],_.ME(c[111],_.MB,_.MN,null),c[112],_.ME(c[113],_.MB,_.MN,null),c[114]].join("")),o+=c[24],e=_r_(o)),s.shift(),e+=c[9],e+=[c[115],(s.unshift({b_companyname:_.MG((_.MC(h[2])||{}).companyname),end_link:c[117],start_link:c[118]}),l=_.ME(c[116],_.MB,_.MN,null),s.shift(),l),c[119]].join(""),_r_(e)}return e=r,_i_("269:73ccdfa7"),e+=["",c[0]].join(""),e+=c[1],_.MJ(_.MC(h[1]).state+""=="PROCESSED")?_.MJ(_.MG(((_.MC(h[1])||{}).processingResult||{}).success))?(_.MJ(_.MG((_.MC(h[1])||{}).can_edit_email))?(s.unshift({form:_.MB(h[1])}),n=e,_i_("269:899a84bd"),n+=[c[2],_.ME(c[3],_.MB,_.MN,null),c[4],_.ME(c[5],_.MB,_.MN,null),c[6]].join(""),_.MN(h[0],[c[7],_.F.entities(((_.MC(h[1])||{}).data||{}).email),c[8]].join("")),n+=[c[9],(s.unshift({email_address:_.MB(h[0])}),l=_.ME(c[10],_.MB,_.MN,null),s.shift(),l),c[11],(s.unshift({num:c[13]}),l=_.ME(c[12],_.MB,_.MN,null),s.shift(),l),c[14],(s.unshift({class:c[15],name:c[16],role:c[17],width:c[18]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[19],_.ME(c[20],_.MB,_.MN,null),c[21],_.ME(c[22],_.MB,_.MN,null),c[23]].join(""),e=_r_(n)):(s.unshift({form:_.MB(h[1]),host:_.MB(h[2])}),i=e,_i_("269:d018b9cf"),i+=c[24],_.MN(h[0],[c[25],_.F.entities(((_.MC(h[1])||{}).data||{}).email),c[26]].join("")),i+=[c[27],_.ME(c[28],_.MB,_.MN,null),c[29],_.ME(c[30],_.MB,_.MN,null),c[31],(s.unshift({guest_email:_.MB(h[0]),num:_.MG((_.MC(h[2])||{}).replyTime)}),l=_.ME(c[32],_.MB,_.MN,null),s.shift(),l),c[33],_.ME(c[22],_.MB,_.MN,null),c[23]].join(""),e=_r_(i)),s.shift()):(t=e,_i_("269:9b0abe1d"),t+=[c[34],_.ME(c[35],_.MB,_.MN,null),c[36],_.ME(c[37],_.MB,_.MN,null),c[38],_.ME(c[39],_.MB,_.MN,null),c[40],_.ME(c[22],_.MB,_.MN,null),c[23]].join(""),e=_r_(t)):_.MJ(_.MC(h[1]).flow.notLoggedInStep+""==""+_.MC(h[3]).nonLoggedInFlow.LOGGED_IN)?e+=[c[41],(s.unshift({class:c[42],height:c[43],name:c[44],width:c[43]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[45]].join(""):_.MJ(_.MG((_.MC(h[1])||{}).state))&&(s.unshift({form:_.MB(h[1]),formStates:_.MG((_.MC(h[3])||{}).formStates),host:_.MB(h[2]),nonLoggedInFlowSteps:_.MG((_.MC(h[3])||{}).nonLoggedInFlow)}),e=a(e),s.shift()),e+=c[120],e+=[c[0],"",c[24]].join(""),r=_r_(e),_r_(r)})}()),B.define("component/hotel/contact-host/constants",function(e,t,i){_i_("269:098b2076");i.exports={eventNames:{CLICKS_CTA:"contact_host/click_cta",OPENS_FORM:"contact_host/opens_form",CLOSES_FORM:"contact_host/closes_form",SUBMITS_FORM:"contact_host/submits_form",SUBMITS_VALID_NAME:"contact_host/submits_valid_name",FORM_PROCESSED_SUCCESS:"contact_host/form_is_successfully_processed",FORM_PROCESSED_FAIL:"contact_host/form_is_not_successfully_processed",NON_LOGGED_IN_FLOW_CLICKS_CTA:"contact_host/non_logged_in/clicks_cta",NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM:"contact_host/non_logged_in/opens_contact_form",NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_AFTER_LOGIN_NON_BUI:"contact_host/non_logged_in/opens_contact_form/non_bui/after_login",NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_BUI:"contact_host/non_logged_in/opens_contact_form/bui",NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_MDOT:"contact_host/non_logged_in/opens_contact_form/mdot",NON_LOGGED_IN_FLOW_OPENS_LOG_IN_FORM:"contact_host/non_logged_in/opens_log_in_form",NON_LOGGED_IN_FLOW_SHOWS_NAME_EMAIL_STEP:"contact_host/non_logged_in/form_showing_name_email",NON_LOGGED_IN_FLOW_CLICKS_BACK_TO_MESSAGE:"contact_host/non_logged_in/clicks_back_to_message",NON_LOGGED_IN_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY:"contact_host/non_logged_in/submits_contact_form/waiting_for_verification",NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM:"contact_host/non_logged_in/submits_contact_form",NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN:"contact_host/non_logged_in/submits_contact_form/after_login",NON_LOGGED_IN_FLOW_CHOOSES_TO_SIGN_IN:"contact_host/non_logged_in/chooses_to_sign_in",NON_LOGGED_IN_FLOW_CHOOSES_TO_VERIFY_EMAIL:"contact_host/non_logged_in/chooses_to_verify_email",NON_LOGGED_IN_FLOW_SUCCESS:"contact_host/non_logged_in/message_sent_successfully",NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGIN_NON_BUI:"contact_host/non_logged_in/message_sent_successfully/after_login/non_bui",NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGIN_BUI:"contact_host/non_logged_in/message_sent_successfully/after_login/bui",NON_LOGGED_IN_FLOW_SUCCESS_AFTER_VERIFYING_EMAIL:"contact_host/non_logged_in/message_sent_after_verifying_email",NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGGING_IN:"contact_host/non_logged_in/message_sent_after_logging_in",NON_LOGGED_IN_FLOW_SENDING_MESSAGE_FAILED_AFTER_LOGIN:"contact_host/non_logged_in/send_message_failed_after_login",NON_LOGGED_IN_FLOW_FAILED_TO_SAVE_LOCAL_DATA_BEFORE_AUTH:"contact_host/non_logged_in/failed_to_save_data_to_local_storage_before_trying_to_log_in",NON_LOGGED_IN_ONE_STEP_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY:"contact_host/non_logged_in/one_step_form/submits_contact_form/waiting_for_verification",NON_LOGGED_IN_TWO_STEPS_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY:"contact_host/non_logged_in/two_steps_form/submits_contact_form/waiting_for_verification",NON_LOGGED_IN_FLOW_SWITCHES_FROM_VERIFY_EMAIL_TO_SIGN_IN:"contact_host/non_logged_in/switches_from_verify_email_to_sign_in"},formStates:{CLOSED:"CLOSED",OPEN:"OPEN",ERROR:"ERROR",VALID:"VALID",PROCESSING:"PROCESSING",PROCESSED:"PROCESSED"},nonLoggedInFlow:{ENTER_MESSAGE:"ENTER MESSAGE",ENTER_NAME_EMAIL:"ENTER NAME AND EMAIL",LOGGING_IN:"LOGGING IN",VERIFYING_EMAIL:"VERIFYING EMAIL",EMAIL_VERIFIED:"EMAIL VERIFIED",LOGGED_IN:"LOGGED IN"}},_r_()}),B.define("component/hotel/contact-host/form",function(e,t,i){_i_("269:7a0dffa2");var _=e("hotel/store"),n=e("component/reactive"),l=e("component/hotel/contact-host/actions"),c=e("jquery"),r=B.require("events"),a=e("component/hotel/contact-host/constants"),h=a.eventNames,o=a.formStates,d=a.nonLoggedInFlow,f=e("server-data"),u=e("component/hotel/contact-host/local-storage"),s={mdot:"contactTheHostFormMdot",www:"contactTheHostFormDesktop"}[f.b_site_type];function p(e){_i_("269:95c3a566"),e.preventDefault();var t,i,n,r=_.getState().contactHost.form.flow.notLoggedInStep===d.ENTER_NAME_EMAIL,a=c(e.target),o=a.closest("form"),s=v(o[0]);r||b(o[0])?m(s)?"www"===f.b_site_type?(i=s,n=o,_i_("269:6ce33e98"),B.eventEmitter.on("auth-dialog:show",function(e){_i_("269:3abe84bb"),m(i),S(h.NON_LOGGED_IN_FLOW_OPENS_LOG_IN_FORM),_r_()}).on("auth-dialog:hide",function(e){_i_("269:1727e813"),u.clear(),w(n),_r_()}),B.command("show-auth-lightbox").run({tab:"signin",extraClass:"bhdc-contact-host-pre-booking-login"}),_.dispatch(l.goToNonLoggedInFlowAuth(i)),_r_()):"mdot"===f.b_site_type&&(t=a.closest("a").attr("href"),_i_("269:b7e6e92f"),S(h.NON_LOGGED_IN_FLOW_CHOOSES_TO_SIGN_IN),S(h.NON_LOGGED_IN_FLOW_OPENS_LOG_IN_FORM),setTimeout(function(){_i_("269:42ea2274"),document.location.href=t,_r_()},1e3),_r_(),r&&S(h.NON_LOGGED_IN_FLOW_SWITCHES_FROM_VERIFY_EMAIL_TO_SIGN_IN)):_.dispatch(l.formProcessed({success:!1,localStorageError:1})):C(o,!0);_r_()}function m(e){_i_("269:9850c14c");var t=u.save({message:e.msg_body,hotelID:f.b_hotel_id,userIsLoggingIn:!0});return _r_(t)}function b(e){_i_("269:47615691");var t=v(e);_.dispatch(l.checkIfValidForm(t));var i=_.getState().contactHost.form.state===o.VALID;return _r_(i)}function g(e){_i_("269:4b4e631d"),e.preventDefault();var t=e.target,i=b(t),n=v(t);if(i){var r=_.getState().contactHost.form;_.dispatch(l.submitForm(n)),y(r.data)}else C(c(e.target),!0);_r_()}function v(e){_i_("269:206818d3");for(var t=e.getElementsByClassName("js-bhdc-form-field"),i={},n=0;n<t.length;n++)i[t[n].name]=t[n].value.trim();return _r_(i)}function y(e,t){_i_("269:6a2de16d"),_.dispatch(l.processForm()),c.ajax({url:f.fe_contact_host_url,xhrFields:{withCredentials:!0},type:"post",data:e,dataType:"json",success:function(e){_i_("269:04e9606c"),_.dispatch(l.formProcessed({success:!!parseInt(e.success)})),e.success&&t&&t.success&&"function"==typeof t.success&&t.success(),_r_()},error:function(){_i_("269:7a6b4ffa"),_.dispatch(l.formProcessed({success:!1})),_r_()}}),_r_()}function M(e){_i_("269:333481f3");var t=e.target;_.getState().contactHost.form.state===o.ERROR&&_.dispatch(l.updateFormField(t)),_r_()}function w(e){_i_("269:e098ee73");var t=v(e[0]);_.dispatch(l.goToNonLoggedInFlowStep1(t)),C(e),_r_()}function k(e){_i_("269:09a17c65"),e.preventDefault(),w(c(e.target).closest("form")),S(h.NON_LOGGED_IN_FLOW_CLICKS_BACK_TO_MESSAGE),_r_()}function E(e){_i_("269:5feb268a"),e.preventDefault();var t=c(e.target).closest("form"),i=v(t[0]);b(t[0])?(_.dispatch(l.goToNonLoggedInFlowStep2(i)),C(t)):C(t,!0),_r_()}function C(n,r){_i_("269:cef3e8c1"),setTimeout(function(){_i_("269:cfad0427");var e=r?".js-field-has-error input[type=text], .js-field-has-error input[type=email], .js-field-has-error textarea":"input[type=text], input[type=email], textarea",t=n.find(e).filter(":visible:first");if(t.focus(),(t.is("input:text")||t.is("textarea"))&&t[0]&&t[0].setSelectionRange){var i=2*t.val().length;t[0].setSelectionRange(i,i)}_r_()},1),_r_()}function S(e,t){_i_("269:a553be31");var i={name:e};t&&"object"==typeof t&&(i=Object.assign({},i,t)),r.emit(e,i),_r_()}i.exports=n.extend({template:s,bindEvents:function(){_i_("269:346221f3"),this.events({"submit form":g,"blur .js-bhdc-form-field":M,"click .js-bhdc-form-action-goto-step-1":k,"click .js-bhdc-form-action-goto-step-2":E,"click .js-bhdc-form-action-sign-in":p}),_r_()},initialize:function(){_i_("269:c89e6a10"),_.subscribe(this.render.bind(this)),this.bindEvents(),this.render(),_.dispatch(l.init()),C(this.$el),function(){if(_i_("269:33a561ae"),!u.nonLoggedInHasPendingMessage())return _r_();var e=u.get(),t=_.getState().contactHost.form,i=t.data;if(!t.has_valid_email)return _r_();i.msg_body=e.message,S(h.NON_LOGGED_IN_FLOW_SUBMITS_CONTACT_FORM_AFTER_LOGIN),y(i,{success:function(){_i_("269:f35ac8a1"),u.clear(),_r_()}}),_r_()}(),_r_()},getState:function(){return _i_("269:9b85cd20"),_r_(_.getState().contactHost)},afterRender:function(){_i_("269:b296659f"),0<this.$el.find("form").length&&function(e){_i_("269:75da5847");var n=e.find("input, select, button, textarea").filter(":visible"),r=n.length-1,t="keydown.trapContactHostTabKey";e.off(t).on(t,function(e){if(_i_("269:9653a989"),9!==e.keyCode)return _r_();var t=0,i=n.index(document.activeElement);0<=i&&(t=e.shiftKey?0===i?r:i-1:i===r?0:i+1),n[t].focus(),e.preventDefault(),e.stopImmediatePropagation(),_r_()}),_r_()}(this.$el),_r_()}}),_r_()}),B.define("component/hotel/contact-host/local-storage",function(e,t,i){_i_("269:ac9bbcef");var r=e("browser-storage-handler"),n=e("server-data"),a="_bhdcData_",o=["message","hotelID","userIsLoggingIn","test"],s=r.isLocalStorageSupported();function _(){_i_("269:2da059c0");var t={};return o.forEach(function(e){_i_("269:c0c976a4"),t[e]=r.getSessionValue(a+e),_r_()}),_r_(t)}return _r_({init:function(){},clear:function(){_i_("269:0284610f"),o.forEach(function(e){_i_("269:582527ef"),r.deleteSessionValue(a+e),_r_()}),_r_()},localStorageIsSupported:s,save:function(e){_i_("269:5ccaf855");var t=!0;for(var i in e)if(e.hasOwnProperty(i)&&0<=o.indexOf(i)){r.addSessionValue(a+i,e[i]);var n=r.getSessionValue(a+i);n="true"===n||"false"===n?JSON.parse(n):n,t=t&&n===e[i]}return _r_(t)},get:_,nonLoggedInHasPendingMessage:function(){_i_("269:bc34754a");var e=_();return _r_(0<n.auth_level&&e.message&&e.userIsLoggingIn&&e.hotelID===n.b_hotel_id)}})}),B.define("component/hotel/contact-host/reducers",function(e,t,i){_i_("269:60eeea28");var s=e("component/hotel/contact-host/constants"),f=e("component/hotel/contact-host/local-storage"),u=s.formStates,p=s.nonLoggedInFlow,m=e("component/hotel/contact-host/actions"),_=e("server-data"),b=s.eventNames,n=B.require("events"),l=e("et"),g=_.bhdc_www_nolgdin_can_run,v=_.bhdc_nolgdin;function y(){_i_("269:0ccaa98d");var t={languages:[],companyname:_.b_companyname,replyTime:12},e={isLoggedIn:0<parseInt(_.auth_level),name:_.fe_pre_booking_asker_name||_.user_fullname||"",email:_.user_email||""};_.b_user_emails&&_.b_user_emails[0]&&_.b_user_emails[0].email&&(e.email=_.b_user_emails[0].email);var i=!(!e.email||!M("email",e.email)),n="";_.bhdc_nolgdin&&(n="www"===_.b_site_type?"NAFLSHNLOLOLOOTOYXbPBePYEYUIbQbAEDC":"NAFLSHYBBVYUBUTHXSJNeDHPPYVSGFGPOOOVfLUO");var r={state:u.OPEN,has_valid_email:i,can_edit_email:!i,flow:{isLoggedIn:_.bhdc_lgdin,isNotLoggedIn:_.bhdc_nolgdin,notLoggedInStep:parseInt(_.bhdc_nolgdin_new_flow)?p.ENTER_MESSAGE:""},valid:{email:!0,msg_body:!0},processingResult:{success:!1},data:{checkin:_.b_checkin_date,checkout:_.b_checkout_date,site_type:_.b_site_type,site_type_id:_.b_site_type_id,hotel_id:_.b_hotel_id,lang:_.b_lang,nick_name:e.name,email:e.email,login_page_url:_.fe_login_page_url,msg_body:"",origin:"",bottom:0,ehash:n,evar:n?l.track(n):0}},a=_.b_languages_spoken_by_hotelier;if(a&&Array.isArray(a)&&a.forEach(function(e){_i_("269:54c5e4ae"),t.languages.push(e.b_language_translated),_r_()}),f.nonLoggedInHasPendingMessage()){var o=f.get();r.data.msg_body=o.message,r.flow.notLoggedInStep=p.LOGGED_IN}return _r_({host:t,user:e,form:r,constants:s})}function M(e,t){_i_("269:ef4b7193");var i=!!t.trim();return i&&"email"===e&&(i=/.+@.+/.test(t)),_r_(i)}function w(e,t){_i_("269:a553be311");var i={name:e};t&&"object"==typeof t&&(i=Object.assign({},i,t)),n.emit(e,i),_r_()}function r(e,t){_i_("269:06451c59");var i=y();switch(e=e||i.form,t.type){case m.TYPES.INIT:return _r_(Object.assign({},e,{state:u.OPEN}));case m.TYPES.CLICKED_CTA_BUTTON:var n=t.$btn,r=n.data("origin"),a="bottom_cta"===r?1:0,o=Object.assign({},e.data,{origin:r,bottom:a});return w(b.CLICKS_CTA,{$btn:n}),g&&w(b.NON_LOGGED_IN_FLOW_CLICKS_CTA,{$btn:n}),_r_(Object.assign({},e,{data:o}));case m.TYPES.OPEN_MODAL:return w(b.OPENS_FORM),g&&(w(b.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_BUI),_i_("269:31a803cb"),f.save({test:"1"})?f.clear():w(b.NON_LOGGED_IN_FLOW_FAILED_TO_SAVE_LOCAL_DATA_BEFORE_AUTH),_r_()),v&&w(b.NON_LOGGED_IN_FLOW_OPENS_CONTACT_FORM_MDOT),_r_(Object.assign({},e));case m.TYPES.CLOSE_MODAL:return w(b.CLOSES_FORM),(_=Object.assign({},e.flow)).notLoggedInStep===p.ENTER_NAME_EMAIL&&(_.notLoggedInStep=p.ENTER_MESSAGE),_r_(Object.assign({},e,{flow:_}));case m.TYPES.CHECK_IF_FORM_IS_VALID:var s=function(e,t,i){_i_("269:363384b0");var n=!0,r={msg_body:1};for(var a in t)if(i!==p.ENTER_MESSAGE||i===p.ENTER_MESSAGE&&r[a]){var o=M(a,e[a]);t[a]=o,n=n&&o}return _r_({formIsValid:n,fieldsValidity:t})}(o=Object.assign({},e.data,t.formData),l=Object.assign({},e.valid),e.flow.notLoggedInStep);return _r_(Object.assign({},e,{state:s.formIsValid?u.VALID:u.ERROR,valid:s.fieldsValidity,data:o}));case m.TYPES.GO_TO_NON_LOGGED_AUTH:o=Object.assign({},e.data,t.formData);var _=Object.assign({},e.flow,{notLoggedInStep:p.LOGGING_IN});return w(b.SUBMITS_FORM),w(b.NON_LOGGED_IN_FLOW_CHOOSES_TO_SIGN_IN),_r_(Object.assign({},e,{flow:_,data:o}));case m.TYPES.GO_TO_NON_LOGGED_IN_STEP_1:o=Object.assign({},e.data,t.formData),_=Object.assign({},e.flow,{notLoggedInStep:p.ENTER_MESSAGE});return _r_(Object.assign({},e,{flow:_,data:o}));case m.TYPES.GO_TO_NON_LOGGED_IN_STEP_2:_=Object.assign({},e.flow,{notLoggedInStep:p.ENTER_NAME_EMAIL});return w(b.NON_LOGGED_IN_FLOW_CHOOSES_TO_VERIFY_EMAIL),w(b.NON_LOGGED_IN_FLOW_SHOWS_NAME_EMAIL_STEP),_r_(Object.assign({},e,{flow:_}));case m.TYPES.SUBMIT_FORM:return w(b.SUBMITS_FORM),e.data.nick_name&&1<e.data.nick_name.length&&w(b.SUBMITS_VALID_NAME),e.flow.notLoggedInStep===p.ENTER_NAME_EMAIL&&(w(b.NON_LOGGED_IN_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY),w(b.NON_LOGGED_IN_TWO_STEPS_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY)),e.flow.isNotLoggedIn&&!e.flow.notLoggedInStep&&w(b.NON_LOGGED_IN_ONE_STEP_FLOW_SUBMITS_FORM_WAIT_TO_VERIFY),_r_(Object.assign({},e));case m.TYPES.PROCESS_FORM:return _r_(Object.assign({},e,{state:u.PROCESSING}));case m.TYPES.UPDATE_FORM_FIELD:var l,c=t.formField;return(o=Object.assign({},e.data))[c.name]=c.value.trim(),(l=Object.assign({},e.valid)).hasOwnProperty(c.name)&&(l[c.name]=M(c.name,o[c.name])),_r_(Object.assign({},e,{valid:l,data:o}));case m.TYPES.FORM_PROCESSED:var h=t.response,d=Object.assign({},e.processingResult);o=Object.assign({},e.data),_=Object.assign({},e.flow,{notLoggedInStep:i.form.flow.notLoggedInStep});return d.success=h.success,d.success?(o.msg_body="",w(b.FORM_PROCESSED_SUCCESS),e.flow.notLoggedInStep===p.LOGGED_IN&&(w(b.NON_LOGGED_IN_FLOW_SUCCESS),w(b.NON_LOGGED_IN_FLOW_SUCCESS_AFTER_LOGGING_IN))):(w(b.FORM_PROCESSED_FAIL),e.flow.notLoggedInStep===p.LOGGED_IN&&w(b.NON_LOGGED_IN_FLOW_SENDING_MESSAGE_FAILED_AFTER_LOGIN,{formData:e.data})),_r_(Object.assign({},e,{state:u.PROCESSED,data:o,processingResult:d,flow:_}));case m.TYPES.CLOSE_FORM:return _r_(Object.assign({},e,{state:u.CLOSED}));default:return _r_(e)}_r_()}i.exports=function(e,t){_i_("269:faa22151");e=e||y();return _r_(Object.assign({},e,{host:e.host,user:e.user,form:r(e.form,t)}))},_r_()}),B.define("component/hotel/contact-host/actions",function(e,t,i){_i_("269:46d2db0b");var n={TYPES:{INIT:"INIT",CLICKED_CTA_BUTTON:"CLICKED_CTA_BUTTON",SUBMIT_FORM:"SUBMIT_FORM",OPEN_MODAL:"OPEN_MODAL",CLOSE_MODAL:"CLOSE_MODAL",GO_TO_NON_LOGGED_AUTH:"GO_TO_NON_LOGGED_AUTH",GO_TO_NON_LOGGED_IN_STEP_1:"GO_TO_NON_LOGGED_IN_STEP_1",GO_TO_NON_LOGGED_IN_STEP_2:"GO_TO_NON_LOGGED_IN_STEP_2",PROCESS_FORM:"PROCESS_FORM",UPDATE_FORM_FIELD:"UPDATE_FORM_FIELD",FORM_PROCESSED:"FORM_PROCESSED",CLOSE_FORM:"CLOSE_FORM",CHECK_IF_FORM_IS_VALID:"CHECK_IF_FORM_IS_VALID"},init:function(){return _i_("269:eeab2330"),_r_({type:n.TYPES.INIT})},clickedCTAButton:function(e){return _i_("269:97967f98"),_r_({type:n.TYPES.CLICKED_CTA_BUTTON,$btn:e.$btn})},openModal:function(){return _i_("269:8294aa88"),_r_({type:n.TYPES.OPEN_MODAL})},closeModal:function(){return _i_("269:793fd2dd"),_r_({type:n.TYPES.CLOSE_MODAL})},submitForm:function(e){return _i_("269:577ccaf2"),_r_({type:n.TYPES.SUBMIT_FORM,formData:e})},goToNonLoggedInFlowAuth:function(e){return _i_("269:28d4b525"),_r_({type:n.TYPES.GO_TO_NON_LOGGED_AUTH,formData:e})},goToNonLoggedInFlowStep2:function(e){return _i_("269:91c5e66d"),_r_({type:n.TYPES.GO_TO_NON_LOGGED_IN_STEP_2,formData:e})},goToNonLoggedInFlowStep1:function(e){return _i_("269:57296c9d"),_r_({type:n.TYPES.GO_TO_NON_LOGGED_IN_STEP_1,formData:e})},checkIfValidForm:function(e){return _i_("269:9ae16bd9"),_r_({type:n.TYPES.CHECK_IF_FORM_IS_VALID,formData:e})},processForm:function(){return _i_("269:db349191"),_r_({type:n.TYPES.PROCESS_FORM})},updateFormField:function(e){return _i_("269:062fd3a6"),_r_({type:n.TYPES.UPDATE_FORM_FIELD,formField:e})},formProcessed:function(e){return _i_("269:9b14f9a1"),_r_({type:n.TYPES.FORM_PROCESSED,response:e})},closeForm:function(e){return _i_("269:dc2fee95"),_r_({type:n.TYPES.CLOSE_FORM,formData:e})}};i.exports=n,_r_()}),B.when({condition:"hotel"==B.env.b_action&&B.env.b_hotel_is_in_free_breakfast_experiment&&B.env.b_source_page&&"searchresults"==B.env.b_source_page}).run(function(e){_i_("269:0354baa2"),e("et").goalWithValue("js_genius_hotel_page_opened",1),_r_()}),B.when({events:"ready",action:"hotel",condition:function(e){return _i_("269:260c8fcb"),_r_(e.fe_photo_to_review_list)}}).run(function(e){_i_("269:fd80af6d");var r="VVDdHQDSDVLHTZdCNTDAHTRe",a=B.et.track(r),t=e("events"),o={SAW_MATCHED_REVIEW:1,SAW_2_MATCHED_REVIEWS:2},i={OPENED:1,OPENED_AND_HAS_50_PERC_MATCHES:2};function n(e){_i_("269:9720181c"),this.config=e,this.elNewItem=null,this.elHiddenItem=null,this.elList=this.config.el.querySelector(".js-reviews-list"),this.elItems=this.elList?[].slice.call(this.elList.querySelectorAll(".js-review-item")):[],this.elList&&0<this.elItems.length&&(this.itemsLength=this.elItems.length-1,this.changeCount=0,this.isFirstImage=!0,this.isChanged=!1,this.itemsLength&&this.bindEvents()),_r_()}n.prototype={bindEvents:function(){_i_("269:45f47f66"),t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,this.onImageChange.bind(this)),t.on(B.hotel.Events.PhotoGrid.MODAL_OPENED,function(){_i_("269:38fc5f4d"),B.et.stage(r,i.OPENED),Math.ceil(this.config.photos.length/Object.keys(this.config.map).length)<=2&&B.et.stage(r,i.OPENED_AND_HAS_50_PERC_MATCHES),_r_()}.bind(this)),_r_()},onImageChange:function(e){if(_i_("269:857e64b4"),2===a&&(this.removeReview(),this.removeHidden()),e&&e.modal){var t=e.modal.activePhotoId,i=this.findReview(t);i&&this.addReview(i)}this.isFirstImage=!1,_r_()},findReview:function(e){return _i_("269:833f97f9"),_r_(this.config.map[e])},addReview:function(e){if(_i_("269:20ec58da"),!this.elItems[0])return _r_();var n=e.b_id;if(this.isFirstImage||(this.isChanged=n!=this.reviewId),this.isChanged&&(this.changeCount++,B.et.customGoal(r,o.SAW_MATCHED_REVIEW),1<this.changeCount&&B.et.customGoal(r,o.SAW_2_MATCHED_REVIEWS)),this.reviewId=n,1===a)return _r_();var t=B.jstmpl("fe_sidebar_review_item").render(Object.assign({},e,{ip_country:B.env.ip_country,quote_open_primary:B.env.quote_open_primary,quote_close_primary:B.env.quote_close_primary}));this.elNewItem||(this.elNewItem=this.elItems[0].cloneNode(!1));var i=this.config.reviews.reduce(function(e,t,i){return _i_("269:0771742d"),_r_(n===t.b_id?i:e)},-1);0<=i&&i<10?this.addHidden(this.elItems[i]):this.addHidden(this.elItems[this.itemsLength]),this.elNewItem.innerHTML=t,this.elList.insertBefore(this.elNewItem,this.elItems[0]),_r_()},removeReview:function(){_i_("269:3f32a71b"),this.elNewItem&&(this.elNewItem.parentNode.removeChild(this.elNewItem),this.elNewItem=null),_r_()},addHidden:function(e){_i_("269:c92b6020"),this.elHiddenItem=e,this.elHiddenItem.classList.add("hidden"),_r_()},removeHidden:function(){_i_("269:7ec9ce38"),this.elHiddenItem&&(this.elHiddenItem.classList.remove("hidden"),this.elHiddenItem=null),_r_()}},new n({map:B.env.fe_photo_to_review_list||{},reviews:B.env.fe_social_proof||[],photos:B.env.hotelPhotos,el:document.getElementById("hotel_main_content")}),_r_()}),B.when({events:"ready",action:"hotel"}).run(function(e){_i_("269:c2c81ca4");var t=e("events"),i={SAW_SUPER_RES_IMAGE:1};t.on(B.hotel.Events.PhotoGrid.MODAL_PICTURE_CHANGED,function(e){if(_i_("269:6922b5b4"),e&&e.modal&&e.modal.opened){var t=e.modal.activePhotoId.toString();e.modal.photos.find(function(e){return _i_("269:e391e941"),_r_(e.id.toString()===t)}).has_super_res&&B.et.stage("VVDdHQSYeJHINPFZSFfZVOQUNAFHe",i.SAW_SUPER_RES_IMAGE)}_r_()}),_r_()}),B.define("watcher",function(e,t,i){"use strict";_i_("269:3d83e7651");var f=e("jquery"),r=e("utils/throttled"),u=[],p=[];function n(t,e,i){_i_("269:fadcf08b1");var n=u.filter(function(e){return _i_("269:d8f694c22"),_r_(e.el===t&&e.parent===i)})[0];if(!n)return _r_();var r=p.filter(function(e){return _i_("269:9d4e9b452"),_r_(e.el===i)})[0];if(e){var a=n.conditions.indexOf(e);n.conditions.splice(a,1),n.checks.splice(a,1),0===n.checks.length&&r.children.splice(r.children.indexOf(n),1)}else r.children.splice(r.children.indexOf(n),1);0===r.children.length&&(f(n.parent).off("resize scroll",r.handler),p.splice(p.indexOf(r),1)),_r_()}function a(a,t,o,s,_){_i_("269:2b4917031");var l=f(a),c=f(t),h=_&&"function"==typeof _,d=t===window,e=function(){_i_("269:2391de691");var e=l.offset().top,t=l.innerHeight(),i={top:e,bottom:e+t,height:t},n=d?window.pageYOffset:c.offset().top,r=d?c.height():c.innerHeight();o(i,{top:n,bottom:n+r,height:r})?s(a):h&&_(a),_r_()},i=u.filter(function(e){return _i_("269:d8f694c23"),_r_(e.el===a&&e.parent===t)})[0];i?(i.conditions.push(o),i.checks.push(e)):(i={el:a,parent:t,conditions:[o],checks:[e]},u.push(i));var n=p.filter(function(e){return _i_("269:9d4e9b453"),_r_(e.el===t)})[0];n?n.children.push(i):(n={el:t,children:[i],handler:r(function(){_i_("269:3ef8b0391"),n.children.forEach(function(e){_i_("269:fa0590ce1"),e.checks.forEach(function(e){_i_("269:0af2e9441"),e(),_r_()}),_r_()}),_r_()},150)},p.push(n),c.on("resize scroll",n.handler)),e(),_r_()}return _r_({conditions:{isInViewport:function(e,t){return _i_("269:b78d60b61"),_r_(e.top<=t.bottom&&e.bottom>=t.top)},isFullyInViewport:function(e,t){return _i_("269:74e6c26e1"),_r_(e.bottom<=t.bottom&&e.top>=t.top)},isOutOfViewport:function(e,t){return _i_("269:a70bfd921"),_r_(e.top>t.bottom||e.bottom<t.top)},isCloseToOrInViewport:function(e,t){return _i_("269:08d1ea981"),t.bottom+=t.height/2,t.top-=t.height/2,_r_(e.top<=t.bottom&&e.bottom>=t.top)}},unwatch:function(e,t,i){_i_("269:7ec0c4c11"),i=i instanceof f?i[0]:i||window,e instanceof f?e.each(function(){_i_("269:cdfeb4df1"),n(this,t,i),_r_()}):n(e,t,i),_r_()},watch:function(n,r){return _i_("269:bed8bf4e1"),_r_({when:function(i){return _i_("269:4a13cbc21"),r=r instanceof f?r[0]:r||window,_r_({then:function(e,t){if(_i_("269:c0457ca31"),n instanceof f)n.each(function(){_i_("269:d244cd941"),a(this,r,i,e,t),_r_()});else{if(!(n instanceof Node))throw new TypeError("invalid element provided to watcher");a(n,r,i,e,t)}_r_()}})}})}})}),B.define("svg-animator",function(){"use strict";_i_("269:93d88506");var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return _i_("269:78fb2cf0"),_r_({})}!function(){_i_("269:7f1ff90a");var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i=t.length;for(e=0;e<i;e+=1)BMMath[t[e]]=Math[t[e]];_r_()}(),BMMath.random=Math.random,BMMath.abs=function(e){if(_i_("269:107e4822"),"object"===typeof e&&e.length){var t,i=createSizedArray(e.length),n=e.length;for(t=0;t<n;t+=1)i[t]=Math.abs(e[t]);return _r_(i)}return _r_(Math.abs(e))};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){_i_("269:c1004548"),bm_rnd=e?Math.round:function(e){return _i_("269:60f46241"),_r_(e)},_r_()}function styleDiv(e){_i_("269:beaab1f7"),e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d",_r_()}function BMEnterFrameEvent(e,t,i,n){_i_("269:89146855"),this.type=e,this.currentTime=t,this.totalTime=i,this.direction=n<0?-1:1,_r_()}function BMCompleteEvent(e,t){_i_("269:8f03d449"),this.type=e,this.direction=t<0?-1:1,_r_()}function BMCompleteLoopEvent(e,t,i,n){_i_("269:50304bb3"),this.type=e,this.currentLoop=i,this.totalLoops=t,this.direction=n<0?-1:1,_r_()}function BMSegmentStartEvent(e,t,i){_i_("269:73fabf4a"),this.type=e,this.firstFrame=t,this.totalFrames=i,_r_()}function BMDestroyEvent(e,t){_i_("269:470a435b"),this.type=e,this.target=t,_r_()}roundValues(!1);var createElementID=function(){_i_("269:2a4d1ecd");var e=0;return _r_(function(){return _i_("269:f5b14bf2"),_r_("__lottie_element_"+ ++e)})}();function HSVtoRGB(e,t,i){var n,r,a,o,s,_,l,c;switch(_i_("269:3673ed66"),_=i*(1-t),l=i*(1-(s=6*e-(o=Math.floor(6*e)))*t),c=i*(1-(1-s)*t),o%6){case 0:n=i,r=c,a=_;break;case 1:n=l,r=i,a=_;break;case 2:n=_,r=i,a=c;break;case 3:n=_,r=l,a=i;break;case 4:n=c,r=_,a=i;break;case 5:n=i,r=_,a=l}return _r_([n,r,a])}function RGBtoHSV(e,t,i){_i_("269:c0bd1c0d");var n,r=Math.max(e,t,i),a=Math.min(e,t,i),o=r-a,s=0===r?0:o/r,_=r/255;switch(r){case a:n=0;break;case e:n=t-i+o*(t<i?6:0),n/=6*o;break;case t:n=i-e+2*o,n/=6*o;break;case i:n=e-t+4*o,n/=6*o}return _r_([n,s,_])}function addSaturationToRGB(e,t){_i_("269:52d29f82");var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[1]+=t,1<i[1]?i[1]=1:i[1]<=0&&(i[1]=0),_r_(HSVtoRGB(i[0],i[1],i[2]))}function addBrightnessToRGB(e,t){_i_("269:76f308bf");var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[2]+=t,1<i[2]?i[2]=1:i[2]<0&&(i[2]=0),_r_(HSVtoRGB(i[0],i[1],i[2]))}function addHueToRGB(e,t){_i_("269:993c26d8");var i=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return i[0]+=t/360,1<i[0]?i[0]-=1:i[0]<0&&(i[0]+=1),_r_(HSVtoRGB(i[0],i[1],i[2]))}var rgbToHex=function(){_i_("269:ddcf164d");var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1==t.length?"0"+t:t;return _r_(function(e,t,i){return _i_("269:f22709db"),e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),_r_("#"+n[e]+n[t]+n[i])})}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(_i_("269:246b9da9"),this._cbs[e])for(var i=this._cbs[e].length,n=0;n<i;n++)this._cbs[e][n](t);_r_()},addEventListener:function(e,t){return _i_("269:6bfb335a"),this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),_r_(function(){_i_("269:7ce3297b"),this.removeEventListener(e,t),_r_()}.bind(this))},removeEventListener:function(e,t){if(_i_("269:af80e044"),t){if(this._cbs[e]){for(var i=0,n=this._cbs[e].length;i<n;)this._cbs[e][i]===t&&(this._cbs[e].splice(i,1),i-=1,n-=1),i+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null;_r_()}};var createTypedArray=(_i_("269:fb76e468"),"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?_r_(function(e,t){if(_i_("269:74d340a7"),"float32"===e)return _r_(new Float32Array(t));if("int16"===e)return _r_(new Int16Array(t));if("uint8c"===e)return _r_(new Uint8ClampedArray(t));_r_()}):_r_(function(e,t){_i_("269:75b41a1c");var i,n=0,r=[];switch(e){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<t;n+=1)r.push(i);return _r_(r)}));function createSizedArray(e){return _i_("269:1a8dc57e"),_r_(Array.apply(null,{length:e}))}function createNS(e){return _i_("269:506d495a"),_r_(document.createElementNS(svgNS,e))}function createTag(e){return _i_("269:3158ee9f"),_r_(document.createElement(e))}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){_i_("269:506860c1"),-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0),_r_()},iterateDynamicProperties:function(){_i_("269:3c9f01f9"),this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0);_r_()},initDynamicPropertyContainer:function(e){_i_("269:58c3a9d6"),this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1,_r_()}};var getBlendMode=function(){_i_("269:b98537ca");var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return _r_(function(e){return _i_("269:28d217ff"),_r_(t[e]||"")})}(),Matrix=function(){_i_("269:c6e8470e");var r=Math.cos,a=Math.sin,o=Math.tan,n=Math.round;function e(){return _i_("269:66eb84ee"),this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,_r_(this)}function t(e){if(_i_("269:3f95beea"),0===e)return _r_(this);var t=r(e),i=a(e);return _r_(this._t(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1))}function i(e){if(_i_("269:c5bf3e64"),0===e)return _r_(this);var t=r(e),i=a(e);return _r_(this._t(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1))}function s(e){if(_i_("269:a5064db5"),0===e)return _r_(this);var t=r(e),i=a(e);return _r_(this._t(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1))}function _(e){if(_i_("269:b65f3e45"),0===e)return _r_(this);var t=r(e),i=a(e);return _r_(this._t(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1))}function l(e,t){return _i_("269:0f170763"),_r_(this._t(1,t,e,1,0,0))}function c(e,t){return _i_("269:f187b90f"),_r_(this.shear(o(e),o(t)))}function h(e,t){_i_("269:46d71ffb");var i=r(t),n=a(t);return _r_(this._t(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,o(e),1,0,0,0,0,1,0,0,0,0,1)._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1))}function d(e,t,i){if(_i_("269:44257e05"),i||0===i||(i=1),1===e&&1===t&&1===i)return _r_(this);return _r_(this._t(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1))}function f(e,t,i,n,r,a,o,s,_,l,c,h,d,f,u,p){return _i_("269:f27e7f9d"),this.props[0]=e,this.props[1]=t,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=a,this.props[6]=o,this.props[7]=s,this.props[8]=_,this.props[9]=l,this.props[10]=c,this.props[11]=h,this.props[12]=d,this.props[13]=f,this.props[14]=u,this.props[15]=p,_r_(this)}function u(e,t,i){if(_i_("269:1dd2e7e4"),i=i||0,0!==e||0!==t||0!==i)return _r_(this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,i,1));return _r_(this)}function p(e,t,i,n,r,a,o,s,_,l,c,h,d,f,u,p){_i_("269:f6c1f118");var m=this.props;if(1===e&&0===t&&0===i&&0===n&&0===r&&1===a&&0===o&&0===s&&0===_&&0===l&&1===c&&0===h)return m[12]=m[12]*e+m[15]*d,m[13]=m[13]*a+m[15]*f,m[14]=m[14]*c+m[15]*u,m[15]=m[15]*p,this._identityCalculated=!1,_r_(this);var b=m[0],g=m[1],v=m[2],y=m[3],M=m[4],w=m[5],k=m[6],B=m[7],E=m[8],C=m[9],S=m[10],x=m[11],T=m[12],N=m[13],I=m[14],A=m[15];return m[0]=b*e+g*r+v*_+y*d,m[1]=b*t+g*a+v*l+y*f,m[2]=b*i+g*o+v*c+y*u,m[3]=b*n+g*s+v*h+y*p,m[4]=M*e+w*r+k*_+B*d,m[5]=M*t+w*a+k*l+B*f,m[6]=M*i+w*o+k*c+B*u,m[7]=M*n+w*s+k*h+B*p,m[8]=E*e+C*r+S*_+x*d,m[9]=E*t+C*a+S*l+x*f,m[10]=E*i+C*o+S*c+x*u,m[11]=E*n+C*s+S*h+x*p,m[12]=T*e+N*r+I*_+A*d,m[13]=T*t+N*a+I*l+A*f,m[14]=T*i+N*o+I*c+A*u,m[15]=T*n+N*s+I*h+A*p,this._identityCalculated=!1,_r_(this)}function m(){return _i_("269:6a78c13a"),this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),_r_(this._identity)}function b(e){_i_("269:3ea11e03");for(var t=0;t<16;){if(e.props[t]!==this.props[t])return _r_(!1);t+=1}return _r_(!0)}function g(e){var t;for(_i_("269:be971e22"),t=0;t<16;t+=1)e.props[t]=this.props[t];_r_()}function v(e){var t;for(_i_("269:c083756f"),t=0;t<16;t+=1)this.props[t]=e[t];_r_()}function y(e,t,i){return _i_("269:3d5df4eb"),_r_({x:e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]})}function M(e,t,i){return _i_("269:de858f79"),_r_(e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12])}function w(e,t,i){return _i_("269:f2cb5523"),_r_(e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13])}function k(e,t,i){return _i_("269:5d11d6e6"),_r_(e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14])}function B(e){_i_("269:48b82de8");var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/t,n=-this.props[1]/t,r=-this.props[4]/t,a=this.props[0]/t,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t;return _r_([e[0]*i+e[1]*r+o,e[0]*n+e[1]*a+s,0])}function E(e){_i_("269:7d8b6df0");var t,i=e.length,n=[];for(t=0;t<i;t+=1)n[t]=B(e[t]);return _r_(n)}function C(e,t,i){_i_("269:044f3db1");var n=createTypedArray("float32",6);if(this.isIdentity())n[0]=e[0],n[1]=e[1],n[2]=t[0],n[3]=t[1],n[4]=i[0],n[5]=i[1];else{var r=this.props[0],a=this.props[1],o=this.props[4],s=this.props[5],_=this.props[12],l=this.props[13];n[0]=e[0]*r+e[1]*o+_,n[1]=e[0]*a+e[1]*s+l,n[2]=t[0]*r+t[1]*o+_,n[3]=t[0]*a+t[1]*s+l,n[4]=i[0]*r+i[1]*o+_,n[5]=i[0]*a+i[1]*s+l}return _r_(n)}function S(e,t,i){var n;return _i_("269:3b721a08"),n=this.isIdentity()?[e,t,i]:[e*this.props[0]+t*this.props[4]+i*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+i*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+i*this.props[10]+this.props[14]],_r_(n)}function x(e,t){if(_i_("269:b4d543b9"),this.isIdentity())return _r_(e+","+t);var i=this.props;return _r_(Math.round(100*(e*i[0]+t*i[4]+i[12]))/100+","+Math.round(100*(e*i[1]+t*i[5]+i[13]))/100)}function T(){_i_("269:b0f0b2b6");for(var e=0,t=this.props,i="matrix3d(";e<16;)i+=n(1e4*t[e])/1e4,i+=15===e?")":",",e+=1;return _r_(i)}function N(e){_i_("269:f7e42ca9");if(e<1e-6&&0<e||-1e-6<e&&e<0)return _r_(n(1e4*e)/1e4);return _r_(e)}function I(){_i_("269:9f64e25a");var e=this.props,t=N(e[0]),i=N(e[1]),n=N(e[4]),r=N(e[5]),a=N(e[12]),o=N(e[13]);return _r_("matrix("+t+","+i+","+n+","+r+","+a+","+o+")")}return _r_(function(){_i_("269:63899ece"),this.reset=e,this.rotate=t,this.rotateX=i,this.rotateY=s,this.rotateZ=_,this.skew=c,this.skewFromAxis=h,this.shear=l,this.scale=d,this.setTransform=f,this.translate=u,this.transform=p,this.applyToPoint=y,this.applyToX=M,this.applyToY=w,this.applyToZ=k,this.applyToPointArray=S,this.applyToTriplePoints=C,this.applyToPointStringified=x,this.toCSS=T,this.to2dCSS=I,this.clone=g,this.cloneFromProps=v,this.equals=b,this.inversePoints=E,this.inversePoint=B,this._t=this.transform,this.isIdentity=m,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset(),_r_()})}();!function(s,_){_i_("269:51aa06fd");var l,c=this,h=256,d=6,f="random",u=_.pow(h,d),p=_.pow(2,52),m=2*p,b=h-1;function g(e){_i_("269:1a631bd9");var t,i=e.length,o=this,n=0,r=o.i=o.j=0,a=o.S=[];for(i||(e=[i++]);n<h;)a[n]=n++;for(n=0;n<h;n++)a[n]=a[r=b&r+e[n%i]+(t=a[n])],a[r]=t;o.g=function(e){_i_("269:97e20388");for(var t,i=0,n=o.i,r=o.j,a=o.S;e--;)t=a[n=b&n+1],i=i*h+a[b&(a[n]=a[r=b&r+t])+(a[r]=t)];return o.i=n,o.j=r,_r_(i)},_r_()}function v(e,t){return _i_("269:2fba4427"),t.i=e.i,t.j=e.j,t.S=e.S.slice(),_r_(t)}function y(e,t){_i_("269:1f8e7db9");for(var i,n=e+"",r=0;r<n.length;)t[b&r]=b&(i^=19*t[b&r])+n.charCodeAt(r++);return _r_(M(t))}function M(e){return _i_("269:b6dc9312"),_r_(String.fromCharCode.apply(0,e))}_["seed"+f]=function(e,t,i){_i_("269:b6c69b17");var n=[],r=y(function e(t,i){_i_("269:8197d930");var n,r=[],a=typeof t;if(i&&"object"==a)for(n in t)try{r.push(e(t[n],i-1))}catch(e){}return _r_(r.length?r:"string"==a?t:t+"\0")}((t=!0===t?{entropy:!0}:t||{}).entropy?[e,M(s)]:null===e?function(){_i_("269:e59137e1");try{if(l)return _r_(M(l.randomBytes(h)));var e=new Uint8Array(h);return(c.crypto||c.msCrypto).getRandomValues(e),_r_(M(e))}catch(e){var t=c.navigator,i=t&&t.plugins;return _r_([+new Date,c,i,c.screen,M(s)])}_r_()}():e,3),n),a=new g(n),o=function(){_i_("269:47a2451a");for(var e=a.g(d),t=u,i=0;e<p;)e=(e+i)*h,t*=h,i=a.g(1);for(;m<=e;)e/=2,t/=2,i>>>=1;return _r_((e+i)/t)};return o.int32=function(){return _i_("269:7a184f6a"),_r_(0|a.g(4))},o.quick=function(){return _i_("269:d9775273"),_r_(a.g(4)/4294967296)},o.double=o,y(M(a.S),s),_r_((t.pass||i||function(e,t,i,n){return _i_("269:da2dfc0a"),n&&(n.S&&v(n,a),e.state=function(){return _i_("269:c2fe2baa"),_r_(v(a,{}))}),i?(_[f]=e,_r_(t)):_r_(e)})(o,r,"global"in t?t.global:this==_,t.state))},y(_.random(),s),_r_()}([],BMMath);var BezierFactory=function(){_i_("269:a609c610");var e={getBezierEasing:function(e,t,i,n,r){_i_("269:7607d1b7");var a=r||("bez_"+e+"_"+t+"_"+i+"_"+n).replace(/\./g,"p");if(s[a])return _r_(s[a]);var o=new _([e,t,i,n]);return s[a]=o,_r_(o)}},s={};var l=11,c=1/(l-1),t="function"==typeof Float32Array;function n(e,t){return _i_("269:e0deff5c"),_r_(1-3*t+3*e)}function r(e,t){return _i_("269:44112b8a"),_r_(3*t-6*e)}function a(e){return _i_("269:93d99c2c"),_r_(3*e)}function h(e,t,i){return _i_("269:8764d6c4"),_r_(((n(t,i)*e+r(t,i))*e+a(t))*e)}function d(e,t,i){return _i_("269:70291a41"),_r_(3*n(t,i)*e*e+2*r(t,i)*e+a(t))}function _(e){_i_("269:deb7b855"),this._p=e,this._mSampleValues=t?new Float32Array(l):new Array(l),this._precomputed=!1,this.get=this.get.bind(this),_r_()}return _.prototype={get:function(e){_i_("269:9e6fd098");var t=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];if(this._precomputed||this._precompute(),t===i&&n===r)return _r_(e);if(0===e)return _r_(0);if(1===e)return _r_(1);return _r_(h(this._getTForX(e),i,r))},_precompute:function(){_i_("269:d2ef2403");var e=this._p[0],t=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&i===n||this._calcSampleValues(),_r_()},_calcSampleValues:function(){_i_("269:3ec39c7b");for(var e=this._p[0],t=this._p[2],i=0;i<l;++i)this._mSampleValues[i]=h(i*c,e,t);_r_()},_getTForX:function(e){_i_("269:76950ee3");for(var t=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,a=1,o=l-1;a!==o&&n[a]<=e;++a)r+=c;var s=r+(e-n[--a])/(n[a+1]-n[a])*c,_=d(s,t,i);return _r_(.001<=_?function(e,t,i,n){_i_("269:5daa2516");for(var r=0;r<4;++r){var a=d(t,i,n);if(0===a)return _r_(t);t-=(h(t,i,n)-e)/a}return _r_(t)}(e,s,t,i):0===_?s:function(e,t,i,n,r){_i_("269:638ea381");for(var a,o,s=0;0<(a=h(o=t+(i-t)/2,n,r)-e)?i=o:t=o,1e-7<Math.abs(a)&&++s<10;);return _r_(o)}(e,r,r+c,t,i))}},_r_(e)}();function extendPrototype(e,t){_i_("269:3a472a73");var i,n,r=e.length;for(i=0;i<r;i+=1)for(var a in n=e[i].prototype)n.hasOwnProperty(a)&&(t.prototype[a]=n[a]);_r_()}function getDescriptor(e,t){return _i_("269:a8f3c60b"),_r_(Object.getOwnPropertyDescriptor(e,t))}function createProxyFunction(e){function t(){}return _i_("269:fbf46250"),t.prototype=e,_r_(t)}function bezFunction(){_i_("269:c434c38d");Math;function b(e,t,i,n,r,a){_i_("269:9ce10fb6");var o=e*n+t*r+i*a-r*n-a*e-i*t;return _r_(-.001<o&&o<.001)}var c=(_i_("269:311d0583"),_r_(function(e,t,i,n){_i_("269:ccc02b02");var r,a,o,s,_,l,c=defaultCurveSegments,h=0,d=[],f=[],u=bezier_length_pool.newElement();for(o=i.length,r=0;r<c;r+=1){for(_=r/(c-1),a=l=0;a<o;a+=1)s=bm_pow(1-_,3)*e[a]+3*bm_pow(1-_,2)*_*i[a]+3*(1-_)*bm_pow(_,2)*n[a]+bm_pow(_,3)*t[a],d[a]=s,null!==f[a]&&(l+=bm_pow(d[a]-f[a],2)),f[a]=d[a];l&&(h+=l=bm_sqrt(l)),u.percents[r]=_,u.lengths[r]=h}return u.addedLength=h,_r_(u)}));function g(e){_i_("269:4d358b1a"),this.segmentLength=0,this.points=new Array(e),_r_()}function v(e,t){_i_("269:3438d2ca"),this.partialLength=e,this.point=t,_r_()}var e=function(){_i_("269:ec3492e2");var m={};return _r_(function(e,t,i,n){_i_("269:bfef3e38");var r=(e[0]+"_"+e[1]+"_"+t[0]+"_"+t[1]+"_"+i[0]+"_"+i[1]+"_"+n[0]+"_"+n[1]).replace(/\./g,"p");if(!m[r]){var a,o,s,_,l,c,h,d=defaultCurveSegments,f=0,u=null;2===e.length&&(e[0]!=t[0]||e[1]!=t[1])&&b(e[0],e[1],t[0],t[1],e[0]+i[0],e[1]+i[1])&&b(e[0],e[1],t[0],t[1],t[0]+n[0],t[1]+n[1])&&(d=2);var p=new g(d);for(s=i.length,a=0;a<d;a+=1){for(h=createSizedArray(s),l=a/(d-1),o=c=0;o<s;o+=1)_=bm_pow(1-l,3)*e[o]+3*bm_pow(1-l,2)*l*(e[o]+i[o])+3*(1-l)*bm_pow(l,2)*(t[o]+n[o])+bm_pow(l,3)*t[o],h[o]=_,null!==u&&(c+=bm_pow(h[o]-u[o],2));f+=c=bm_sqrt(c),p.points[a]=new v(c,h),u=h}p.segmentLength=f,m[r]=p}return _r_(m[r])})}();function T(e,t){_i_("269:c91aacb0");var i=t.percents,n=t.lengths,r=i.length,a=bm_floor((r-1)*e),o=e*t.addedLength,s=0;if(a===r-1||0===a||o===n[a])return _r_(i[a]);for(var _=n[a]>o?-1:1,l=!0;l;)if(n[a]<=o&&n[a+1]>o?(s=(o-n[a])/(n[a+1]-n[a]),l=!1):a+=_,a<0||r-1<=a){if(a===r-1)return _r_(i[a]);l=!1}return _r_(i[a]+(i[a+1]-i[a])*s)}var N=createTypedArray("float32",8);return _r_({getSegmentsLength:function(e){_i_("269:3567532c");var t,i=segments_length_pool.newElement(),n=e.c,r=e.v,a=e.o,o=e.i,s=e._length,_=i.lengths,l=0;for(t=0;t<s-1;t+=1)_[t]=c(r[t],r[t+1],a[t],o[t+1]),l+=_[t].addedLength;return n&&s&&(_[t]=c(r[t],r[0],a[t],o[0]),l+=_[t].addedLength),i.totalLength=l,_r_(i)},getNewSegment:function(e,t,i,n,r,a,o){_i_("269:b1ad1b74");var s,_=T(r=r<0?0:1<r?1:r,o),l=T(a=1<a?1:a,o),c=e.length,h=1-_,d=1-l,f=h*h*h,u=_*h*h*3,p=_*_*h*3,m=_*_*_,b=h*h*d,g=_*h*d+h*_*d+h*h*l,v=_*_*d+h*_*l+_*h*l,y=_*_*l,M=h*d*d,w=_*d*d+h*l*d+h*d*l,k=_*l*d+h*l*l+_*d*l,B=_*l*l,E=d*d*d,C=l*d*d+d*l*d+d*d*l,S=l*l*d+d*l*l+l*d*l,x=l*l*l;for(s=0;s<c;s+=1)N[4*s]=Math.round(1e3*(f*e[s]+u*i[s]+p*n[s]+m*t[s]))/1e3,N[4*s+1]=Math.round(1e3*(b*e[s]+g*i[s]+v*n[s]+y*t[s]))/1e3,N[4*s+2]=Math.round(1e3*(M*e[s]+w*i[s]+k*n[s]+B*t[s]))/1e3,N[4*s+3]=Math.round(1e3*(E*e[s]+C*i[s]+S*n[s]+x*t[s]))/1e3;return _r_(N)},getPointInSegment:function(e,t,i,n,r,a){_i_("269:c4dcbd5c");var o=T(r,a),s=1-o,_=Math.round(1e3*(s*s*s*e[0]+(o*s*s+s*o*s+s*s*o)*i[0]+(o*o*s+s*o*o+o*s*o)*n[0]+o*o*o*t[0]))/1e3,l=Math.round(1e3*(s*s*s*e[1]+(o*s*s+s*o*s+s*s*o)*i[1]+(o*o*s+s*o*o+o*s*o)*n[1]+o*o*o*t[1]))/1e3;return _r_([_,l])},buildBezierData:e,pointOnLine2D:b,pointOnLine3D:function(e,t,i,n,r,a,o,s,_){if(_i_("269:3f3e4d80"),0===i&&0===a&&0===_)return _r_(b(e,t,n,r,o,s));var l,c=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)+Math.pow(a-i,2)),h=Math.sqrt(Math.pow(o-e,2)+Math.pow(s-t,2)+Math.pow(_-i,2)),d=Math.sqrt(Math.pow(o-n,2)+Math.pow(s-r,2)+Math.pow(_-a,2));return _r_(-1e-4<(l=h<c?d<c?c-h-d:d-h-c:h<d?d-h-c:h-c-d)&&l<1e-4)}})}!function(){_i_("269:285f6284");for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){_i_("269:a4c42253");var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),r=setTimeout(function(){_i_("269:6ae76207"),e(i+n),_r_()},n);return a=i+n,_r_(r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){_i_("269:e3e32b02"),clearTimeout(e),_r_()}),_r_()}();var bez=bezFunction();function dataFunctionManager(){function f(e,t){_i_("269:521be6c9");for(var i=0,n=t.length;i<n;){if(t[i].id===e){if(!t[i].layers.__used)return t[i].layers.__used=!0,_r_(t[i].layers);return _r_(JSON.parse(JSON.stringify(t[i].layers)))}i+=1}_r_()}function u(e){_i_("269:d7e20db4");var t,i,n;for(t=e.length-1;0<=t;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)p(e[t].ks.k);else for(n=e[t].ks.k.length,i=0;i<n;i+=1)e[t].ks.k[i].s&&p(e[t].ks.k[i].s[0]),e[t].ks.k[i].e&&p(e[t].ks.k[i].e[0]);!0}else"gr"==e[t].ty&&u(e[t].it);_r_()}function p(e){_i_("269:9066398a");var t,i=e.i.length;for(t=0;t<i;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1];_r_()}function _(e,t){_i_("269:3e6d8bd1");var i=t?t.split("."):[100,100,100];if(e[0]>i[0])return _r_(!0);if(i[0]>e[0])return _r_(!1);if(e[1]>i[1])return _r_(!0);if(i[1]>e[1])return _r_(!1);if(e[2]>i[2])return _r_(!0);if(i[2]>e[2])return _r_(!1);_r_()}_i_("269:81989c4b");var i=function(){_i_("269:fef68f12");var n=[4,4,14];function r(e){_i_("269:ec82fba3");var t=e.t.d;e.t.d={k:[{s:t,t:0}]},_r_()}function a(e){_i_("269:1251b7e3");var t,i=e.length;for(t=0;t<i;t+=1)5===e[t].ty&&r(e[t]);_r_()}return _r_(function(e){if(_i_("269:993cab5a"),_(n,e.v)&&(a(e.layers),e.assets)){var t,i=e.assets.length;for(t=0;t<i;t+=1)e.assets[t].layers&&a(e.assets[t].layers)}_r_()})}(),n=function(){_i_("269:2bbab5f2");var s=[4,7,99];return _r_(function(e){if(_i_("269:013737da"),e.chars&&!_(s,e.v)){var t,i,n,r,a,o=e.chars.length;for(t=0;t<o;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(n=(a=e.chars[t].data.shapes[0].it).length,i=0;i<n;i+=1)(r=a[i].ks.k).__converted||(p(a[i].ks.k),r.__converted=!0)}_r_()})}(),r=function(){_i_("269:12f30ed7");var n=[4,1,9];function a(e){_i_("269:4986bff2");var t,i,n,r=e.length;for(t=0;t<r;t+=1)if("gr"===e[t].ty)a(e[t].it);else if("fl"===e[t].ty||"st"===e[t].ty)if(e[t].c.k&&e[t].c.k[0].i)for(n=e[t].c.k.length,i=0;i<n;i+=1)e[t].c.k[i].s&&(e[t].c.k[i].s[0]/=255,e[t].c.k[i].s[1]/=255,e[t].c.k[i].s[2]/=255,e[t].c.k[i].s[3]/=255),e[t].c.k[i].e&&(e[t].c.k[i].e[0]/=255,e[t].c.k[i].e[1]/=255,e[t].c.k[i].e[2]/=255,e[t].c.k[i].e[3]/=255);else e[t].c.k[0]/=255,e[t].c.k[1]/=255,e[t].c.k[2]/=255,e[t].c.k[3]/=255;_r_()}function r(e){_i_("269:0d9cd32c");var t,i=e.length;for(t=0;t<i;t+=1)4===e[t].ty&&a(e[t].shapes);_r_()}return _r_(function(e){if(_i_("269:993cab5a1"),_(n,e.v)&&(r(e.layers),e.assets)){var t,i=e.assets.length;for(t=0;t<i;t+=1)e.assets[t].layers&&r(e.assets[t].layers)}_r_()})}(),a=function(){_i_("269:29269559");var n=[4,4,18];function l(e){_i_("269:e63d4139");var t,i,n;for(t=e.length-1;0<=t;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)e[t].ks.k.c=e[t].closed;else for(n=e[t].ks.k.length,i=0;i<n;i+=1)e[t].ks.k[i].s&&(e[t].ks.k[i].s[0].c=e[t].closed),e[t].ks.k[i].e&&(e[t].ks.k[i].e[0].c=e[t].closed);!0}else"gr"==e[t].ty&&l(e[t].it);_r_()}function r(e){var t;_i_("269:8395f6e9");var i,n,r,a,o,s=e.length;for(i=0;i<s;i+=1){if((t=e[i]).hasMask){var _=t.masksProperties;for(r=_.length,n=0;n<r;n+=1)if(_[n].pt.k.i)_[n].pt.k.c=_[n].cl;else for(o=_[n].pt.k.length,a=0;a<o;a+=1)_[n].pt.k[a].s&&(_[n].pt.k[a].s[0].c=_[n].cl),_[n].pt.k[a].e&&(_[n].pt.k[a].e[0].c=_[n].cl)}4===t.ty&&l(t.shapes)}_r_()}return _r_(function(e){if(_i_("269:993cab5a2"),_(n,e.v)&&(r(e.layers),e.assets)){var t,i=e.assets.length;for(t=0;t<i;t+=1)e.assets[t].layers&&r(e.assets[t].layers)}_r_()})}();var e={};return e.completeData=function(e,t){if(_i_("269:f8aead3c"),e.__complete)return _r_();r(e),i(e),n(e),a(e),function e(t,i,n){var r;_i_("269:ffdc1480");var a,o,s,_,l,c,h=t.length;for(a=0;a<h;a+=1){if(!("ks"in(r=t[a]))||r.completed)continue;if(r.completed=!0,r.tt&&(t[a-1].td=r.tt),r.hasMask){var d=r.masksProperties;for(s=d.length,o=0;o<s;o+=1)if(d[o].pt.k.i)p(d[o].pt.k);else for(l=d[o].pt.k.length,_=0;_<l;_+=1)d[o].pt.k[_].s&&p(d[o].pt.k[_].s[0]),d[o].pt.k[_].e&&p(d[o].pt.k[_].e[0])}0===r.ty?(r.layers=f(r.refId,i),e(r.layers,i,n)):4===r.ty?u(r.shapes):5==r.ty&&(c=r,_i_("269:1e518bea"),0!==c.t.a.length||"m"in c.t.p||(c.singleShape=!0),_r_())}_r_()}(e.layers,e.assets,t),e.__complete=!0,_r_()},_r_(e)}var dataManager=dataFunctionManager(),FontManager=function(){_i_("269:dcfe10cc");var a={w:0,size:0,shapes:[]},e=[];function d(e,t){_i_("269:54eb1e6c");var i=createTag("span");i.style.fontFamily=t;var n=createTag("span");n.innerHTML="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=e+", "+t,_r_({node:n,w:r,parent:i})}function f(e,t){_i_("269:6d7b85ec");var i=createNS("text");return i.style.fontSize="100px",i.setAttribute("font-family",t.fFamily),i.setAttribute("font-style",t.fStyle),i.setAttribute("font-weight",t.fWeight),i.textContent="1",t.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",t.fClass)):i.style.fontFamily=t.fFamily,e.appendChild(i),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,_r_(i)}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var t=function(){_i_("269:b42a2c2d"),this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now(),_r_()};return t.getCombinedCharacterCodes=function(){return _i_("269:b736580d"),_r_(e)},t.prototype.addChars=function(e){if(_i_("269:151e7587"),!e)return _r_();this.chars||(this.chars=[]);var t,i,n,r=e.length,a=this.chars.length;for(t=0;t<r;t+=1){for(i=0,n=!1;i<a;)this.chars[i].style===e[t].style&&this.chars[i].fFamily===e[t].fFamily&&this.chars[i].ch===e[t].ch&&(n=!0),i+=1;n||(this.chars.push(e[t]),a+=1)}_r_()},t.prototype.addFonts=function(e,t){if(_i_("269:9f5a6e0b"),!e)return this.isLoaded=!0,_r_();if(this.chars)return this.isLoaded=!0,this.fonts=e.list,_r_();var i,n=e.list,r=n.length,a=r;for(i=0;i<r;i+=1){var o,s,_=!0;if(n[i].loaded=!1,n[i].monoCase=d(n[i].fFamily,"monospace"),n[i].sansCase=d(n[i].fFamily,"sans-serif"),n[i].fPath){if("p"===n[i].fOrigin||3===n[i].origin){if(0<(o=document.querySelectorAll('style[f-forigin="p"][f-family="'+n[i].fFamily+'"], style[f-origin="3"][f-family="'+n[i].fFamily+'"]')).length&&(_=!1),_){var l=createTag("style");l.setAttribute("f-forigin",n[i].fOrigin),l.setAttribute("f-origin",n[i].origin),l.setAttribute("f-family",n[i].fFamily),l.type="text/css",l.innerHTML="@font-face {font-family: "+n[i].fFamily+"; font-style: normal; src: url('"+n[i].fPath+"');}",t.appendChild(l)}}else if("g"===n[i].fOrigin||1===n[i].origin){for(o=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),s=0;s<o.length;s++)-1!==o[s].href.indexOf(n[i].fPath)&&(_=!1);if(_){var c=createTag("link");c.setAttribute("f-forigin",n[i].fOrigin),c.setAttribute("f-origin",n[i].origin),c.type="text/css",c.rel="stylesheet",c.href=n[i].fPath,document.body.appendChild(c)}}else if("t"===n[i].fOrigin||2===n[i].origin){for(o=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),s=0;s<o.length;s++)n[i].fPath===o[s].src&&(_=!1);if(_){var h=createTag("link");h.setAttribute("f-forigin",n[i].fOrigin),h.setAttribute("f-origin",n[i].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",n[i].fPath),t.appendChild(h)}}}else n[i].loaded=!0,a-=1;n[i].helper=f(t,n[i]),n[i].cache={},this.fonts.push(n[i])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100),_r_()},t.prototype.getCharData=function(e,t,i){_i_("269:de4aa385");for(var n=0,r=this.chars.length;n<r;){if(this.chars[n].ch===e&&this.chars[n].style===t&&this.chars[n].fFamily===i)return _r_(this.chars[n]);n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,t,i),_r_(a)},t.prototype.getFontByName=function(e){_i_("269:bc2a9182");for(var t=0,i=this.fonts.length;t<i;){if(this.fonts[t].fName===e)return _r_(this.fonts[t]);t+=1}return _r_(this.fonts[0])},t.prototype.measureText=function(e,t,i){_i_("269:af6dcb9e");var n=this.getFontByName(t),r=e.charCodeAt(0);if(!n.cache[r+1]){var a=n.helper;if(" "===e){a.textContent="|"+e+"|";var o=a.getComputedTextLength();a.textContent="||";var s=a.getComputedTextLength();n.cache[r+1]=(o-s)/100}else a.textContent=e,n.cache[r+1]=a.getComputedTextLength()/100}return _r_(n.cache[r+1]*i)},t.prototype.checkLoadedFonts=function(){_i_("269:f765391a");var e,t,i,n=this.fonts.length,r=n;for(e=0;e<n;e+=1){if(this.fonts[e].loaded){r-=1;continue}"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,i=this.fonts[e].monoCase.w,t.offsetWidth!==i?(r-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,i=this.fonts[e].sansCase.w,t.offsetWidth!==i&&(r-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)))}0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){_i_("269:37e300d5"),this.isLoaded=!0,_r_()}.bind(this),0),_r_()},t.prototype.loaded=function(){return _i_("269:76b4453e"),_r_(this.isLoaded)},_r_(t)}(),PropertyFactory=function(){_i_("269:8cef0aae");var h=initialDefaultFrame,r=Math.abs;function d(e,t){_i_("269:d5d2a605");var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var r,a,o,s,_,l,c,h,d=t.lastIndex,f=d,u=this.keyframes.length-1,p=!0;p;){if(r=this.keyframes[f],a=this.keyframes[f+1],f===u-1&&e>=a.t-n){r.h&&(r=a),d=0;break}if(a.t-n>e){d=f;break}f<u-1?f+=1:(d=0,p=!1)}var m,b=a.t-n,g=r.t-n;if(r.to){r.bezierData||(r.bezierData=bez.buildBezierData(r.s,a.s||r.e,r.to,r.ti));var v=r.bezierData;if(b<=e||e<g){var y=b<=e?v.points.length-1:0;for(s=v.points[y].point.length,o=0;o<s;o+=1)i[o]=v.points[y].point[o]}else{r.__fnct?h=r.__fnct:(h=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,r.__fnct=h),_=h((e-g)/(b-g));var M,w=v.segmentLength*_,k=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(c=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,p=!0,l=v.points.length;p;){if(k+=v.points[c].partialLength,0===w||0===_||c===v.points.length-1){for(s=v.points[c].point.length,o=0;o<s;o+=1)i[o]=v.points[c].point[o];break}if(k<=w&&w<k+v.points[c+1].partialLength){for(M=(w-k)/v.points[c+1].partialLength,s=v.points[c].point.length,o=0;o<s;o+=1)i[o]=v.points[c].point[o]+(v.points[c+1].point[o]-v.points[c].point[o])*M;break}c<l-1?c+=1:p=!1}t._lastPoint=c,t._lastAddedLength=k-v.points[c].partialLength,t._lastKeyframeIndex=f}}else{var B,E,C,S,x;if(u=r.s.length,m=a.s||r.e,this.sh&&1!==r.h)if(b<=e)i[0]=m[0],i[1]=m[1],i[2]=m[2];else if(e<=g)i[0]=r.s[0],i[1]=r.s[1],i[2]=r.s[2];else{!function(e,t){_i_("269:caa419ce");var i=t[0],n=t[1],r=t[2],a=t[3],o=Math.atan2(2*n*a-2*i*r,1-2*n*n-2*r*r),s=Math.asin(2*i*n+2*r*a),_=Math.atan2(2*i*a-2*n*r,1-2*i*i-2*r*r);e[0]=o/degToRads,e[1]=s/degToRads,e[2]=_/degToRads,_r_()}(i,function(e,t,i){_i_("269:a42d1eaa");var n,r,a,o,s,_=[],l=e[0],c=e[1],h=e[2],d=e[3],f=t[0],u=t[1],p=t[2],m=t[3];(r=l*f+c*u+h*p+d*m)<0&&(r=-r,f=-f,u=-u,p=-p,m=-m);1e-6<1-r?(n=Math.acos(r),a=Math.sin(n),o=Math.sin((1-i)*n)/a,s=Math.sin(i*n)/a):(o=1-i,s=i);return _[0]=o*l+s*f,_[1]=o*c+s*u,_[2]=o*h+s*p,_[3]=o*d+s*m,_r_(_)}(T(r.s),T(m),(e-g)/(b-g)))}else for(f=0;f<u;f+=1)1!==r.h&&(b<=e?_=1:e<g?_=0:(r.o.x.constructor===Array?(r.__fnct||(r.__fnct=[]),r.__fnct[f]?h=r.__fnct[f]:(B=void 0===r.o.x[f]?r.o.x[0]:r.o.x[f],E=void 0===r.o.y[f]?r.o.y[0]:r.o.y[f],C=void 0===r.i.x[f]?r.i.x[0]:r.i.x[f],S=void 0===r.i.y[f]?r.i.y[0]:r.i.y[f],h=BezierFactory.getBezierEasing(B,E,C,S).get,r.__fnct[f]=h)):r.__fnct?h=r.__fnct:(B=r.o.x,E=r.o.y,C=r.i.x,S=r.i.y,h=BezierFactory.getBezierEasing(B,E,C,S).get,r.__fnct=h),_=h((e-g)/(b-g)))),m=a.s||r.e,x=1===r.h?r.s[f]:r.s[f]+(m[f]-r.s[f])*_,1===u?i=x:i[f]=x}return t.lastIndex=d,_r_(i)}function T(e){_i_("269:2bb80e38");var t=e[0]*degToRads,i=e[1]*degToRads,n=e[2]*degToRads,r=Math.cos(t/2),a=Math.cos(i/2),o=Math.cos(n/2),s=Math.sin(t/2),_=Math.sin(i/2),l=Math.sin(n/2);return _r_([s*_*o+r*a*l,s*a*o+r*_*l,r*_*o-s*a*l,r*a*o-s*_*l])}function f(){_i_("269:9e063d3c");var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==h&&(this._caching.lastFrame>=i&&i<=e||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var n=this.interpolateValue(e,this._caching);this.pv=n}return this._caching.lastFrame=e,_r_(this.pv)}function u(e){var t;if(_i_("269:2b182ed8"),"unidimensional"===this.propType)t=e*this.mult,1e-5<r(this.v-t)&&(this.v=t,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)t=e[i]*this.mult,1e-5<r(this.v[i]-t)&&(this.v[i]=t,this._mdf=!0),i+=1;_r_()}function p(){if(_i_("269:406e9147"),this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)return _r_();if(this.lock)return this.setVValue(this.pv),_r_();this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,i=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)i=this.effectsSequence[e](i);this.setVValue(i),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId,_r_()}function m(e){_i_("269:beb47940"),this.effectsSequence.push(e),this.container.addDynamicProperty(this),_r_()}function o(e,t,i,n){_i_("269:c0c49f11"),this.propType="unidimensional",this.mult=i||1,this.data=t,this.v=i?t.k*i:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=p,this.setVValue=u,this.addEffect=m,_r_()}function s(e,t,i,n){_i_("269:d9cf975b"),this.propType="multidimensional",this.mult=i||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var r,a=t.k.length;this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a);createTypedArray("float32",a);for(this.vel=createTypedArray("float32",a),r=0;r<a;r+=1)this.v[r]=t.k[r]*this.mult,this.pv[r]=t.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=p,this.setVValue=u,this.addEffect=m,_r_()}function _(e,t,i,n){_i_("269:96ae3b98"),this.propType="unidimensional",this.keyframes=t.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:h,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=i||1,this.elem=e,this.container=n,this.comp=e.comp,this.v=h,this.pv=h,this._isFirstFrame=!0,this.getValue=p,this.setVValue=u,this.interpolateValue=d,this.effectsSequence=[f.bind(this)],this.addEffect=m,_r_()}function l(e,t,i,n){_i_("269:e64baa40"),this.propType="multidimensional";var r,a,o,s,_,l=t.k.length;for(r=0;r<l-1;r+=1)t.k[r].to&&t.k[r].s&&t.k[r].e&&(a=t.k[r].s,o=t.k[r].e,s=t.k[r].to,_=t.k[r].ti,(2===a.length&&(a[0]!==o[0]||a[1]!==o[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],a[0]+s[0],a[1]+s[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],o[0]+_[0],o[1]+_[1])||3===a.length&&(a[0]!==o[0]||a[1]!==o[1]||a[2]!==o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],a[0]+s[0],a[1]+s[1],a[2]+s[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],o[0]+_[0],o[1]+_[1],o[2]+_[2]))&&(t.k[r].to=null,t.k[r].ti=null),a[0]===o[0]&&a[1]===o[1]&&0===s[0]&&0===s[1]&&0===_[0]&&0===_[1]&&(2===a.length||a[2]===o[2]&&0===s[2]&&0===_[2])&&(t.k[r].to=null,t.k[r].ti=null));this.effectsSequence=[f.bind(this)],this.keyframes=t.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=e,this.container=n,this.comp=e.comp,this.getValue=p,this.setVValue=u,this.interpolateValue=d,this.frameId=-1;var c=t.k[0].s.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),r=0;r<c;r+=1)this.v[r]=h,this.pv[r]=h;this._caching={lastFrame:h,lastIndex:0,value:createTypedArray("float32",c)},this.addEffect=m,_r_()}return _r_({getProp:function(e,t,i,n,r){var a;if(_i_("269:1c9d733a"),t.k.length)if("number"==typeof t.k[0])a=new s(e,t,n,r);else switch(i){case 0:a=new _(e,t,n,r);break;case 1:a=new l(e,t,n,r)}else a=new o(e,t,n,r);return a.effectsSequence.length&&r.addDynamicProperty(a),_r_(a)}})}(),TransformPropertyFactory=function(){function n(e,t,i){if(_i_("269:400905bf"),this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var n,r=t.or.k.length;for(n=0;n<r;n+=1)t.or.k[n].to=t.or.k[n].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0),_r_()}return _i_("269:d6568884"),n.prototype={applyToMatrix:function(e){_i_("269:58c2b136");var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2]),_r_()},getValue:function(e){if(_i_("269:a64154a9"),this.elem.globalData.frameId===this.frameId)return _r_();if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||e){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var t,i,n=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),i=this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),i=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.01)/n,0)):(t=this.p.pv,i=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){t=[],i=[];var r=this.px,a=this.py;r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(t[0]=r.getValueAtTime((r.keyframes[0].t+.01)/n,0),t[1]=a.getValueAtTime((a.keyframes[0].t+.01)/n,0),i[0]=r.getValueAtTime(r.keyframes[0].t/n,0),i[1]=a.getValueAtTime(a.keyframes[0].t/n,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(t[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/n,0),t[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/n,0),i[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/n,0),i[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/n,0)):(t=[r.pv,a.pv],i[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/n,r.offsetTime),i[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/n,a.offsetTime))}this.v.rotate(-Math.atan2(t[1]-i[1],t[0]-i[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId,_r_()},precalculateMatrix:function(){if(_i_("269:c665d9d5"),this.a.k)return _r_();if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,this.s.effectsSequence.length)return _r_();if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return _r_();this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return _r_();this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4);_r_()},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],n),n.prototype.addDynamicProperty=function(e){_i_("269:eb59399b"),this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0,_r_()},n.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,_r_({getTransformProperty:function(e,t,i){return _i_("269:fa87ae9a"),_r_(new n(e,t,i))}})}();function ShapePath(){_i_("269:f28631c9"),this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength),_r_()}ShapePath.prototype.setPathData=function(e,t){_i_("269:2163736d"),this.c=e,this.setLength(t);for(var i=0;i<t;)this.v[i]=point_pool.newElement(),this.o[i]=point_pool.newElement(),this.i[i]=point_pool.newElement(),i+=1;_r_()},ShapePath.prototype.setLength=function(e){for(_i_("269:7e64065c");this._maxLength<e;)this.doubleArrayLength();this._length=e,_r_()},ShapePath.prototype.doubleArrayLength=function(){_i_("269:3b5562e1"),this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2,_r_()},ShapePath.prototype.setXYAt=function(e,t,i,n,r){var a;switch(_i_("269:7bac7fa0"),this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o}(!a[n]||a[n]&&!r)&&(a[n]=point_pool.newElement()),a[n][0]=e,a[n][1]=t,_r_()},ShapePath.prototype.setTripleAt=function(e,t,i,n,r,a,o,s){_i_("269:22d5df19"),this.setXYAt(e,t,"v",o,s),this.setXYAt(i,n,"o",o,s),this.setXYAt(r,a,"i",o,s),_r_()},ShapePath.prototype.reverse=function(){_i_("269:e13e7924");var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,i=this.o,n=this.i,r=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);var a,o=this._length-1,s=this._length;for(a=r;a<s;a+=1)e.setTripleAt(t[o][0],t[o][1],n[o][0],n[o][1],i[o][0],i[o][1],a,!1),o-=1;return _r_(e)};var ShapePropertyFactory=function(){_i_("269:0dffa1cd");var r=-999999;function e(e,t,i){_i_("269:fe6acb64");var n,r,a,o,s,_,l,c,h,d=i.lastIndex,f=this.keyframes;if(e<f[0].t-this.offsetTime)n=f[0].s[0],a=!0,d=0;else if(e>=f[f.length-1].t-this.offsetTime)n=f[f.length-1].s?f[f.length-1].s[0]:f[f.length-2].e[0],a=!0;else{for(var u,p,m=d,b=f.length-1,g=!0;g&&(u=f[m],!((p=f[m+1]).t-this.offsetTime>e));)m<b-1?m+=1:g=!1;if(d=m,!(a=1===u.h)){if(e>=p.t-this.offsetTime)c=1;else if(e<u.t-this.offsetTime)c=0;else{var v;u.__fnct?v=u.__fnct:(v=BezierFactory.getBezierEasing(u.o.x,u.o.y,u.i.x,u.i.y).get,u.__fnct=v),c=v((e-(u.t-this.offsetTime))/(p.t-this.offsetTime-(u.t-this.offsetTime)))}r=p.s?p.s[0]:u.e[0]}n=u.s[0]}for(_=t._length,l=n.i[0].length,i.lastIndex=d,o=0;o<_;o+=1)for(s=0;s<l;s+=1)h=a?n.i[o][s]:n.i[o][s]+(r.i[o][s]-n.i[o][s])*c,t.i[o][s]=h,h=a?n.o[o][s]:n.o[o][s]+(r.o[o][s]-n.o[o][s])*c,t.o[o][s]=h,h=a?n.v[o][s]:n.v[o][s]+(r.v[o][s]-n.v[o][s])*c,t.v[o][s]=h;_r_()}function a(){_i_("269:10d180d0"),this.paths=this.localShapeCollection,_r_()}function t(e){_i_("269:55a61f5c"),function(e,t){if(_i_("269:98c9ad04"),e._length!==t._length||e.c!==t.c)return _r_(!1);var i,n=e._length;for(i=0;i<n;i+=1)if(e.v[i][0]!==t.v[i][0]||e.v[i][1]!==t.v[i][1]||e.o[i][0]!==t.o[i][0]||e.o[i][1]!==t.o[i][1]||e.i[i][0]!==t.i[i][0]||e.i[i][1]!==t.i[i][1])return _r_(!1);return _r_(!0)}(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection),_r_()}function i(){if(_i_("269:38640f19"),this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)return _r_();if(this.lock)return this.setVValue(this.pv),_r_();this.lock=!0,this._mdf=!1;var e,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,i=this.effectsSequence.length;for(e=0;e<i;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId,_r_()}function o(e,t,i){_i_("269:ed515691"),this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===i?t.pt.k:t.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[],_r_()}function n(e){_i_("269:beb479401"),this.effectsSequence.push(e),this.container.addDynamicProperty(this),_r_()}function s(e,t,i){_i_("269:0ebd1a25"),this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===i?t.pt.k:t.ks.k,this.k=!0,this.kf=!0;var n=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=a,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[function(){_i_("269:523ea97c");var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==r&&(n<t&&e<t||i<n&&i<e)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,_r_(this.pv)}.bind(this)],_r_()}o.prototype.interpolateShape=e,o.prototype.getValue=i,o.prototype.setVValue=t,o.prototype.addEffect=n,s.prototype.getValue=i,s.prototype.interpolateShape=e,s.prototype.setVValue=t,s.prototype.addEffect=n;var _=function(){_i_("269:23b5969d");var o=roundCorner;function e(e,t){_i_("269:a1ef2157"),this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath()),_r_()}return e.prototype={reset:a,getValue:function(){if(_i_("269:f62b3e63"),this.elem.globalData.frameId===this.frameId)return _r_();this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath(),_r_()},convertEllToPath:function(){_i_("269:7f344f9c");var e=this.p.v[0],t=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=3!==this.d,a=this.v;a.v[0][0]=e,a.v[0][1]=t-n,a.v[1][0]=r?e+i:e-i,a.v[1][1]=t,a.v[2][0]=e,a.v[2][1]=t+n,a.v[3][0]=r?e-i:e+i,a.v[3][1]=t,a.i[0][0]=r?e-i*o:e+i*o,a.i[0][1]=t-n,a.i[1][0]=r?e+i:e-i,a.i[1][1]=t-n*o,a.i[2][0]=r?e+i*o:e-i*o,a.i[2][1]=t+n,a.i[3][0]=r?e-i:e+i,a.i[3][1]=t+n*o,a.o[0][0]=r?e+i*o:e-i*o,a.o[0][1]=t-n,a.o[1][0]=r?e+i:e-i,a.o[1][1]=t+n*o,a.o[2][0]=r?e-i*o:e+i*o,a.o[2][1]=t+n,a.o[3][0]=r?e-i:e+i,a.o[3][1]=t-n*o,_r_()}},extendPrototype([DynamicPropertyContainer],e),_r_(e)}(),l=function(){function e(e,t){_i_("269:6e934774"),this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath()),_r_()}return _i_("269:86e85ba3"),e.prototype={reset:a,getValue:function(){if(_i_("269:2f619b90"),this.elem.globalData.frameId===this.frameId)return _r_();this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath(),_r_()},convertStarToPath:function(){_i_("269:0fb09049");var e,t,i,n,r=2*Math.floor(this.pt.v),a=2*Math.PI/r,o=!0,s=this.or.v,_=this.ir.v,l=this.os.v,c=this.is.v,h=2*Math.PI*s/(2*r),d=2*Math.PI*_/(2*r),f=-Math.PI/2;f+=this.r.v;var u=3===this.data.d?-1:1;for(e=this.v._length=0;e<r;e+=1){i=o?l:c,n=o?h:d;var p=(t=o?s:_)*Math.cos(f),m=t*Math.sin(f),b=0===p&&0===m?0:m/Math.sqrt(p*p+m*m),g=0===p&&0===m?0:-p/Math.sqrt(p*p+m*m);p+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(p,m,p-b*n*i*u,m-g*n*i*u,p+b*n*i*u,m+g*n*i*u,e,!0),o=!o,f+=a*u}_r_()},convertPolygonToPath:function(){_i_("269:46d3a6ae");var e,t=Math.floor(this.pt.v),i=2*Math.PI/t,n=this.or.v,r=this.os.v,a=2*Math.PI*n/(4*t),o=-Math.PI/2,s=3===this.data.d?-1:1;for(o+=this.r.v,e=this.v._length=0;e<t;e+=1){var _=n*Math.cos(o),l=n*Math.sin(o),c=0===_&&0===l?0:l/Math.sqrt(_*_+l*l),h=0===_&&0===l?0:-_/Math.sqrt(_*_+l*l);_+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(_,l,_-c*a*r*s,l-h*a*r*s,_+c*a*r*s,l+h*a*r*s,e,!0),o+=i*s}this.paths.length=0,this.paths[0]=this.v,_r_()}},extendPrototype([DynamicPropertyContainer],e),_r_(e)}(),c=function(){function e(e,t){_i_("269:c85a7b46"),this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath()),_r_()}return _i_("269:3e4ddcaa"),e.prototype={convertRectToPath:function(){_i_("269:b1a3e7d6");var e=this.p.v[0],t=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bm_min(i,n,this.r.v),a=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+r,e+i,t-n+a,0,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-a,e+i,t+n-r,1,!0),0!==r?(this.v.setTripleAt(e+i-r,t+n,e+i-r,t+n,e+i-a,t+n,2,!0),this.v.setTripleAt(e-i+r,t+n,e-i+a,t+n,e-i+r,t+n,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-r,e-i,t+n-a,4,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+a,e-i,t-n+r,5,!0),this.v.setTripleAt(e-i+r,t-n,e-i+r,t-n,e-i+a,t-n,6,!0),this.v.setTripleAt(e+i-r,t-n,e+i-a,t-n,e+i-r,t-n,7,!0)):(this.v.setTripleAt(e-i,t+n,e-i+a,t+n,e-i,t+n,2),this.v.setTripleAt(e-i,t-n,e-i,t-n+a,e-i,t-n,3))):(this.v.setTripleAt(e+i,t-n+r,e+i,t-n+a,e+i,t-n+r,0,!0),0!==r?(this.v.setTripleAt(e+i-r,t-n,e+i-r,t-n,e+i-a,t-n,1,!0),this.v.setTripleAt(e-i+r,t-n,e-i+a,t-n,e-i+r,t-n,2,!0),this.v.setTripleAt(e-i,t-n+r,e-i,t-n+r,e-i,t-n+a,3,!0),this.v.setTripleAt(e-i,t+n-r,e-i,t+n-a,e-i,t+n-r,4,!0),this.v.setTripleAt(e-i+r,t+n,e-i+r,t+n,e-i+a,t+n,5,!0),this.v.setTripleAt(e+i-r,t+n,e+i-a,t+n,e+i-r,t+n,6,!0),this.v.setTripleAt(e+i,t+n-r,e+i,t+n-r,e+i,t+n-a,7,!0)):(this.v.setTripleAt(e-i,t-n,e-i+a,t-n,e-i,t-n,1,!0),this.v.setTripleAt(e-i,t+n,e-i,t+n-a,e-i,t+n,2,!0),this.v.setTripleAt(e+i,t+n,e+i-a,t+n,e+i,t+n,3,!0))),_r_()},getValue:function(e){if(_i_("269:cb261e30"),this.elem.globalData.frameId===this.frameId)return _r_();this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath(),_r_()},reset:a},extendPrototype([DynamicPropertyContainer],e),_r_(e)}();var h={getShapeProp:function(e,t,i){var n;return _i_("269:5dc8258f"),3===i||4===i?n=(3===i?t.pt:t.ks).k.length?new s(e,t,i):new o(e,t,i):5===i?n=new c(e,t):6===i?n=new _(e,t):7===i&&(n=new l(e,t)),n.k&&e.addDynamicProperty(n),_r_(n)},getConstructorFunction:function(){return _i_("269:7ba545ce"),_r_(o)},getKeyframedConstructorFunction:function(){return _i_("269:44208aa2"),_r_(s)}};return _r_(h)}(),ShapeModifiers=function(){_i_("269:3356db46");var e={},n={};return e.registerModifier=function(e,t){_i_("269:2e852d42"),n[e]||(n[e]=t);_r_()},e.getModifier=function(e,t,i){return _i_("269:0fcb6416"),_r_(new n[e](t,i))},_r_(e)}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){_i_("269:9c06499e"),this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength),_r_()}function DashProperty(e,t,i,n){_i_("269:8ea58f6d"),this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);var r,a,o=t.length||0;for(r=0;r<o;r+=1)a=PropertyFactory.getProp(e,t[r].v,0,0,this),this.k=a.k||this.k,this.dataProps[r]={n:t[r].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k,_r_()}function GradientProperty(e,t,i){_i_("269:4bd8d144"),this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0),_r_()}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(_i_("269:95abdd76"),!this.closed){var t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}_r_()},ShapeModifier.prototype.init=function(e,t){_i_("269:6504cc97"),this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0),_r_()},ShapeModifier.prototype.processKeys=function(){if(_i_("269:1be97bfd"),this.elem.globalData.frameId===this.frameId)return _r_();this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),_r_()},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){_i_("269:2131473e"),this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length,_r_()},TrimModifier.prototype.addShapeToModifier=function(e){_i_("269:25ddfa92"),e.pathsData=[],_r_()},TrimModifier.prototype.calculateShapeEdges=function(e,t,i,n,r){_i_("269:7f7b77ab");var a=[];t<=1?a.push({s:e,e:t}):1<=e?a.push({s:e-1,e:t-1}):(a.push({s:e,e:1}),a.push({s:0,e:t-1}));var o,s,_=[],l=a.length;for(o=0;o<l;o+=1){var c,h;if((s=a[o]).e*r<n||s.s*r>n+i);else c=s.s*r<=n?0:(s.s*r-n)/i,h=s.e*r>=n+i?1:(s.e*r-n)/i,_.push([c,h])}return _.length||_.push([0,0]),_r_(_)},TrimModifier.prototype.releasePathsData=function(e){_i_("269:c1441f57");var t,i=e.length;for(t=0;t<i;t+=1)segments_length_pool.release(e[t]);return e.length=0,_r_(e)},TrimModifier.prototype.processShapes=function(e){var t,i,n;if(_i_("269:5d1bc2d7"),this._mdf||e){var r=this.o.v%360/360;if(r<0&&(r+=1),t=(1<this.s.v?1:this.s.v<0?0:this.s.v)+r,(i=(1<this.e.v?1:this.e.v<0?0:this.e.v)+r)<t){var a=t;t=i,i=a}t=1e-4*Math.round(1e4*t),i=1e-4*Math.round(1e4*i),this.sValue=t,this.eValue=i}else t=this.sValue,i=this.eValue;var o,s,_,l,c,h,d=this.shapes.length,f=0;if(i===t)for(o=0;o<d;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection;else if(1===i&&0===t||0===i&&1===t){if(this._mdf)for(o=0;o<d;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var u,p,m=[];for(o=0;o<d;o+=1)if((u=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(_=(n=u.shape.paths)._length,h=0,!u.shape._mdf&&u.pathsData.length)h=u.totalShapeLength;else{for(l=this.releasePathsData(u.pathsData),s=0;s<_;s+=1)c=bez.getSegmentsLength(n.shapes[s]),l.push(c),h+=c.totalLength;u.totalShapeLength=h,u.pathsData=l}f+=h,u.shape._mdf=!0}else u.shape.paths=u.localShapeCollection;var b,g=t,v=i,y=0;for(o=d-1;0<=o;o-=1)if((u=this.shapes[o]).shape._mdf){for((p=u.localShapeCollection).releaseShapes(),2===this.m&&1<d?(b=this.calculateShapeEdges(t,i,u.totalShapeLength,y,f),y+=u.totalShapeLength):b=[[g,v]],_=b.length,s=0;s<_;s+=1){g=b[s][0],v=b[s][1],m.length=0,v<=1?m.push({s:u.totalShapeLength*g,e:u.totalShapeLength*v}):1<=g?m.push({s:u.totalShapeLength*(g-1),e:u.totalShapeLength*(v-1)}):(m.push({s:u.totalShapeLength*g,e:u.totalShapeLength}),m.push({s:0,e:u.totalShapeLength*(v-1)}));var M=this.addShapes(u,m[0]);if(m[0].s!==m[0].e){if(1<m.length)if(u.shape.paths.shapes[u.shape.paths._length-1].c){var w=M.pop();this.addPaths(M,p),M=this.addShapes(u,m[1],w)}else this.addPaths(M,p),M=this.addShapes(u,m[1]);this.addPaths(M,p)}}u.shape.paths=p}}_r_()},TrimModifier.prototype.addPaths=function(e,t){_i_("269:9aea770c");var i,n=e.length;for(i=0;i<n;i+=1)t.addShape(e[i]);_r_()},TrimModifier.prototype.addSegment=function(e,t,i,n,r,a,o){_i_("269:2f776d25"),r.setXYAt(t[0],t[1],"o",a),r.setXYAt(i[0],i[1],"i",a+1),o&&r.setXYAt(e[0],e[1],"v",a),r.setXYAt(n[0],n[1],"v",a+1),_r_()},TrimModifier.prototype.addSegmentFromArray=function(e,t,i,n){_i_("269:2b7ea061"),t.setXYAt(e[1],e[5],"o",i),t.setXYAt(e[2],e[6],"i",i+1),n&&t.setXYAt(e[0],e[4],"v",i),t.setXYAt(e[3],e[7],"v",i+1),_r_()},TrimModifier.prototype.addShapes=function(e,t,i){_i_("269:2fab1a37");var n,r,a,o,s,_,l,c,h=e.pathsData,d=e.shape.paths.shapes,f=e.shape.paths._length,u=0,p=[],m=!0;for(i?(s=i._length,c=i._length):(i=shape_pool.newElement(),c=s=0),p.push(i),n=0;n<f;n+=1){for(_=h[n].lengths,i.c=d[n].c,a=d[n].c?_.length:_.length+1,r=1;r<a;r+=1)if(u+(o=_[r-1]).addedLength<t.s)u+=o.addedLength,i.c=!1;else{if(u>t.e){i.c=!1;break}t.s<=u&&t.e>=u+o.addedLength?(this.addSegment(d[n].v[r-1],d[n].o[r-1],d[n].i[r],d[n].v[r],i,s,m),m=!1):(l=bez.getNewSegment(d[n].v[r-1],d[n].v[r],d[n].o[r-1],d[n].i[r],(t.s-u)/o.addedLength,(t.e-u)/o.addedLength,_[r-1]),this.addSegmentFromArray(l,i,s,m),m=!1,i.c=!1),u+=o.addedLength,s+=1}if(d[n].c&&_.length){if(o=_[r-1],u<=t.e){var b=_[r-1].addedLength;t.s<=u&&t.e>=u+b?(this.addSegment(d[n].v[r-1],d[n].o[r-1],d[n].i[0],d[n].v[0],i,s,m),m=!1):(l=bez.getNewSegment(d[n].v[r-1],d[n].v[0],d[n].o[r-1],d[n].i[0],(t.s-u)/b,(t.e-u)/b,_[r-1]),this.addSegmentFromArray(l,i,s,m),m=!1,i.c=!1)}else i.c=!1;u+=o.addedLength,s+=1}if(i._length&&(i.setXYAt(i.v[c][0],i.v[c][1],"i",c),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),u>t.e)break;n<f-1&&(i=shape_pool.newElement(),m=!0,p.push(i),s=0)}return _r_(p)},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){_i_("269:3c540f25"),this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length,_r_()},RoundCornersModifier.prototype.processPath=function(e,t){_i_("269:5d62faec");var i=shape_pool.newElement();i.c=e.c;var n,r,a,o,s,_,l,c,h,d,f,u,p,m=e._length,b=0;for(n=0;n<m;n+=1)r=e.v[n],o=e.o[n],a=e.i[n],r[0]===o[0]&&r[1]===o[1]&&r[0]===a[0]&&r[1]===a[1]?0!==n&&n!==m-1||e.c?(s=0===n?e.v[m-1]:e.v[n-1],l=(_=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(_/2,t)/_:0,c=u=r[0]+(s[0]-r[0])*l,h=p=r[1]-(r[1]-s[1])*l,d=c-(c-r[0])*roundCorner,f=h-(h-r[1])*roundCorner,i.setTripleAt(c,h,d,f,u,p,b),b+=1,s=n===m-1?e.v[0]:e.v[n+1],l=(_=Math.sqrt(Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2)))?Math.min(_/2,t)/_:0,c=d=r[0]+(s[0]-r[0])*l,h=f=r[1]+(s[1]-r[1])*l,u=c-(c-r[0])*roundCorner,p=h-(h-r[1])*roundCorner,i.setTripleAt(c,h,d,f,u,p,b)):i.setTripleAt(r[0],r[1],o[0],o[1],a[0],a[1],b):i.setTripleAt(e.v[n][0],e.v[n][1],e.o[n][0],e.o[n][1],e.i[n][0],e.i[n][1],b),b+=1;return _r_(i)},RoundCornersModifier.prototype.processShapes=function(e){var t;_i_("269:938fddbe");var i,n,r,a,o,s=this.shapes.length,_=this.rd.v;if(0!==_)for(i=0;i<s;i+=1){if((a=this.shapes[i]).shape.paths,o=a.localShapeCollection,a.shape._mdf||this._mdf||e)for(o.releaseShapes(),a.shape._mdf=!0,t=a.shape.paths.shapes,r=a.shape.paths._length,n=0;n<r;n+=1)o.addShape(this.processPath(t[n],_));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1),_r_()},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){_i_("269:b7dc83cf"),this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix,_r_()},RepeaterModifier.prototype.applyTransforms=function(e,t,i,n,r,a){_i_("269:f19f44bf");var o=a?-1:1,s=n.s.v[0]+(1-n.s.v[0])*(1-r),_=n.s.v[1]+(1-n.s.v[1])*(1-r);e.translate(n.p.v[0]*o*r,n.p.v[1]*o*r,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*o*r),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(a?1/s:s,a?1/_:_),i.translate(n.a.v[0],n.a.v[1],n.a.v[2]),_r_()},RepeaterModifier.prototype.init=function(e,t,i,n){_i_("269:dbf9540d"),this.elem=e,this.arr=t,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[i]);for(;0<i;)i-=1,this._elements.unshift(t[i]),1;this.dynamicProperties.length?this.k=!0:this.getValue(!0),_r_()},RepeaterModifier.prototype.resetElements=function(e){_i_("269:3a87e0a0");var t,i=e.length;for(t=0;t<i;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it);_r_()},RepeaterModifier.prototype.cloneElements=function(e){_i_("269:fda44a28");e.length;var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),_r_(t)},RepeaterModifier.prototype.changeGroupRender=function(e,t){_i_("269:ccf1b376");var i,n=e.length;for(i=0;i<n;i+=1)e[i]._render=t,"gr"===e[i].ty&&this.changeGroupRender(e[i].it,t);_r_()},RepeaterModifier.prototype.processShapes=function(e){var t,i,n,r,a;if(_i_("269:59a8008e"),this._mdf||e){var o,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var _={it:this.cloneElements(this._elements),ty:"gr"};_.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,_),this._groups.splice(0,0,_),this._currentCopies+=1}this.elem.reloadShapes()}for(n=a=0;n<=this._groups.length-1;n+=1)o=a<s,this._groups[n]._render=o,this.changeGroupRender(this._groups[n].it,o),a+=1;this._currentCopies=s;var l=this.o.v,c=l%1,h=0<l?Math.floor(l):Math.ceil(l),d=(this.tr.v.props,this.pMatrix.props),f=this.rMatrix.props,u=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var p,m,b=0;if(0<l){for(;b<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),b+=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,c,!1),b+=c)}else if(l<0){for(;h<b;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),b-=1;c&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-c,!0),b-=c)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,a=this._currentCopies;a;){if(m=(i=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==b){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),p=0;p<m;p+=1)i[p]=this.matrix.props[p];this.matrix.reset()}else for(this.matrix.reset(),p=0;p<m;p+=1)i[p]=this.matrix.props[p];b+=1,a-=1,n+=r}}else for(a=this._currentCopies,n=0,r=1;a;)i=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,a-=1,n+=r;_r_()},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){_i_("269:db6d2cfe"),this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1,_r_()},ShapeCollection.prototype.releaseShapes=function(){var e;for(_i_("269:c932b4cd"),e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0,_r_()},DashProperty.prototype.getValue=function(e){if(_i_("269:eafba908"),this.elem.globalData.frameId===this.frameId&&!e)return _r_();if(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf){var t=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<i;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}_r_()},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){_i_("269:30881e8b");for(var i=0,n=this.o.length/2;i<n;){if(.01<Math.abs(e[4*i]-e[4*t+2*i]))return _r_(!1);i+=1}return _r_(!0)},GradientProperty.prototype.checkCollapsable=function(){if(_i_("269:669d2667"),this.o.length/2!=this.c.length/4)return _r_(!1);if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return _r_(!1);e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return _r_(!1);return _r_(!0)},GradientProperty.prototype.getValue=function(e){if(_i_("269:24817e96"),this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,i,n,r=4*this.data.p;for(t=0;t<r;t+=1)i=t%4==0?100:255,n=Math.round(this.prop.v[t]*i),this.c[t]!==n&&(this.c[t]=n,this._cmdf=!e);if(this.o.length)for(r=this.prop.v.length,t=4*this.data.p;t<r;t+=1)i=t%2==0?100:1,n=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==n&&(this.o[t-4*this.data.p]=n,this._omdf=!e);this._mdf=!e}_r_()},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,i,n){if(_i_("269:5a4efd0f"),0===t)return _r_("");var r,a=e.o,o=e.i,s=e.v,_=" M"+n.applyToPointStringified(s[0][0],s[0][1]);for(r=1;r<t;r+=1)_+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[r][0],o[r][1])+" "+n.applyToPointStringified(s[r][0],s[r][1]);return i&&t&&(_+=" C"+n.applyToPointStringified(a[r-1][0],a[r-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),_+="z"),_r_(_)},ImagePreloader=function(){_i_("269:0ca699db");var r=function(){_i_("269:f5a7c52e");var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="#FF0000",t.fillRect(0,0,1,1),_r_(e)}();function e(){_i_("269:7165e699"),this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null),_r_()}function t(e){_i_("269:9b09cf42");var t=function(e,t,i){_i_("269:48b6f114");var n="";if(e.e)n=e.p;else if(t){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),n=t+r}else n=i,n+=e.u?e.u:"",n+=e.p;return _r_(n)}(e,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded.bind(this),!1),i.addEventListener("error",function(){_i_("269:f28b0016"),n.img=r,this._imageLoaded(),_r_()}.bind(this),!1),i.src=t;var n={img:i,assetData:e};return _r_(n)}function i(e,t){_i_("269:36d85690"),this.imagesLoadedCb=t;var i,n=e.length;for(i=0;i<n;i+=1)e[i].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[i])));_r_()}function n(e){_i_("269:15dc7874"),this.path=e||"",_r_()}function a(e){_i_("269:2feb7fad"),this.assetsPath=e||"",_r_()}function o(e){_i_("269:ae14d54f");for(var t=0,i=this.images.length;t<i;){if(this.images[t].assetData===e)return _r_(this.images[t].img);t+=1}_r_()}function s(){_i_("269:706751f2"),this.imagesLoadedCb=null,this.images.length=0,_r_()}function _(){return _i_("269:4a1ec401"),_r_(this.totalImages===this.loadedAssets)}return _r_(function(){_i_("269:63026117"),this.loadAssets=i,this.setAssetsPath=a,this.setPath=n,this.loaded=_,this.destroy=s,this.getImage=o,this._createImageData=t,this._imageLoaded=e,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[],_r_()})}(),featureSupport=function(){_i_("269:dccb4eac");var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),_r_(e)}(),filtersFactory=function(){_i_("269:4696dc20");var e={};return e.createFilter=function(e){_i_("269:a815e29b");var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),_r_(t)},e.createAlphaToLuminanceFilter=function(){_i_("269:732316a0");var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_r_(e)},_r_(e)}(),assetLoader=function(){function a(e){if(_i_("269:fdd0e343"),e.response&&"object"==typeof e.response)return _r_(e.response);if(e.response&&"string"==typeof e.response)return _r_(JSON.parse(e.response));if(e.responseText)return _r_(JSON.parse(e.responseText));_r_()}return _i_("269:c0ea74b5"),_r_({load:function(e,t,i){var n;_i_("269:a375ae0c");var r=new XMLHttpRequest;r.open("GET",e,!0);try{r.responseType="json"}catch(e){}r.send(),r.onreadystatechange=function(){if(_i_("269:3b15fd2f"),4==r.readyState)if(200==r.status)n=a(r),t(n);else try{n=a(r),t(n)}catch(e){i&&i(e)}_r_()},_r_()}})}();function TextAnimatorProperty(e,t,i){_i_("269:30e77a2b"),this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i),_r_()}function TextAnimatorDataProperty(e,t,i){_i_("269:3cd374a6");var n={propType:!1},r=PropertyFactory.getProp,a=t.a;this.a={r:a.r?r(e,a.r,0,degToRads,i):n,rx:a.rx?r(e,a.rx,0,degToRads,i):n,ry:a.ry?r(e,a.ry,0,degToRads,i):n,sk:a.sk?r(e,a.sk,0,degToRads,i):n,sa:a.sa?r(e,a.sa,0,degToRads,i):n,s:a.s?r(e,a.s,1,.01,i):n,a:a.a?r(e,a.a,1,0,i):n,o:a.o?r(e,a.o,0,.01,i):n,p:a.p?r(e,a.p,1,0,i):n,sw:a.sw?r(e,a.sw,0,0,i):n,sc:a.sc?r(e,a.sc,1,0,i):n,fc:a.fc?r(e,a.fc,1,0,i):n,fh:a.fh?r(e,a.fh,0,0,i):n,fs:a.fs?r(e,a.fs,0,.01,i):n,fb:a.fb?r(e,a.fb,0,.01,i):n,t:a.t?r(e,a.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,i),this.s.t=t.s.t,_r_()}function LetterProps(e,t,i,n,r,a){_i_("269:ce2f03bc"),this.o=e,this.sw=t,this.sc=i,this.fc=n,this.m=r,this.p=a,this._mdf={o:!0,sw:!!t,sc:!!i,fc:!!n,m:!0,p:!0},_r_()}function TextProperty(e,t){_i_("269:f17a987b"),this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData),_r_()}TextAnimatorProperty.prototype.searchProperties=function(){_i_("269:c12cc153");var e,t,i=this._textData.a.length,n=PropertyFactory.getProp;for(e=0;e<i;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:n(this._elem,this._textData.p.f,0,0,this),l:n(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=n(this._elem,this._textData.m.a,1,0,this),_r_()},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(_i_("269:24fb3c79"),this.lettersChangedFlag=t,!(this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf))return _r_();this._isFirstFrame=!1;var i,n,r,a,o,s,_,l,c,h,d,f,u,p,m,b,g,v,y,M=this._moreOptions.alignment.v,w=this._animatorsData,k=this._textData,B=this.mHelper,E=this._renderType,C=this.renderedLetters.length,S=(this.data,e.l);if(this._hasMaskedPath){if(y=this._pathData.m,!this._pathData.n||this._pathData._mdf){var x,T=y.v;for(this._pathData.r&&(T=T.reverse()),o={tLength:0,segments:[]},a=T._length-1,r=b=0;r<a;r+=1)x=bez.buildBezierData(T.v[r],T.v[r+1],[T.o[r][0]-T.v[r][0],T.o[r][1]-T.v[r][1]],[T.i[r+1][0]-T.v[r+1][0],T.i[r+1][1]-T.v[r+1][1]]),o.tLength+=x.segmentLength,o.segments.push(x),b+=x.segmentLength;r=a,y.v.c&&(x=bez.buildBezierData(T.v[r],T.v[0],[T.o[r][0]-T.v[r][0],T.o[r][1]-T.v[r][1]],[T.i[0][0]-T.v[0][0],T.i[0][1]-T.v[0][1]]),o.tLength+=x.segmentLength,o.segments.push(x),b+=x.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,s=this._pathData.f.v,h=1,c=!(l=d=0),p=o.segments,s<0&&y.v.c)for(o.tLength<Math.abs(s)&&(s=-Math.abs(s)%o.tLength),h=(u=p[d=p.length-1].points).length-1;s<0;)s+=u[h].partialLength,(h-=1)<0&&(h=(u=p[d-=1].points).length-1);f=(u=p[d].points)[h-1],m=(_=u[h]).partialLength}a=S.length,n=i=0;var N,I,A,P,O=1.2*e.finalSize*.714,D=!0;A=w.length;var j,L,F,R,$,G,V,H,J,q,U,W,z,Y=-1,K=s,X=d,Z=h,Q=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ie=0,ne=0,re=2===e.j?-.5:-1,ae=0,oe=!0;for(r=0;r<a;r+=1)if(S[r].n){for(ie&&(ie+=ne);ae<r;)S[ae].animatorJustifyOffset=ie,ae+=1;oe=!(ie=0)}else{for(I=0;I<A;I+=1)(N=w[I].a).t.propType&&(oe&&2===e.j&&(ne+=N.t.v*re),(j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars)).length?ie+=N.t.v*j[0]*re:ie+=N.t.v*j*re);oe=!1}for(ie&&(ie+=ne);ae<r;)S[ae].animatorJustifyOffset=ie,ae+=1}for(r=0;r<a;r+=1){if(B.reset(),$=1,S[r].n)i=0,n+=e.yOffset,n+=D?1:0,s=K,D=!1,0,this._hasMaskedPath&&(h=Z,f=(u=p[d=X].points)[h-1],m=(_=u[h]).partialLength,l=0),z=q=W=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Q!==S[r].line){switch(e.j){case 1:s+=b-e.lineWidths[S[r].line];break;case 2:s+=(b-e.lineWidths[S[r].line])/2}Q=S[r].line}Y!==S[r].ind&&(S[Y]&&(s+=S[Y].extra),s+=S[r].an/2,Y=S[r].ind),s+=M[0]*S[r].an/200;var se=0;for(I=0;I<A;I+=1)(N=w[I].a).p.propType&&((j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars)).length?se+=N.p.v[0]*j[0]:se+=N.p.v[0]*j),N.a.propType&&((j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars)).length?se+=N.a.v[0]*j[0]:se+=N.a.v[0]*j);for(c=!0;c;)s+se<=l+m||!u?(g=(s+se-l)/_.partialLength,F=f.point[0]+(_.point[0]-f.point[0])*g,R=f.point[1]+(_.point[1]-f.point[1])*g,B.translate(-M[0]*S[r].an/200,-M[1]*O/100),c=!1):u&&(l+=_.partialLength,(h+=1)>=u.length&&(h=0,p[d+=1]?u=p[d].points:y.v.c?u=p[d=h=0].points:(l-=_.partialLength,u=null)),u&&(f=_,m=(_=u[h]).partialLength));L=S[r].an/2-S[r].add,B.translate(-L,0,0)}else L=S[r].an/2-S[r].add,B.translate(-L,0,0),B.translate(-M[0]*S[r].an/200,-M[1]*O/100,0);for(S[r].l/2,I=0;I<A;I+=1)(N=w[I].a).t.propType&&(j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars),0===i&&0===e.j||(this._hasMaskedPath?j.length?s+=N.t.v*j[0]:s+=N.t.v*j:j.length?i+=N.t.v*j[0]:i+=N.t.v*j));for(S[r].l/2,e.strokeWidthAnim&&(V=e.sw||0),e.strokeColorAnim&&(G=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(H=[e.fc[0],e.fc[1],e.fc[2]]),I=0;I<A;I+=1)(N=w[I].a).a.propType&&((j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars)).length?B.translate(-N.a.v[0]*j[0],-N.a.v[1]*j[1],N.a.v[2]*j[2]):B.translate(-N.a.v[0]*j,-N.a.v[1]*j,N.a.v[2]*j));for(I=0;I<A;I+=1)(N=w[I].a).s.propType&&((j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars)).length?B.scale(1+(N.s.v[0]-1)*j[0],1+(N.s.v[1]-1)*j[1],1):B.scale(1+(N.s.v[0]-1)*j,1+(N.s.v[1]-1)*j,1));for(I=0;I<A;I+=1){if(N=w[I].a,j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars),N.sk.propType&&(j.length?B.skewFromAxis(-N.sk.v*j[0],N.sa.v*j[1]):B.skewFromAxis(-N.sk.v*j,N.sa.v*j)),N.r.propType&&(j.length?B.rotateZ(-N.r.v*j[2]):B.rotateZ(-N.r.v*j)),N.ry.propType&&(j.length?B.rotateY(N.ry.v*j[1]):B.rotateY(N.ry.v*j)),N.rx.propType&&(j.length?B.rotateX(N.rx.v*j[0]):B.rotateX(N.rx.v*j)),N.o.propType&&(j.length?$+=(N.o.v*j[0]-$)*j[0]:$+=(N.o.v*j-$)*j),e.strokeWidthAnim&&N.sw.propType&&(j.length?V+=N.sw.v*j[0]:V+=N.sw.v*j),e.strokeColorAnim&&N.sc.propType)for(J=0;J<3;J+=1)j.length?G[J]=G[J]+(N.sc.v[J]-G[J])*j[0]:G[J]=G[J]+(N.sc.v[J]-G[J])*j;if(e.fillColorAnim&&e.fc){if(N.fc.propType)for(J=0;J<3;J+=1)j.length?H[J]=H[J]+(N.fc.v[J]-H[J])*j[0]:H[J]=H[J]+(N.fc.v[J]-H[J])*j;N.fh.propType&&(H=j.length?addHueToRGB(H,N.fh.v*j[0]):addHueToRGB(H,N.fh.v*j)),N.fs.propType&&(H=j.length?addSaturationToRGB(H,N.fs.v*j[0]):addSaturationToRGB(H,N.fs.v*j)),N.fb.propType&&(H=j.length?addBrightnessToRGB(H,N.fb.v*j[0]):addBrightnessToRGB(H,N.fb.v*j))}}for(I=0;I<A;I+=1)(N=w[I].a).p.propType&&(j=w[I].s.getMult(S[r].anIndexes[I],k.a[I].s.totalChars),this._hasMaskedPath?j.length?B.translate(0,N.p.v[1]*j[0],-N.p.v[2]*j[1]):B.translate(0,N.p.v[1]*j,-N.p.v[2]*j):j.length?B.translate(N.p.v[0]*j[0],N.p.v[1]*j[1],-N.p.v[2]*j[2]):B.translate(N.p.v[0]*j,N.p.v[1]*j,-N.p.v[2]*j));if(e.strokeWidthAnim&&(q=V<0?0:V),e.strokeColorAnim&&(U="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),e.fillColorAnim&&e.fc&&(W="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(B.translate(0,-e.ls),B.translate(0,M[1]*O/100+n,0),k.p.p){v=(_.point[1]-f.point[1])/(_.point[0]-f.point[0]);var _e=180*Math.atan(v)/Math.PI;_.point[0]<f.point[0]&&(_e+=180),B.rotate(-_e*Math.PI/180)}B.translate(F,R,0),s-=M[0]*S[r].an/200,S[r+1]&&Y!==S[r+1].ind&&(s+=S[r].an/2,s+=e.tr/1e3*e.finalSize)}else{switch(B.translate(i,n,0),e.ps&&B.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:B.translate(S[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[r].line]),0,0);break;case 2:B.translate(S[r].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[r].line])/2,0,0)}B.translate(0,-e.ls),B.translate(L,0,0),B.translate(M[0]*S[r].an/200,M[1]*O/100,0),i+=S[r].l+e.tr/1e3*e.finalSize}"html"===E?ee=B.toCSS():"svg"===E?ee=B.to2dCSS():te=[B.props[0],B.props[1],B.props[2],B.props[3],B.props[4],B.props[5],B.props[6],B.props[7],B.props[8],B.props[9],B.props[10],B.props[11],B.props[12],B.props[13],B.props[14],B.props[15]],z=$}C<=r?(P=new LetterProps(z,q,U,W,ee,te),this.renderedLetters.push(P),C+=1,this.lettersChangedFlag=!0):(P=this.renderedLetters[r],this.lettersChangedFlag=P.update(z,q,U,W,ee,te)||this.lettersChangedFlag)}_r_()},TextAnimatorProperty.prototype.getValue=function(){if(_i_("269:5be403f9"),this._elem.globalData.frameId===this._frameId)return _r_();this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties(),_r_()},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,i,n,r,a){_i_("269:8bf0e23a"),this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var o=this._mdf.p=!1;return this.o!==e&&(this.o=e,o=this._mdf.o=!0),this.sw!==t&&(this.sw=t,o=this._mdf.sw=!0),this.sc!==i&&(this.sc=i,o=this._mdf.sc=!0),this.fc!==n&&(this.fc=n,o=this._mdf.fc=!0),this.m!==r&&(this.m=r,o=this._mdf.m=!0),!a.length||this.p[0]===a[0]&&this.p[1]===a[1]&&this.p[4]===a[4]&&this.p[5]===a[5]&&this.p[12]===a[12]&&this.p[13]===a[13]||(this.p=a,o=this._mdf.p=!0),_r_(o)},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var i in _i_("269:dae0f6b3"),t)t.hasOwnProperty(i)&&(e[i]=t[i]);return _r_(e)},TextProperty.prototype.setCurrentData=function(e){_i_("269:71aed41f"),e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0,_r_()},TextProperty.prototype.searchProperty=function(){return _i_("269:53e51ef0"),_r_(this.searchKeyframes())},TextProperty.prototype.searchKeyframes=function(){return _i_("269:913e073f"),this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),_r_(this.kf)},TextProperty.prototype.addEffect=function(e){_i_("269:7a04ed9d"),this.effectsSequence.push(e),this.elem.addDynamicProperty(this),_r_()},TextProperty.prototype.getValue=function(e){if(_i_("269:ab4a3d15"),!(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e))return _r_();this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,i=this.keysIndex;if(this.lock)return this.setCurrentData(this.currentData),_r_();this.lock=!0,this._mdf=!1;var n,r=this.effectsSequence.length,a=e||this.data.d.k[this.keysIndex].s;for(n=0;n<r;n+=1)a=i!==this.keysIndex?this.effectsSequence[n](a,a.t):this.effectsSequence[n](this.currentData,a.t);t!==a&&this.setCurrentData(a),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId,_r_()},TextProperty.prototype.getKeyframeValue=function(){_i_("269:942c5965");for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,i=0,n=e.length;i<=n-1&&(e[i].s,!(i===n-1||e[i+1].t>t));)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),_r_(this.data.d.k[this.keysIndex].s)},TextProperty.prototype.buildFinalText=function(e){_i_("269:87f4454f");for(var t=FontManager.getCombinedCharacterCodes(),i=[],n=0,r=e.length;n<r;)-1!==t.indexOf(e.charCodeAt(n))?i[i.length-1]+=e.charAt(n):i.push(e.charAt(n)),n+=1;return _r_(i)},TextProperty.prototype.completeTextData=function(e){_i_("269:5ab823a8"),e.__complete=!0;var t,i,n,r,a,o,s,_=this.elem.globalData.fontManager,l=this.data,c=[],h=0,d=l.m.g,f=0,u=0,p=0,m=[],b=0,g=0,v=_.getFontByName(e.f),y=0,M=v.fStyle?v.fStyle.split(" "):[],w="normal",k="normal";for(i=M.length,t=0;t<i;t+=1)switch(M[t].toLowerCase()){case"italic":k="italic";break;case"bold":w="700";break;case"black":w="900";break;case"medium":w="500";break;case"regular":case"normal":w="400";break;case"light":case"thin":w="200"}e.fWeight=v.fWeight||w,e.fStyle=k,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),i=e.finalText.length,e.finalLineHeight=e.lh;var B,E=e.tr/1e3*e.finalSize;if(e.sz)for(var C,S,x=!0,T=e.sz[0],N=e.sz[1];x;){b=C=0,i=(S=this.buildFinalText(e.t)).length,E=e.tr/1e3*e.finalSize;var I=-1;for(t=0;t<i;t+=1)B=S[t].charCodeAt(0),n=!1," "===S[t]?I=t:13!==B&&3!==B||(n=!(b=0),C+=e.finalLineHeight||1.2*e.finalSize),_.chars?(s=_.getCharData(S[t],v.fStyle,v.fFamily),y=n?0:s.w*e.finalSize/100):y=_.measureText(S[t],e.f,e.finalSize),T<b+y&&" "!==S[t]?(-1===I?i+=1:t=I,C+=e.finalLineHeight||1.2*e.finalSize,S.splice(t,I===t?1:0,"\r"),I=-1,b=0):(b+=y,b+=E);C+=v.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&N<C?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=S,i=e.finalText.length,x=!1)}b=-E;var A,P=y=0;for(t=0;t<i;t+=1)if(n=!1,B=(A=e.finalText[t]).charCodeAt(0)," "===A?r=" ":13===B||3===B?(P=0,m.push(b),g=g<b?b:g,b=-2*E,n=!(r=""),p+=1):r=e.finalText[t],_.chars?(s=_.getCharData(A,v.fStyle,_.getFontByName(e.f).fFamily),y=n?0:s.w*e.finalSize/100):y=_.measureText(r,e.f,e.finalSize)," "===A?P+=y+E:(b+=y+E+P,P=0),c.push({l:y,an:y,add:f,n:n,anIndexes:[],val:r,line:p,animatorJustifyOffset:0}),2==d){if(f+=y,""===r||" "===r||t===i-1){for(""!==r&&" "!==r||(f-=y);u<=t;)c[u].an=f,c[u].ind=h,c[u].extra=y,u+=1;h+=1,f=0}}else if(3==d){if(f+=y,""===r||t===i-1){for(""===r&&(f-=y);u<=t;)c[u].an=f,c[u].ind=h,c[u].extra=y,u+=1;f=0,h+=1}}else c[h].ind=h,c[h].extra=0,h+=1;if(e.l=c,g=g<b?b:g,m.push(b),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=g,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=m;var O,D,j=l.a;o=j.length;var L,F,R=[];for(a=0;a<o;a+=1){for((O=j[a]).a.sc&&(e.strokeColorAnim=!0),O.a.sw&&(e.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(e.fillColorAnim=!0),F=0,L=O.s.b,t=0;t<i;t+=1)(D=c[t]).anIndexes[a]=F,(1==L&&""!==D.val||2==L&&""!==D.val&&" "!==D.val||3==L&&(D.n||" "==D.val||t==i-1)||4==L&&(D.n||t==i-1))&&(1===O.s.rn&&R.push(F),F+=1);l.a[a].s.totalChars=F;var $,G=-1;if(1===O.s.rn)for(t=0;t<i;t+=1)G!=(D=c[t]).anIndexes[a]&&(G=D.anIndexes[a],$=R.splice(Math.floor(Math.random()*R.length),1)[0]),D.anIndexes[a]=$}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=v.ascent*e.finalSize/100,_r_()},TextProperty.prototype.updateDocumentData=function(e,t){_i_("269:1ed48860"),t=void 0===t?this.keysIndex:t;var i=this.copyData({},this.data.d.k[t].s);i=this.copyData(i,e),this.data.d.k[t].s=i,this.recalculate(t),this.elem.addDynamicProperty(this),_r_()},TextProperty.prototype.recalculate=function(e){_i_("269:5d770484");var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t),_r_()},TextProperty.prototype.canResizeFont=function(e){_i_("269:6fdbbaf8"),this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this),_r_()},TextProperty.prototype.setMinimumFontSize=function(e){_i_("269:fb685efc"),this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this),_r_()};var TextSelectorProp=function(){_i_("269:7ad8078d");var l=Math.max,c=Math.min,h=Math.floor;function n(e,t){_i_("269:429ad1c8"),this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue(),_r_()}return n.prototype={getMult:function(e){_i_("269:338414d3"),this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var t=BezierFactory.getBezierEasing(this.ne.v/100,0,1-this.xe.v/100,1).get,i=0,n=this.finalS,r=this.finalE,a=this.data.sh;if(2==a)i=t(i=r===n?r<=e?1:0:l(0,c(.5/(r-n)+(e-n)/(r-n),1)));else if(3==a)i=t(i=r===n?r<=e?0:1:1-l(0,c(.5/(r-n)+(e-n)/(r-n),1)));else if(4==a)r===n?i=0:(i=l(0,c(.5/(r-n)+(e-n)/(r-n),1)))<.5?i*=2:i=1-2*(i-.5),i=t(i);else if(5==a){if(r===n)i=0;else{var o=r-n,s=-o/2+(e=c(l(0,e+.5-n),r-n)),_=o/2;i=Math.sqrt(1-s*s/(_*_))}i=t(i)}else 6==a?r===n?i=0:(e=c(l(0,e+.5-n),r-n),i=(1+Math.cos(Math.PI+2*Math.PI*e/(r-n)))/2):e>=h(n)&&(i=e-n<0?1-(n-e):l(0,c(r-e,1))),i=t(i);return _r_(i*this.a.v)},getValue:function(e){_i_("269:67bed1f7"),this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/t,n=this.s.v/t+i,r=this.e.v/t+i;if(r<n){var a=n;n=r,r=a}this.finalS=n,this.finalE=r,_r_()}},extendPrototype([DynamicPropertyContainer],n),_r_({getTextSelectorProp:function(e,t,i){return _i_("269:27108628"),_r_(new n(e,t,i))}})}(),pool_factory=(_i_("269:dc1c71db"),_r_(function(e,t,i,n){_i_("269:b9123d9f");var r=0,a=e,o=createSizedArray(a);function s(){var e;return _i_("269:0eb00674"),e=r?o[r-=1]:t(),_r_(e)}return _r_({newElement:s,release:function(e){_i_("269:836c871d"),r===a&&(o=pooling.double(o),a*=2),i&&i(e),o[r]=e,r+=1,_r_()}})})),pooling=(_i_("269:53e0ebf8"),_r_({double:function(e){return _i_("269:bb6a01f3"),_r_(e.concat(createSizedArray(e.length)))}})),point_pool=(_i_("269:7dee8d21"),_r_(pool_factory(8,function(){return _i_("269:60540c67"),_r_(createTypedArray("float32",2))}))),shape_pool=function(){_i_("269:e697e6cf");var r=pool_factory(4,function(){return _i_("269:182a4140"),_r_(new ShapePath)},function(e){_i_("269:c6844579");var t,i=e._length;for(t=0;t<i;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1,_r_()});return r.clone=function(e){_i_("269:e6a2fcb2");var t,i=r.newElement(),n=void 0===e._length?e.v.length:e._length;for(i.setLength(n),i.c=e.c,t=0;t<n;t+=1)i.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return _r_(i)},_r_(r)}(),shapeCollection_pool=function(){_i_("269:adc3c99e");var e={newShapeCollection:function(){var e;_i_("269:772de48f"),e=n?a[n-=1]:new ShapeCollection;return _r_(e)},release:function(e){_i_("269:2c5d70f5");var t,i=e._length;for(t=0;t<i;t+=1)shape_pool.release(e.shapes[t]);e._length=0,n===r&&(a=pooling.double(a),r*=2);a[n]=e,n+=1,_r_()}},n=0,r=4,a=createSizedArray(r);return _r_(e)}(),segments_length_pool=(_i_("269:e422123f"),_r_(pool_factory(8,function(){return _i_("269:a3fcc2fd"),_r_({lengths:[],totalLength:0})},function(e){_i_("269:7feace46");var t,i=e.lengths.length;for(t=0;t<i;t+=1)bezier_length_pool.release(e.lengths[t]);e.lengths.length=0,_r_()}))),bezier_length_pool=(_i_("269:872ce14e"),_r_(pool_factory(8,function(){return _i_("269:4ae539d0"),_r_({addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)})})));function BaseRenderer(){}function SVGRenderer(e,t){_i_("269:f708aaaf"),this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i="";if(t&&t.title){var n=createNS("title"),r=createElementID();n.setAttribute("id",r),n.textContent=t.title,this.svgElement.appendChild(n),i+=r}if(t&&t.description){var a=createNS("desc"),o=createElementID();a.setAttribute("id",o),a.textContent=t.description,this.svgElement.appendChild(a),i+=" "+o}i&&this.svgElement.setAttribute("aria-labelledby",i);var s=createNS("defs");this.svgElement.appendChild(s);var _=createNS("g");this.svgElement.appendChild(_),this.layerElement=_,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||""},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg",_r_()}function CanvasRenderer(e,t){_i_("269:76e179c8"),this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",_r_()}function HybridRenderer(e,t){_i_("269:5ec86e67"),this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!t||!1!==t.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html",_r_()}function MaskElement(e,t,i){_i_("269:5b4a3a65"),this.data=e,this.element=t,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r=this.globalData.defs,a=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(a),this.solidPath="";var o,s,_,l,c,h,d,f=this.masksProperties,u=0,p=[],m=createElementID(),b="clipPath",g="clip-path";for(n=0;n<a;n++){if(("a"!==f[n].mode&&"n"!==f[n].mode||f[n].inv||100!==f[n].o.k||f[n].o.x)&&(g=b="mask"),"s"!=f[n].mode&&"i"!=f[n].mode||0!==u?l=null:((l=createNS("rect")).setAttribute("fill","#ffffff"),l.setAttribute("width",this.element.comp.data.w||0),l.setAttribute("height",this.element.comp.data.h||0),p.push(l)),o=createNS("path"),"n"==f[n].mode){this.viewData[n]={op:PropertyFactory.getProp(this.element,f[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3),elem:o,lastPath:""},r.appendChild(o);continue}var v;if(u+=1,o.setAttribute("fill","s"===f[n].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==f[n].x.k?(g=b="mask",d=PropertyFactory.getProp(this.element,f[n].x,0,null,this.element),v=createElementID(),(c=createNS("filter")).setAttribute("id",v),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),c.appendChild(h),r.appendChild(c),o.setAttribute("stroke","s"===f[n].mode?"#000000":"#ffffff")):d=h=null,this.storedData[n]={elem:o,x:d,expan:h,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"==f[n].mode){_=p.length;var y=createNS("g");for(s=0;s<_;s+=1)y.appendChild(p[s]);var M=createNS("mask");M.setAttribute("mask-type","alpha"),M.setAttribute("id",m+"_"+u),M.appendChild(o),r.appendChild(M),y.setAttribute("mask","url("+locationHref+"#"+m+"_"+u+")"),p.length=0,p.push(y)}else p.push(o);f[n].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[n]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,f[n].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,f[n],3),invRect:l},this.viewData[n].prop.k||this.drawPath(f[n],this.viewData[n].prop.v,this.viewData[n])}for(this.maskElement=createNS(b),a=p.length,n=0;n<a;n+=1)this.maskElement.appendChild(p[n]);0<u&&(this.maskElement.setAttribute("id",m),this.element.maskedElement.setAttribute(g,"url("+locationHref+"#"+m+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this),_r_()}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){_i_("269:f256b9b6"),this.elem=e,this.pos=t,_r_()}function SVGStyleData(e,t){_i_("269:6d1fb2ee"),this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null,_r_()}function SVGShapeData(e,t,i){_i_("269:e8a05d1b"),this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=i,this.lvl=t,this._isAnimated=!!i.k;for(var n=0,r=e.length;n<r;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}_r_()}function SVGTransformData(e,t,i){_i_("269:6f389a15"),this.transform={mProps:e,op:t,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length,_r_()}function SVGStrokeStyleData(e,t,i){_i_("269:39dd38ec"),this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated,_r_()}function SVGFillStyleData(e,t,i){_i_("269:5c312c9a"),this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=i,_r_()}function SVGGradientFillStyleData(e,t,i){_i_("269:0f1f205c"),this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,i),_r_()}function SVGGradientStrokeStyleData(e,t,i){_i_("269:a10bd87b"),this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,i),this._isAnimated=!!this._isAnimated,_r_()}function ShapeGroupData(){_i_("269:c556fa5b"),this.it=[],this.prevViewData=[],this.gr=createNS("g"),_r_()}BaseRenderer.prototype.checkLayers=function(e){_i_("269:68c62778");var t,i,n=this.layers.length;for(this.completeLayers=!0,t=n-1;0<=t;t--)this.elements[t]||(i=this.layers[t]).ip-i.st<=e-this.layers[t].st&&i.op-i.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements(),_r_()},BaseRenderer.prototype.createItem=function(e){switch(_i_("269:c9c3a589"),e.ty){case 2:return _r_(this.createImage(e));case 0:return _r_(this.createComp(e));case 1:return _r_(this.createSolid(e));case 3:return _r_(this.createNull(e));case 4:return _r_(this.createShape(e));case 5:return _r_(this.createText(e));case 13:return _r_(this.createCamera(e))}return _r_(this.createNull(e))},BaseRenderer.prototype.createCamera=function(){throw _i_("269:cdd4ef3f"),new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){_i_("269:ef14e3c2");var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements(),_r_()},BaseRenderer.prototype.includeLayers=function(e){_i_("269:b161ce74"),this.completeLayers=!1;var t,i,n=e.length,r=this.layers.length;for(t=0;t<n;t+=1)for(i=0;i<r;){if(this.layers[i].id==e[t].id){this.layers[i]=e[t];break}i+=1}_r_()},BaseRenderer.prototype.setProjectInterface=function(e){_i_("269:a44ede01"),this.globalData.projectInterface=e,_r_()},BaseRenderer.prototype.initItems=function(){_i_("269:3cfd972c"),this.globalData.progressiveLoad||this.buildAllItems(),_r_()},BaseRenderer.prototype.buildElementParenting=function(e,t,i){_i_("269:2bdc0e7b");for(var n=this.elements,r=this.layers,a=0,o=r.length;a<o;)r[a].ind==t&&(n[a]&&!0!==n[a]?(i.push(n[a]),n[a].setAsParent(),void 0!==r[a].parent?this.buildElementParenting(e,r[a].parent,i):e.setHierarchy(i)):(this.buildItem(a),this.addPendingElement(e))),a+=1;_r_()},BaseRenderer.prototype.addPendingElement=function(e){_i_("269:f6f51a31"),this.pendingElements.push(e),_r_()},BaseRenderer.prototype.searchExtraCompositions=function(e){_i_("269:6d331c43");var t,i=e.length;for(t=0;t<i;t+=1)if(e[t].xt){var n=this.createComp(e[t]);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}_r_()},BaseRenderer.prototype.setupGlobalData=function(e,t){_i_("269:614971be"),this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h},_r_()},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return _i_("269:0efeaa6d"),_r_(new NullElement(e,this.globalData,this))},SVGRenderer.prototype.createShape=function(e){return _i_("269:2f6b10dd"),_r_(new SVGShapeElement(e,this.globalData,this))},SVGRenderer.prototype.createText=function(e){return _i_("269:d23d1533"),_r_(new SVGTextElement(e,this.globalData,this))},SVGRenderer.prototype.createImage=function(e){return _i_("269:4fe94645"),_r_(new IImageElement(e,this.globalData,this))},SVGRenderer.prototype.createComp=function(e){return _i_("269:24cd70e5"),_r_(new SVGCompElement(e,this.globalData,this))},SVGRenderer.prototype.createSolid=function(e){return _i_("269:bc7741c0"),_r_(new ISolidElement(e,this.globalData,this))},SVGRenderer.prototype.configAnimation=function(e){_i_("269:b18c836b"),this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),t.appendChild(i),this.layers=e.layers,this.elements=createSizedArray(e.layers.length),_r_()},SVGRenderer.prototype.destroy=function(){_i_("269:fbb5bf62"),this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null,_r_()},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){_i_("269:4ec04425");var t=this.elements;if(t[e]||99==this.layers[e].ty)return _r_();t[e]=!0;var i=this.createItem(this.layers[e]);t[e]=i,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(i),i.initExpressions()),this.appendElementInPos(i,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?i.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(i))),_r_()},SVGRenderer.prototype.checkPendingElements=function(){for(_i_("269:ec4d33bb");this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,i=this.elements.length;t<i;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}_r_()},SVGRenderer.prototype.renderFrame=function(e){if(_i_("269:e7c8e7d6"),this.renderedFrame===e||this.destroyed)return _r_();null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=i-1;0<=t;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame();_r_()},SVGRenderer.prototype.appendElementInPos=function(e,t){_i_("269:08b335fe");var i=e.getBaseElement();if(!i)return _r_();for(var n,r=0;r<t;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(i,n):this.layerElement.appendChild(i),_r_()},SVGRenderer.prototype.hide=function(){_i_("269:30f7fa03"),this.layerElement.style.display="none",_r_()},SVGRenderer.prototype.show=function(){_i_("269:47ac0d36"),this.layerElement.style.display="block",_r_()},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return _i_("269:6344dce3"),_r_(new CVShapeElement(e,this.globalData,this))},CanvasRenderer.prototype.createText=function(e){return _i_("269:09f0a607"),_r_(new CVTextElement(e,this.globalData,this))},CanvasRenderer.prototype.createImage=function(e){return _i_("269:974eecc2"),_r_(new CVImageElement(e,this.globalData,this))},CanvasRenderer.prototype.createComp=function(e){return _i_("269:a58119af"),_r_(new CVCompElement(e,this.globalData,this))},CanvasRenderer.prototype.createSolid=function(e){return _i_("269:7db69c2c"),_r_(new CVSolidElement(e,this.globalData,this))},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(_i_("269:0aa78386"),1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13])return _r_();if(!this.renderConfig.clearCanvas)return this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13]),_r_();this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var i=this.contextData.cTr.props;this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),_r_()},CanvasRenderer.prototype.ctxOpacity=function(e){if(_i_("269:39302100"),!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,this.globalData.currentGlobalAlpha=this.contextData.cO,_r_();this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO),_r_()},CanvasRenderer.prototype.reset=function(){if(_i_("269:1970ada8"),!this.renderConfig.clearCanvas)return this.canvasContext.restore(),_r_();this.contextData.reset(),_r_()},CanvasRenderer.prototype.save=function(e){if(_i_("269:a88cbca4"),!this.renderConfig.clearCanvas)return this.canvasContext.save(),_r_();e&&this.canvasContext.save();var t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var i,n=this.contextData.saved[this.contextData.cArrPos];for(i=0;i<16;i+=1)n[i]=t[i];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1,_r_()},CanvasRenderer.prototype.restore=function(e){if(_i_("269:acee96cd"),!this.renderConfig.clearCanvas)return this.canvasContext.restore(),_r_();e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,i=this.contextData.saved[this.contextData.cArrPos],n=this.contextData.cTr.props;for(t=0;t<16;t+=1)n[t]=i[t];this.canvasContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),i=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=i,this.globalData.currentGlobalAlpha!==i&&(this.canvasContext.globalAlpha=i,this.globalData.currentGlobalAlpha=i),_r_()},CanvasRenderer.prototype.configAnimation=function(e){_i_("269:a8cb4181"),this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className)):this.canvasContext=this.renderConfig.context,this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize(),_r_()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,i,n;if(_i_("269:13bc8219"),this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r=this.renderConfig.preserveAspectRatio.split(" "),a=r[1]||"meet",o=r[0]||"xMidYMid",s=o.substr(0,4),_=o.substr(4);(i=e/t)<(n=this.transformCanvas.w/this.transformCanvas.h)&&"meet"===a||n<i&&"slice"===a?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(n<i&&"meet"===a||i<n&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(n<i&&"meet"===a||i<n&&"slice"===a)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===_&&(i<n&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===_&&(i<n&&"meet"===a||n<i&&"slice"===a)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0),_r_()},CanvasRenderer.prototype.destroy=function(){var e;for(_i_("269:45ad1e69"),this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),e=(this.layers?this.layers.length:0)-1;0<=e;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0,_r_()},CanvasRenderer.prototype.renderFrame=function(e,t){if(_i_("269:55f75178"),this.renderedFrame===e&&!0===this.renderConfig.clearCanvas&&!t||this.destroyed||-1===e)return _r_();this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var i,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),i=0;i<n;i++)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(e-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;0<=i;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}_r_()},CanvasRenderer.prototype.buildItem=function(e){_i_("269:9384cf27");var t=this.elements;if(t[e]||99==this.layers[e].ty)return _r_();var i=this.createItem(this.layers[e],this,this.globalData);(t[e]=i).initExpressions(),_r_()},CanvasRenderer.prototype.checkPendingElements=function(){for(_i_("269:4dc7a2b8");this.pendingElements.length;){this.pendingElements.pop().checkParenting()}_r_()},CanvasRenderer.prototype.hide=function(){_i_("269:901987ca"),this.animationItem.container.style.display="none",_r_()},CanvasRenderer.prototype.show=function(){_i_("269:60ebdba6"),this.animationItem.container.style.display="block",_r_()},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(_i_("269:4dc7a2b81");this.pendingElements.length;){this.pendingElements.pop().checkParenting()}_r_()},HybridRenderer.prototype.appendElementInPos=function(e,t){_i_("269:8751ddbc");var i=e.getBaseElement();if(!i)return _r_();var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(i,t);else if(this.threeDElements)this.addTo3dContainer(i,t);else{for(var r,a,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(a=this.elements[o],r=(this.layers[o].ddd?this.getThreeDContainerByPos(o):a.getBaseElement())||r),o+=1;r?n.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):n.ddd&&this.supports3d||this.layerElement.appendChild(i)}_r_()},HybridRenderer.prototype.createShape=function(e){if(_i_("269:a65e4d72"),!this.supports3d)return _r_(new SVGShapeElement(e,this.globalData,this));return _r_(new HShapeElement(e,this.globalData,this))},HybridRenderer.prototype.createText=function(e){if(_i_("269:12e118b2"),!this.supports3d)return _r_(new SVGTextElement(e,this.globalData,this));return _r_(new HTextElement(e,this.globalData,this))},HybridRenderer.prototype.createCamera=function(e){return _i_("269:2819d601"),this.camera=new HCameraElement(e,this.globalData,this),_r_(this.camera)},HybridRenderer.prototype.createImage=function(e){if(_i_("269:be52b4b4"),!this.supports3d)return _r_(new IImageElement(e,this.globalData,this));return _r_(new HImageElement(e,this.globalData,this))},HybridRenderer.prototype.createComp=function(e){if(_i_("269:5dc18707"),!this.supports3d)return _r_(new SVGCompElement(e,this.globalData,this));return _r_(new HCompElement(e,this.globalData,this))},HybridRenderer.prototype.createSolid=function(e){if(_i_("269:6389ea86"),!this.supports3d)return _r_(new ISolidElement(e,this.globalData,this));return _r_(new HSolidElement(e,this.globalData,this))},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){_i_("269:23fa8031");for(var t=0,i=this.threeDElements.length;t<i;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return _r_(this.threeDElements[t].perspectiveElem);t+=1}_r_()},HybridRenderer.prototype.createThreeDContainer=function(e,t){_i_("269:bb342f24");var i=createTag("div");styleDiv(i);var n=createTag("div");styleDiv(n),"3d"===t&&(i.style.width=this.globalData.compSize.w+"px",i.style.height=this.globalData.compSize.h+"px",i.style.transformOrigin=i.style.mozTransformOrigin=i.style.webkitTransformOrigin="50% 50%",n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),i.appendChild(n);var r={container:n,perspectiveElem:i,startPos:e,endPos:e,type:t};return this.threeDElements.push(r),_r_(r)},HybridRenderer.prototype.build3dContainers=function(){_i_("269:e86f2cb0");var e,t,i=this.layers.length,n="";for(e=0;e<i;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?"3d"!==n&&(n="3d",t=this.createThreeDContainer(e,"3d")):"2d"!==n&&(n="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e);for(e=(i=this.threeDElements.length)-1;0<=e;e--)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem);_r_()},HybridRenderer.prototype.addTo3dContainer=function(e,t){_i_("269:7a77017f");for(var i=0,n=this.threeDElements.length;i<n;){if(t<=this.threeDElements[i].endPos){for(var r,a=this.threeDElements[i].startPos;a<t;)this.elements[a]&&this.elements[a].getBaseElement&&(r=this.elements[a].getBaseElement()),a+=1;r?this.threeDElements[i].container.insertBefore(e,r):this.threeDElements[i].container.appendChild(e);break}i+=1}_r_()},HybridRenderer.prototype.configAnimation=function(e){_i_("269:e16944f3");var t=createTag("div"),i=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",styleDiv(this.resizerElem=t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),i.appendChild(t),t.style.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var r=createNS("defs");n.appendChild(r),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=r,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize(),_r_()},HybridRenderer.prototype.destroy=function(){_i_("269:4898e25e"),this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null,_r_()},HybridRenderer.prototype.updateContainerSize=function(){_i_("269:ca20d303");var e,t,i,n,r=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight;r/a<this.globalData.compSize.w/this.globalData.compSize.h?(e=r/this.globalData.compSize.w,t=r/this.globalData.compSize.w,i=0,n=(a-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(e=a/this.globalData.compSize.h,t=a/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,n=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+i+","+n+",0,1)",_r_()},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){_i_("269:df869ab8"),this.resizerElem.style.display="none",_r_()},HybridRenderer.prototype.show=function(){_i_("269:d7827379"),this.resizerElem.style.display="block",_r_()},HybridRenderer.prototype.initItems=function(){if(_i_("269:4b6af10b"),this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,i=this.globalData.compSize.h,n=this.threeDElements.length;for(e=0;e<n;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(i,2))+"px"}_r_()},HybridRenderer.prototype.searchExtraCompositions=function(e){_i_("269:bdef836d");var t,i=e.length,n=createTag("div");for(t=0;t<i;t+=1)if(e[t].xt){var r=this.createComp(e[t],n,this.globalData.comp,null);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}_r_()},MaskElement.prototype.getMaskProperty=function(e){return _i_("269:2ceac4fc"),_r_(this.viewData[e].prop)},MaskElement.prototype.renderFrame=function(e){_i_("269:9e05dc9c");var t,i=this.element.finalTransform.mat,n=this.masksProperties.length;for(t=0;t<n;t++)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&(this.viewData[t].invRect.setAttribute("x",-i.props[12]),this.viewData[t].invRect.setAttribute("y",-i.props[13])),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var r=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),r.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}_r_()},MaskElement.prototype.getMaskelement=function(){return _i_("269:8f0aa2e7"),_r_(this.maskElement)},MaskElement.prototype.createLayerSolidPath=function(){_i_("269:1e3e6b04");var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" ",_r_(e)},MaskElement.prototype.drawPath=function(e,t,i){_i_("269:72488e1f");var n,r,a=" M"+t.v[0][0]+","+t.v[0][1];for(r=t._length,n=1;n<r;n+=1)a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[n][0]+","+t.i[n][1]+" "+t.v[n][0]+","+t.v[n][1];if(t.c&&1<r&&(a+=" C"+t.o[n-1][0]+","+t.o[n-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),i.lastPath!==a){var o="";i.elem&&(t.c&&(o=e.inv?this.solidPath+a:a),i.elem.setAttribute("d",o)),i.lastPath=a}_r_()},MaskElement.prototype.destroy=function(){_i_("269:ff782b4c"),this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null,_r_()},HierarchyElement.prototype={initHierarchy:function(){_i_("269:8390a5a9"),this.hierarchy=[],this._isParent=!1,this.checkParenting(),_r_()},setHierarchy:function(e){_i_("269:62b691f2"),this.hierarchy=e,_r_()},setAsParent:function(){_i_("269:eb40a612"),this._isParent=!0,_r_()},checkParenting:function(){_i_("269:34fb88fa"),void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[]),_r_()}},FrameElement.prototype={initFrame:function(){_i_("269:b666aa0a"),this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1,_r_()},prepareProperties:function(e,t){_i_("269:f316f97d");var i,n=this.dynamicProperties.length;for(i=0;i<n;i+=1)(t||this._isParent&&"transform"===this.dynamicProperties[i].propType)&&(this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this.globalData._mdf=!0,this._mdf=!0));_r_()},addDynamicProperty:function(e){_i_("269:0133fae1"),-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e),_r_()}},TransformElement.prototype={initTransform:function(){_i_("269:162bddf0"),this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty,_r_()},renderTransform:function(){if(_i_("269:e53a9378"),this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),i=0;i<n;i+=1)e=this.hierarchy[i].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}_r_()},globalToLocal:function(e){_i_("269:3a681e6d");var t=[];t.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):i=!1;var r,a,o=t.length;for(r=0;r<o;r+=1)a=t[r].mat.applyToPointArray(0,0,0),e=[e[0]-a[0],e[1]-a[1],0];return _r_(e)},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){_i_("269:a8fe43e4"),this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[],_r_()},addRenderableComponent:function(e){_i_("269:640b6da1"),-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e),_r_()},removeRenderableComponent:function(e){_i_("269:8785671a"),-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1),_r_()},prepareRenderableFrame:function(e){_i_("269:bd3f0431"),this.checkLayerLimits(e),_r_()},checkTransparency:function(){_i_("269:747b2e0d"),this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show()),_r_()},checkLayerLimits:function(e){_i_("269:886865f2"),this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide()),_r_()},renderRenderable:function(){_i_("269:fcc15ba6");var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame);_r_()},sourceRectAtTime:function(){return _i_("269:136ed4e3"),_r_({top:0,left:0,width:100,height:100})},getLayerSize:function(){return _i_("269:852e2a08"),5===this.data.ty?_r_({w:this.data.textData.width,h:this.data.textData.height}):_r_({w:this.data.width,h:this.data.height})}},_i_("269:8aa7b074"),extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,i){_i_("269:77b605a0"),this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),_r_()},hide:function(){_i_("269:4b8bcc2d"),this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0),_r_()},show:function(){_i_("269:710d4007"),this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0),_r_()},renderFrame:function(){if(_i_("269:101cde48"),this.data.hd||this.hidden)return _r_();this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1),_r_()},renderInnerContent:function(){},prepareFrame:function(e){_i_("269:2d5158ca"),this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency(),_r_()},destroy:function(){_i_("269:c639ad4d"),this.innerElem=null,this.destroyBaseElement(),_r_()}})],RenderableDOMElement),_r_(),SVGStyleData.prototype.reset=function(){_i_("269:c1a1453b"),this.d="",this._mdf=!1,_r_()},SVGShapeData.prototype.setAsAnimated=function(){_i_("269:15973512"),this._isAnimated=!0,_r_()},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,i){_i_("269:53f84c35"),this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,t),this.setGradientOpacity(t,i),this._isAnimated=!!this._isAnimated,_r_()},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){_i_("269:97fb85f9");var i=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");var r,a,o,s=[];for(o=4*t.g.p,a=0;a<o;a+=4)r=createNS("stop"),n.appendChild(r),s.push(r);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=s,_r_()},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(_i_("269:cbcfb706"),this.g._hasOpacity&&!this.g._collapsable){var i,n,r,a=createNS("mask"),o=createNS("path");a.appendChild(o);var s=createElementID(),_=createElementID();a.setAttribute("id",_);var l=createNS(1===e.t?"linearGradient":"radialGradient");l.setAttribute("id",s),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),r=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var c=this.stops;for(n=4*e.g.p;n<r;n+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(i),c.push(i);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=l,this.ms=a,this.ost=c,this.maskId=_,t.msElem=o}_r_()},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){_i_("269:ff173b50");var m=new Matrix,b=new Matrix;function t(e,t,i){_i_("269:2380c56c"),(i||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(i||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS()),_r_()}function i(e,t,i){_i_("269:c127c5f9");var n,r,a,o,s,_,l,c,h,d,f,u=t.styles.length,p=t.lvl;for(_=0;_<u;_+=1){if(o=t.sh._mdf||i,t.styles[_].lvl<p){for(c=b.reset(),d=p-t.styles[_].lvl,f=t.transformers.length-1;!o&&0<d;)o=t.transformers[f].mProps._mdf||o,d--,f--;if(o)for(d=p-t.styles[_].lvl,f=t.transformers.length-1;0<d;)h=t.transformers[f].mProps.v.props,c.transform(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]),d--,f--}else c=m;if(r=(l=t.sh.paths)._length,o){for(a="",n=0;n<r;n+=1)(s=l.shapes[n])&&s._length&&(a+=buildShapeString(s,s._length,s.c,c));t.caches[_]=a}else a=t.caches[_];t.styles[_].d+=!0===e.hd?"":a,t.styles[_]._mdf=o||t.styles[_]._mdf}_r_()}function n(e,t,i){_i_("269:6808f1ca");var n=t.style;(t.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",t.o.v),_r_()}function r(e,t,i){_i_("269:5beea4a3"),a(e,t,i),o(e,t,i),_r_()}function a(e,t,i){_i_("269:467f2583");var n,r,a,o,s,_=t.gf,l=t.g._hasOpacity,c=t.s.v,h=t.e.v;if(t.o._mdf||i){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||i){var f=1===e.t?"x1":"cx",u="x1"===f?"y1":"cy";_.setAttribute(f,c[0]),_.setAttribute(u,c[1]),l&&!t.g._collapsable&&(t.of.setAttribute(f,c[0]),t.of.setAttribute(u,c[1]))}if(t.g._cmdf||i){n=t.cst;var p=t.g.c;for(a=n.length,r=0;r<a;r+=1)(o=n[r]).setAttribute("offset",p[4*r]+"%"),o.setAttribute("stop-color","rgb("+p[4*r+1]+","+p[4*r+2]+","+p[4*r+3]+")")}if(l&&(t.g._omdf||i)){var m=t.g.o;for(a=(n=t.g._collapsable?t.cst:t.ost).length,r=0;r<a;r+=1)o=n[r],t.g._collapsable||o.setAttribute("offset",m[2*r]+"%"),o.setAttribute("stop-opacity",m[2*r+1])}if(1===e.t)(t.e._mdf||i)&&(_.setAttribute("x2",h[0]),_.setAttribute("y2",h[1]),l&&!t.g._collapsable&&(t.of.setAttribute("x2",h[0]),t.of.setAttribute("y2",h[1])));else if((t.s._mdf||t.e._mdf||i)&&(s=Math.sqrt(Math.pow(c[0]-h[0],2)+Math.pow(c[1]-h[1],2)),_.setAttribute("r",s),l&&!t.g._collapsable&&t.of.setAttribute("r",s)),t.e._mdf||t.h._mdf||t.a._mdf||i){s||(s=Math.sqrt(Math.pow(c[0]-h[0],2)+Math.pow(c[1]-h[1],2)));var b=Math.atan2(h[1]-c[1],h[0]-c[0]),g=s*(1<=t.h.v?.99:t.h.v<=-1?-.99:t.h.v),v=Math.cos(b+t.a.v)*g+c[0],y=Math.sin(b+t.a.v)*g+c[1];_.setAttribute("fx",v),_.setAttribute("fy",y),l&&!t.g._collapsable&&(t.of.setAttribute("fx",v),t.of.setAttribute("fy",y))}_r_()}function o(e,t,i){_i_("269:129065fb");var n=t.style,r=t.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),t.c&&(t.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v)),_r_()}return _r_({createRenderFunction:function(e){_i_("269:4280fce2");e.ty;switch(e.ty){case"fl":return _r_(n);case"gf":return _r_(a);case"gs":return _r_(r);case"st":return _r_(o);case"sh":case"el":case"rc":case"sr":return _r_(i);case"tr":return _r_(t)}_r_()}})}();function ShapeTransformManager(){_i_("269:63f1b44c"),this.sequences={},this.sequenceList=[],this.transform_key_count=0,_r_()}function CVShapeData(e,t,i,n){_i_("269:76bb22ad"),this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"==t.ty?r=5:"el"==t.ty?r=6:"sr"==t.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,r,e);var a,o,s=i.length;for(a=0;a<s;a+=1)i[a].closed||(o={transforms:n.addTransformSequence(i[a].transforms),trNodes:[]},this.styledShapes.push(o),i[a].elements.push(o));_r_()}function BaseElement(){}function NullElement(e,t,i){_i_("269:ac8d1994"),this.initFrame(),this.initBaseData(e,t,i),this.initFrame(),this.initTransform(e,t,i),this.initHierarchy(),_r_()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,i){_i_("269:d3d95fc7"),this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h},_r_()}function ISolidElement(e,t,i){_i_("269:5c42943f"),this.initElement(e,t,i),_r_()}function SVGCompElement(e,t,i){_i_("269:a4e26949"),this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},_r_()}function SVGTextElement(e,t,i){_i_("269:2db23e94"),this.textSpans=[],this.renderType="svg",this.initElement(e,t,i),_r_()}function SVGShapeElement(e,t,i){_i_("269:fb2a6bde"),this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,i),this.prevViewData=[],_r_()}function SVGTintFilter(e,t){_i_("269:80de80ab"),this.filterManager=t;var i=createNS("feColorMatrix");if(i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),e.appendChild(i),this.matrixFilter=i,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var n,r=createNS("feMerge");e.appendChild(r),(n=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),r.appendChild(n),(n=createNS("feMergeNode")).setAttribute("in","f2"),r.appendChild(n)}_r_()}function SVGFillFilter(e,t){_i_("269:ba9221b3"),this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(i),this.matrixFilter=i,_r_()}function SVGGaussianBlurEffect(e,t){_i_("269:597e15fa"),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var i=createNS("feGaussianBlur");e.appendChild(i),this.feGaussianBlur=i,_r_()}function SVGStrokeEffect(e,t){_i_("269:b58980e9"),this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[],_r_()}function SVGTritoneFilter(e,t){_i_("269:ec76b729"),this.filterManager=t;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.matrixFilter=n;var r=createNS("feFuncR");r.setAttribute("type","table"),n.appendChild(r),this.feFuncR=r;var a=createNS("feFuncG");a.setAttribute("type","table"),n.appendChild(a),this.feFuncG=a;var o=createNS("feFuncB");o.setAttribute("type","table"),n.appendChild(o),this.feFuncB=o,_r_()}function SVGProLevelsFilter(e,t){_i_("269:5a61781b"),this.filterManager=t;var i=this.filterManager.effectElements,n=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),n=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n)),_r_()}function SVGDropShadowEffect(e,t){_i_("269:6a051fa1"),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var i=createNS("feGaussianBlur");i.setAttribute("in","SourceAlpha"),i.setAttribute("result","drop_shadow_1"),i.setAttribute("stdDeviation","0"),this.feGaussianBlur=i,e.appendChild(i);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,e.appendChild(n);var r=createNS("feFlood");r.setAttribute("flood-color","#00ff00"),r.setAttribute("flood-opacity","1"),r.setAttribute("result","drop_shadow_3"),this.feFlood=r,e.appendChild(r);var a=createNS("feComposite");a.setAttribute("in","drop_shadow_3"),a.setAttribute("in2","drop_shadow_2"),a.setAttribute("operator","in"),a.setAttribute("result","drop_shadow_4"),e.appendChild(a);var o,s=createNS("feMerge");e.appendChild(s),o=createNS("feMergeNode"),s.appendChild(o),(o=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=o,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(o),_r_()}ShapeTransformManager.prototype={addTransformSequence:function(e){_i_("269:5ee44e75");var t,i=e.length,n="_";for(t=0;t<i;t+=1)n+=e[t].transform.key+"_";var r=this.sequences[n];return r||(r={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[n]=r,this.sequenceList.push(r)),_r_(r)},processSequence:function(e,t){_i_("269:8aff36d7");for(var i,n=0,r=e.transforms.length,a=t;n<r&&!t;){if(e.transforms[n].transform.mProps._mdf){a=!0;break}n+=1}if(a)for(e.finalTransform.reset(),n=r-1;0<=n;n-=1)i=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);e._mdf=a,_r_()},processSequences:function(e){_i_("269:a2e42b6b");var t,i=this.sequenceList.length;for(t=0;t<i;t+=1)this.processSequence(this.sequenceList[t],e);_r_()},getNewKey:function(){return _i_("269:8e2175d2"),_r_("_"+this.transform_key_count++)}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(_i_("269:1de6c801"),!this.data.hasMask)return _r_(!1);for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return _r_(!0);e+=1}return _r_(!1)},initExpressions:function(){_i_("269:15e0b3fc"),this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface),_r_()},setBlendMode:function(){_i_("269:3ddb3328");var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e,_r_()},initBaseData:function(e,t,i){_i_("269:a3b47f85"),this.globalData=t,this.comp=i,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties),_r_()},getType:function(){return _i_("269:1d7a130a"),_r_(this.type)},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){_i_("269:fef142bb"),this.prepareProperties(e,!0),_r_()},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return _i_("269:c768a69c"),_r_(null)},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){_i_("269:6444fb35"),this.layerElement=createNS("g"),_r_()},createContainerElements:function(){_i_("269:7ead4189"),this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,i,n=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var r=createNS("mask");r.setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),n=r,this.globalData.defs.appendChild(r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(i=createNS("g")).appendChild(this.layerElement),n=i,r.appendChild(i),i.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var a=createNS("mask");a.setAttribute("id",this.layerId),a.setAttribute("mask-type","alpha");var o=createNS("g");a.appendChild(o),e=createElementID(),t=filtersFactory.createFilter(e);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),t.appendChild(s);var _=createNS("feFuncA");_.setAttribute("type","table"),_.setAttribute("tableValues","1.0 0.0"),s.appendChild(_),this.globalData.defs.appendChild(t);var l=createNS("rect");l.setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+e+")"),o.appendChild(l),o.appendChild(this.layerElement),n=o,featureSupport.maskType||(a.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),i=createNS("g"),o.appendChild(l),i.appendChild(this.layerElement),n=i,o.appendChild(i)),this.globalData.defs.appendChild(a)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),n=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var c=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(c.setAttribute("id",d),c.appendChild(h),this.globalData.defs.appendChild(c),this.checkMasks()){var f=createNS("g");f.setAttribute("clip-path","url("+locationHref+"#"+d+")"),f.appendChild(this.layerElement),this.transformedElement=f,n?n.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode(),_r_()},renderElement:function(){_i_("269:748c7d4a"),this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v),_r_()},destroyBaseElement:function(){_i_("269:64e64224"),this.layerElement=null,this.matteElement=null,this.maskManager.destroy(),_r_()},getBaseElement:function(){if(_i_("269:975ebfe8"),this.data.hd)return _r_(null);return _r_(this.baseElement)},createRenderableComponents:function(){_i_("269:a6f2fa52"),this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),_r_()},setMatte:function(e){if(_i_("269:9d3eb22d"),!this.matteElement)return _r_();this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")"),_r_()}},IShapeElement.prototype={addShapeToModifiers:function(e){_i_("269:74e8450f");var t,i=this.shapeModifiers.length;for(t=0;t<i;t+=1)this.shapeModifiers[t].addShape(e);_r_()},isShapeInAnimatedModifiers:function(e){_i_("269:437f37a7");for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return _r_(!0);return _r_(!1)},renderModifiers:function(){if(_i_("269:52eeda85"),!this.shapeModifiers.length)return _r_();var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;0<=e;e-=1)this.shapeModifiers[e].processShapes(this._isFirstFrame);_r_()},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){_i_("269:aa828e4d");for(var t=this.processedElements,i=0,n=t.length;i<n;){if(t[i].elem===e)return _r_(t[i].pos);i+=1}return _r_(0)},addProcessedElement:function(e,t){_i_("269:36757e05");for(var i=this.processedElements,n=i.length;n;)if(i[n-=1].elem===e)return i[n].pos=t,_r_();i.push(new ProcessedElement(e,t)),_r_()},prepareFrame:function(e){_i_("269:dc67ca33"),this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),_r_()}},ITextElement.prototype.initElement=function(e,t,i){_i_("269:f307b29a"),this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,i),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties),_r_()},ITextElement.prototype.prepareFrame=function(e){_i_("269:40eb7a71"),this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1),_r_()},ITextElement.prototype.createPathShape=function(e,t){_i_("269:e4dbc33c");var i,n,r=t.length,a="";for(i=0;i<r;i+=1)n=t[i].ks.k,a+=buildShapeString(n,n.i.length,!0,e);return _r_(a)},ITextElement.prototype.updateDocumentData=function(e,t){_i_("269:9c4a425c"),this.textProperty.updateDocumentData(e,t),_r_()},ITextElement.prototype.canResizeFont=function(e){_i_("269:af32fc5a"),this.textProperty.canResizeFont(e),_r_()},ITextElement.prototype.setMinimumFontSize=function(e){_i_("269:8c268e06"),this.textProperty.setMinimumFontSize(e),_r_()},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,i,n,r){switch(_i_("269:46791e32"),e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[i])/2,0,0)}t.translate(n,r,0),_r_()},ITextElement.prototype.buildColor=function(e){return _i_("269:5faf2774"),_r_("rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")")},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,i){_i_("269:2d4cfa48"),this.initFrame(),this.initBaseData(e,t,i),this.initTransform(e,t,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide(),_r_()},ICompElement.prototype.prepareFrame=function(e){if(_i_("269:ed261a83"),this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),!this.isInRange&&!this.data.xt)return _r_();if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var i,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=n-1;0<=i;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0));_r_()},ICompElement.prototype.renderInnerContent=function(){_i_("269:98cb32dd");var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();_r_()},ICompElement.prototype.setElements=function(e){_i_("269:1870876c"),this.elements=e,_r_()},ICompElement.prototype.getElements=function(){return _i_("269:8a701de5"),_r_(this.elements)},ICompElement.prototype.destroyElements=function(){_i_("269:4d083b65");var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();_r_()},ICompElement.prototype.destroy=function(){_i_("269:babcaa8d"),this.destroyElements(),this.destroyBaseElement(),_r_()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){_i_("269:e4bce0c5");var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem),_r_()},IImageElement.prototype.sourceRectAtTime=function(){return _i_("269:b13451e9"),_r_(this.sourceRect)},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){_i_("269:9f815ba8");var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e),_r_()},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){_i_("269:e21623e5"),this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text")),_r_()},SVGTextElement.prototype.buildTextContents=function(e){_i_("269:39a6d3f2");for(var t=0,i=e.length,n=[],r="";t<i;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(r),r=""):r+=e[t],t+=1;return n.push(r),_r_(n)},SVGTextElement.prototype.buildNewText=function(){var e,t;_i_("269:4104928e");var i=this.textProperty.currentData;this.renderedLetters=createSizedArray(i?i.l.length:0),i.fc?this.layerElement.setAttribute("fill",this.buildColor(i.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),i.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(i.sc)),this.layerElement.setAttribute("stroke-width",i.sw)),this.layerElement.setAttribute("font-size",i.finalSize);var n=this.globalData.fontManager.getFontByName(i.f);if(n.fClass)this.layerElement.setAttribute("class",n.fClass);else{this.layerElement.setAttribute("font-family",n.fFamily);var r=i.fWeight,a=i.fStyle;this.layerElement.setAttribute("font-style",a),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("arial-label",i.t);var o,s=i.l||[],_=!!this.globalData.fontManager.chars;t=s.length;var l,c=this.mHelper,h="",d=this.data.singleShape,f=0,u=0,p=!0,m=i.tr/1e3*i.finalSize;if(!d||_||i.sz){var b,g,v=this.textSpans.length;for(e=0;e<t;e+=1)_&&d&&0!==e||(o=e<v?this.textSpans[e]:createNS(_?"path":"text"),v<=e&&(o.setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=o,this.layerElement.appendChild(o)),o.style.display="inherit"),c.reset(),c.scale(i.finalSize/100,i.finalSize/100),d&&(s[e].n&&(f=-m,u+=i.yOffset,u+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(i,c,s[e].line,f,u),f+=s[e].l||0,f+=m),_?(l=(b=(g=this.globalData.fontManager.getCharData(i.finalText[e],n.fStyle,this.globalData.fontManager.getFontByName(i.f).fFamily))&&g.data||{}).shapes?b.shapes[0].it:[],d?h+=this.createPathShape(c,l):o.setAttribute("d",this.createPathShape(c,l))):(d&&o.setAttribute("transform","translate("+c.props[12]+","+c.props[13]+")"),o.textContent=s[e].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&o&&o.setAttribute("d",h)}else{var y=this.textContainer,M="start";switch(i.j){case 1:M="end";break;case 2:M="middle"}y.setAttribute("text-anchor",M),y.setAttribute("letter-spacing",m);var w=this.buildTextContents(i.finalText);for(t=w.length,u=i.ps?i.ps[1]+i.ascent:0,e=0;e<t;e+=1)(o=this.textSpans[e]||createNS("tspan")).textContent=w[e],o.setAttribute("x",0),o.setAttribute("y",u),o.style.display="inherit",y.appendChild(o),this.textSpans[e]=o,u+=i.finalLineHeight;this.layerElement.appendChild(y)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0,_r_()},SVGTextElement.prototype.sourceRectAtTime=function(e){if(_i_("269:b8bbe2ef"),this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return _r_(this.bbox)},SVGTextElement.prototype.renderInnerContent=function(){if(_i_("269:7b72df34"),!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var i,n,r=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;for(t=a.length,e=0;e<t;e+=1){if(a[e].n)continue;i=r[e],n=this.textSpans[e],i._mdf.m&&n.setAttribute("transform",i.m),i._mdf.o&&n.setAttribute("opacity",i.o),i._mdf.sw&&n.setAttribute("stroke-width",i.sw),i._mdf.sc&&n.setAttribute("stroke",i.sc),i._mdf.fc&&n.setAttribute("fill",i.fc)}}_r_()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){_i_("269:f58027e4"),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_r_()},SVGShapeElement.prototype.filterUniqueShapes=function(){_i_("269:9fd0e044");var e,t,i,n,r=this.shapes.length,a=this.stylesList.length,o=[],s=!1;for(i=0;i<a;i+=1){for(n=this.stylesList[i],s=!1,e=o.length=0;e<r;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(n)&&(o.push(t),s=t._isAnimated||s);1<o.length&&s&&this.setShapesAsAnimated(o)}_r_()},SVGShapeElement.prototype.setShapesAsAnimated=function(e){_i_("269:db2ad3cf");var t,i=e.length;for(t=0;t<i;t+=1)e[t].setAsAnimated();_r_()},SVGShapeElement.prototype.createStyleElement=function(e,t){var i;_i_("269:3f6f83ff");var n=new SVGStyleData(e,t),r=n.pElem;if("st"===e.ty)i=new SVGStrokeStyleData(this,e,n);else if("fl"===e.ty)i=new SVGFillStyleData(this,e,n);else if("gf"===e.ty||"gs"===e.ty){i=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),r.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))}return"st"!==e.ty&&"gs"!==e.ty||(r.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),r.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),r.setAttribute("fill-opacity","0"),1===e.lj&&r.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&r.setAttribute("fill-rule","evenodd"),e.ln&&r.setAttribute("id",e.ln),e.cl&&r.setAttribute("class",e.cl),e.bm&&(r.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,i),_r_(i)},SVGShapeElement.prototype.createGroupElement=function(e){_i_("269:6aabde07");var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),_r_(t)},SVGShapeElement.prototype.createTransformElement=function(e,t){_i_("269:dac48227");var i=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(i,i.o,t);return this.addToAnimatedContents(e,n),_r_(n)},SVGShapeElement.prototype.createShapeElement=function(e,t,i){_i_("269:4d8c52ae");var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var r=new SVGShapeData(t,i,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(e,r),_r_(r)},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){_i_("269:e3f5b729");for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===t)return _r_();i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e}),_r_()},SVGShapeElement.prototype.setElementStyles=function(e){_i_("269:ab50bf6b");var t,i=e.styles,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||i.push(this.stylesList[t]);_r_()},SVGShapeElement.prototype.reloadShapes=function(){_i_("269:077048a6"),this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),_r_()},SVGShapeElement.prototype.searchShapes=function(e,t,i,n,r,a,o){_i_("269:18ab3a14");var s,_,l,c,h,d,f=[].concat(a),u=e.length-1,p=[],m=[];for(s=u;0<=s;s-=1){if((d=this.searchProcessedElement(e[s]))?t[s]=i[d-1]:e[s]._render=o,"fl"==e[s].ty||"st"==e[s].ty||"gf"==e[s].ty||"gs"==e[s].ty)d?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],r),e[s]._render&&n.appendChild(t[s].style.pElem),p.push(t[s].style);else if("gr"==e[s].ty){if(d)for(l=t[s].it.length,_=0;_<l;_+=1)t[s].prevViewData[_]=t[s].it[_];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,r+1,f,o),e[s]._render&&n.appendChild(t[s].gr)}else"tr"==e[s].ty?(d||(t[s]=this.createTransformElement(e[s],n)),c=t[s].transform,f.push(c)):"sh"==e[s].ty||"rc"==e[s].ty||"el"==e[s].ty||"sr"==e[s].ty?(d||(t[s]=this.createShapeElement(e[s],f,r)),this.setElementStyles(t[s])):"tm"==e[s].ty||"rd"==e[s].ty||"ms"==e[s].ty?(d?(h=t[s]).closed=!1:((h=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=h,this.shapeModifiers.push(h)),m.push(h)):"rp"==e[s].ty&&(d?(h=t[s]).closed=!0:(h=ShapeModifiers.getModifier(e[s].ty),(t[s]=h).init(this,e,s,t),this.shapeModifiers.push(h),o=!1),m.push(h));this.addProcessedElement(e[s],s+1)}for(u=p.length,s=0;s<u;s+=1)p[s].closed=!0;for(u=m.length,s=0;s<u;s+=1)m[s].closed=!0;_r_()},SVGShapeElement.prototype.renderInnerContent=function(){_i_("269:2bb436dc"),this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"));_r_()},SVGShapeElement.prototype.renderShape=function(){_i_("269:f8d20f06");var e,t,i=this.animatedContents.length;for(e=0;e<i;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame);_r_()},SVGShapeElement.prototype.destroy=function(){_i_("269:6e5d931e"),this.destroyBaseElement(),this.shapesData=null,this.itemsData=null,_r_()},SVGTintFilter.prototype.renderFrame=function(e){if(_i_("269:69d9c80b"),e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",i[0]-t[0]+" 0 0 0 "+t[0]+" "+(i[1]-t[1])+" 0 0 0 "+t[1]+" "+(i[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}_r_()},SVGFillFilter.prototype.renderFrame=function(e){if(_i_("269:831618f2"),e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,i=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+i+" 0")}_r_()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(_i_("269:1a448782"),e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=3==i?0:t,r=2==i?0:t;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+r);var a=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",a)}_r_()},SVGStrokeEffect.prototype.initialize=function(){_i_("269:49814da1");var e,t,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=(i=this.filterManager.effectElements[0].p.v-1)+1,(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);i<n;i+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:i});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),o=createElementID();a.setAttribute("id",o),a.setAttribute("mask-type","alpha"),a.appendChild(t),this.elem.globalData.defs.appendChild(a);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)s.appendChild(r[0]);this.elem.layerElement.appendChild(s),this.masker=a,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t,_r_()},SVGStrokeEffect.prototype.renderFrame=function(e){_i_("269:86175460"),this.initialized||this.initialize();var t,i,n,r=this.paths.length;for(t=0;t<r;t+=1){if(-1===this.paths[t].m)continue;if(i=this.elem.maskManager.viewData[this.paths[t].m],n=this.paths[t].p,(e||this.filterManager._mdf||i.prop._mdf)&&n.setAttribute("d",i.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||i.prop._mdf){var a;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,_=n.getTotalLength();a="0 0 0 "+_*o+" ";var l,c=_*(s-o),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,d=Math.floor(c/h);for(l=0;l<d;l+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";a+="0 "+10*_+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;n.setAttribute("stroke-dasharray",a)}}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var f=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*f[0])+","+bm_floor(255*f[1])+","+bm_floor(255*f[2])+")")}_r_()},SVGTritoneFilter.prototype.renderFrame=function(e){if(_i_("269:b9307867"),e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v,r=n[0]+" "+i[0]+" "+t[0],a=n[1]+" "+i[1]+" "+t[1],o=n[2]+" "+i[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",o)}_r_()},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){_i_("269:729b1ba0");var i=createNS(e);return i.setAttribute("type","table"),t.appendChild(i),_r_(i)},SVGProLevelsFilter.prototype.getTableValue=function(e,t,i,n,r){_i_("269:2d89b0b1");for(var a,o,s=0,_=Math.min(e,t),l=Math.max(e,t),c=Array.call(null,{length:256}),h=0,d=r-n,f=t-e;s<=256;)o=(a=s/256)<=_?f<0?r:n:l<=a?f<0?n:r:n+d*Math.pow((a-e)/f,1/i),c[h++]=o,s+=256/255;return _r_(c.join(" "))},SVGProLevelsFilter.prototype.renderFrame=function(e){if(_i_("269:238b5752"),e||this.filterManager._mdf){var t,i=this.filterManager.effectElements;this.feFuncRComposed&&(e||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(t=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(t=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(t=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(t=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(t=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",t))}_r_()},SVGDropShadowEffect.prototype.renderFrame=function(e){if(_i_("269:eecb1b50"),e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var i=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,r=i*Math.cos(n),a=i*Math.sin(n);this.feOffset.setAttribute("dx",r),this.feOffset.setAttribute("dy",a)}}_r_()};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,i){_i_("269:bdf82862"),this.initialized=!1,this.filterManager=t,this.filterElem=e,(this.elem=i).matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement,_r_()}function SVGEffects(e){_i_("269:b9b19d83");var t,i,n=e.data.ef?e.data.ef.length:0,r=createElementID(),a=filtersFactory.createFilter(r),o=0;for(this.filters=[],t=0;t<n;t+=1)i=null,20===e.data.ef[t].ty?(o+=1,i=new SVGTintFilter(a,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(o+=1,i=new SVGFillFilter(a,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?i=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(o+=1,i=new SVGTritoneFilter(a,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(o+=1,i=new SVGProLevelsFilter(a,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(o+=1,i=new SVGDropShadowEffect(a,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?i=new SVGMatte3Effect(a,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(o+=1,i=new SVGGaussianBlurEffect(a,e.effectsManager.effectElements[t])),i&&this.filters.push(i);o&&(e.globalData.defs.appendChild(a),e.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&e.addRenderableComponent(this),_r_()}function CVContextData(){_i_("269:bae2df86"),this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var e;for(this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15,_r_()}function CVBaseElement(){}function CVImageElement(e,t,i){_i_("269:87dd1c42"),this.failed=!1,this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getImage(this.assetData),this.initElement(e,t,i),_r_()}function CVCompElement(e,t,i){_i_("269:1f1cd5eb"),this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},_r_()}function CVMaskElement(e,t){_i_("269:d51173b7"),this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var i,n=this.masksProperties.length,r=!1;for(i=0;i<n;i++)"n"!==this.masksProperties[i].mode&&(r=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);(this.hasMasks=r)&&this.element.addRenderableComponent(this),_r_()}function CVShapeElement(e,t,i){_i_("269:78b475cf"),this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,i),_r_()}function CVSolidElement(e,t,i){_i_("269:bcdcf9b5"),this.initElement(e,t,i),_r_()}function CVTextElement(e,t,i){_i_("269:7deee9ba"),this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,i),_r_()}function CVEffects(){}function HBaseElement(e,t,i){}function HSolidElement(e,t,i){_i_("269:15591338"),this.initElement(e,t,i),_r_()}function HCompElement(e,t,i){_i_("269:6922042d"),this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,i),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},_r_()}function HShapeElement(e,t,i){_i_("269:6de7ac01"),this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},_r_()}function HTextElement(e,t,i){_i_("269:68896593"),this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,i),_r_()}function HImageElement(e,t,i){_i_("269:31ce9440"),this.assetData=t.getAssetData(e.refId),this.initElement(e,t,i),_r_()}function HCameraElement(e,t,i){_i_("269:a8946cd3"),this.initFrame(),this.initBaseData(e,t,i),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var r,a=e.ks.or.k.length;for(r=0;r<a;r+=1)e.ks.or.k[r].to=null,e.ks.or.k[r].ti=null}this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this},_r_()}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){_i_("269:a47cc87f");for(var t=0,i=_svgMatteSymbols.length;t<i;){if(_svgMatteSymbols[t]===e)return _r_(_svgMatteSymbols[t]);t+=1}return _r_(null)},SVGMatte3Effect.prototype.replaceInParent=function(e,t){_i_("269:1b51a5bd");var i=e.layerElement.parentNode;if(!i)return _r_();for(var n,r=i.children,a=0,o=r.length;a<o&&r[a]!==e.layerElement;)a+=1;a<=o-2&&(n=r[a+1]);var s=createNS("use");s.setAttribute("href","#"+t),n?i.insertBefore(s,n):i.appendChild(s),_r_()},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(_i_("269:c6eb97b5"),!this.findSymbol(t)){var i=createElementID(),n=createNS("mask");n.setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var r=e.globalData.defs;r.appendChild(n);var a=createNS("symbol");a.setAttribute("id",i),this.replaceInParent(t,i),a.appendChild(t.layerElement),r.appendChild(a);var o=createNS("use");o.setAttribute("href","#"+i),n.appendChild(o),t.data.hd=!1,t.show()}e.setMatte(t.layerId),_r_()},SVGMatte3Effect.prototype.initialize=function(){_i_("269:7112b920");for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,i=0,n=t.length;i<n;)t[i]&&t[i].data.ind===e&&this.setElementAsMask(this.elem,t[i]),i+=1;this.initialized=!0,_r_()},SVGMatte3Effect.prototype.renderFrame=function(){_i_("269:eda5c6ef"),this.initialized||this.initialize(),_r_()},SVGEffects.prototype.renderFrame=function(e){_i_("269:52785a4c");var t,i=this.filters.length;for(t=0;t<i;t+=1)this.filters[t].renderFrame(e);_r_()},CVContextData.prototype.duplicate=function(){_i_("269:34ef2bfe");var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var i=0;for(i=this._length;i<e;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=e,_r_()},CVContextData.prototype.reset=function(){_i_("269:fc18e964"),this.cArrPos=0,this.cTr.reset(),this.cO=1,_r_()},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){_i_("269:7e10f031"),this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this),_r_()},createContent:function(){},setBlendMode:function(){_i_("269:80e189a8");var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}_r_()},createRenderableComponents:function(){_i_("269:dc7eda68"),this.maskManager=new CVMaskElement(this.data,this),_r_()},hideElement:function(){_i_("269:b7034b91"),this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0),_r_()},showElement:function(){_i_("269:d67c9a86"),this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0),_r_()},renderFrame:function(){if(_i_("269:16258231"),this.hidden||this.data.hd)return _r_();this.renderTransform(),this.renderRenderable(),this.setBlendMode(),this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1),_r_()},destroy:function(){_i_("269:69b15637"),this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy(),_r_()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(_i_("269:f771ca0c"),this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,i,n=e.getContext("2d"),r=this.img.width,a=this.img.height,o=r/a,s=this.assetData.w/this.assetData.h,_=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;s<o&&"xMidYMid slice"===_||o<s&&"xMidYMid slice"!==_?t=(i=a)*s:i=(t=r)/s,n.drawImage(this.img,(r-t)/2,(a-i)/2,t,i,0,0,this.assetData.w,this.assetData.h),this.img=e}_r_()},CVImageElement.prototype.renderInnerContent=function(e){if(_i_("269:95dcac3e"),this.failed)return _r_();this.canvasContext.drawImage(this.img,0,0),_r_()},CVImageElement.prototype.destroy=function(){_i_("269:01599690"),this.img=null,_r_()},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e;for(_i_("269:630ae785"),e=this.layers.length-1;0<=e;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame();_r_()},CVCompElement.prototype.destroy=function(){var e;for(_i_("269:1b60ee31"),e=this.layers.length-1;0<=e;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null,_r_()},CVMaskElement.prototype.renderFrame=function(){if(_i_("269:8238b1b2"),!this.hasMasks)return _r_();var e,t,i,n,r=this.element.finalTransform.mat,a=this.element.canvasContext,o=this.masksProperties.length;for(a.beginPath(),e=0;e<o;e++)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(a.moveTo(0,0),a.lineTo(this.element.globalData.compSize.w,0),a.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),a.lineTo(0,this.element.globalData.compSize.h),a.lineTo(0,0)),n=this.viewData[e].v,t=r.applyToPointArray(n.v[0][0],n.v[0][1],0),a.moveTo(t[0],t[1]);var s,_=n._length;for(s=1;s<_;s++)i=r.applyToTriplePoints(n.o[s-1],n.i[s],n.v[s]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[s-1],n.i[0],n.v[0]),a.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),a.clip(),_r_()},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){_i_("269:594f561f"),this.element=null,_r_()},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){_i_("269:b0935de6"),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_r_()},CVShapeElement.prototype.createStyleElement=function(e,t){_i_("269:bf431ead");var i={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},n={};if("fl"==e.ty||"st"==e.ty?(n.c=PropertyFactory.getProp(this,e.c,1,255,this),n.c.k||(i.co="rgb("+bm_floor(n.c.v[0])+","+bm_floor(n.c.v[1])+","+bm_floor(n.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(n.s=PropertyFactory.getProp(this,e.s,1,null,this),n.e=PropertyFactory.getProp(this,e.e,1,null,this),n.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,e.g,this)),n.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"==e.ty||"gs"==e.ty){if(i.lc=this.lcEnum[e.lc]||"round",i.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(i.ml=e.ml),n.w=PropertyFactory.getProp(this,e.w,0,null,this),n.w.k||(i.wi=n.w.v),e.d){var r=new DashProperty(this,e.d,"canvas",this);n.d=r,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0])}}else i.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(i),n.style=i,_r_(n)},CVShapeElement.prototype.createGroupElement=function(e){_i_("269:862999a3");return _r_({it:[],prevViewData:[]})},CVShapeElement.prototype.createTransformElement=function(e){_i_("269:e2b09b19");var t={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}};return _r_(t)},CVShapeElement.prototype.createShapeElement=function(e){_i_("269:70f5e4f7");var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),_r_(t)},CVShapeElement.prototype.reloadShapes=function(){_i_("269:d5a82859"),this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),_r_()},CVShapeElement.prototype.addTransformToStyleList=function(e){_i_("269:ac62a1f0");var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e);_r_()},CVShapeElement.prototype.removeTransformFromStyleList=function(){_i_("269:071d1058");var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop();_r_()},CVShapeElement.prototype.closeStyles=function(e){_i_("269:c3386746");var t,i=e.length;for(t=0;t<i;t+=1)e[t].closed=!0;_r_()},CVShapeElement.prototype.searchShapes=function(e,t,i,n,r){_i_("269:6022732f");var a,o,s,_,l,c,h=e.length-1,d=[],f=[],u=[].concat(r);for(a=h;0<=a;a-=1){if((_=this.searchProcessedElement(e[a]))?t[a]=i[_-1]:e[a]._shouldRender=n,"fl"==e[a].ty||"st"==e[a].ty||"gf"==e[a].ty||"gs"==e[a].ty)_?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],u),d.push(t[a].style);else if("gr"==e[a].ty){if(_)for(s=t[a].it.length,o=0;o<s;o+=1)t[a].prevViewData[o]=t[a].it[o];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,n,u)}else"tr"==e[a].ty?(_||(c=this.createTransformElement(e[a]),t[a]=c),u.push(t[a]),this.addTransformToStyleList(t[a])):"sh"==e[a].ty||"rc"==e[a].ty||"el"==e[a].ty||"sr"==e[a].ty?_||(t[a]=this.createShapeElement(e[a])):"tm"==e[a].ty||"rd"==e[a].ty?(_?(l=t[a]).closed=!1:((l=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=l,this.shapeModifiers.push(l)),f.push(l)):"rp"==e[a].ty&&(_?(l=t[a]).closed=!0:(l=ShapeModifiers.getModifier(e[a].ty),(t[a]=l).init(this,e,a,t),this.shapeModifiers.push(l),n=!1),f.push(l));this.addProcessedElement(e[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=f.length,a=0;a<h;a+=1)f[a].closed=!0;_r_()},CVShapeElement.prototype.renderInnerContent=function(){_i_("269:14bcf039"),this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0),_r_()},CVShapeElement.prototype.renderShapeTransform=function(e,t){_i_("269:c74aec11"),(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0),_r_()},CVShapeElement.prototype.drawLayer=function(){_i_("269:a3a45454");var e,t,i,n,r,a,o,s,_,l=this.stylesList.length,c=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<l;e+=1){if(("st"===(s=(_=this.stylesList[e]).type)||"gs"===s)&&0===_.wi||!_.data._shouldRender||0===_.coOp||0===this.globalData.currentGlobalAlpha)continue;for(c.save(),a=_.elements,"st"===s||"gs"===s?(h.strokeStyle="st"===s?_.co:_.grd,h.lineWidth=_.wi,h.lineCap=_.lc,h.lineJoin=_.lj,h.miterLimit=_.ml||0):h.fillStyle="fl"===s?_.co:_.grd,c.ctxOpacity(_.coOp),"st"!==s&&"gs"!==s&&h.beginPath(),c.ctxTransform(_.preTransforms.finalTransform.props),i=a.length,t=0;t<i;t+=1){for("st"!==s&&"gs"!==s||(h.beginPath(),_.da&&(h.setLineDash(_.da),h.lineDashOffset=_.do)),r=(o=a[t].trNodes).length,n=0;n<r;n+=1)"m"==o[n].t?h.moveTo(o[n].p[0],o[n].p[1]):"c"==o[n].t?h.bezierCurveTo(o[n].pts[0],o[n].pts[1],o[n].pts[2],o[n].pts[3],o[n].pts[4],o[n].pts[5]):h.closePath();"st"!==s&&"gs"!==s||(h.stroke(),_.da&&h.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&h.fill(_.r),c.restore()}_r_()},CVShapeElement.prototype.renderShape=function(e,t,i,n){var r,a;for(_i_("269:606b5aca"),a=e,r=t.length-1;0<=r;r-=1)"tr"==t[r].ty?(a=i[r].transform,this.renderShapeTransform(e,a)):"sh"==t[r].ty||"el"==t[r].ty||"rc"==t[r].ty||"sr"==t[r].ty?this.renderPath(t[r],i[r]):"fl"==t[r].ty?this.renderFill(t[r],i[r],a):"st"==t[r].ty?this.renderStroke(t[r],i[r],a):"gf"==t[r].ty||"gs"==t[r].ty?this.renderGradientFill(t[r],i[r],a):"gr"==t[r].ty?this.renderShape(a,t[r].it,i[r].it):t[r].ty;n&&this.drawLayer(),_r_()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(_i_("269:53ca25b8"),this._isFirstFrame||t._mdf||e.transforms._mdf){var i,n,r,a=e.trNodes,o=t.paths,s=o._length;a.length=0;var _=e.transforms.finalTransform;for(r=0;r<s;r+=1){var l=o.shapes[r];if(l&&l.v){for(n=l._length,i=1;i<n;i+=1)1===i&&a.push({t:"m",p:_.applyToPointArray(l.v[0][0],l.v[0][1],0)}),a.push({t:"c",pts:_.applyToTriplePoints(l.o[i-1],l.i[i],l.v[i])});1===n&&a.push({t:"m",p:_.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&n&&(a.push({t:"c",pts:_.applyToTriplePoints(l.o[i-1],l.i[0],l.v[0])}),a.push({t:"z"}))}}e.trNodes=a}_r_()},CVShapeElement.prototype.renderPath=function(e,t){if(_i_("269:0a3ef1bf"),!0!==e.hd&&e._shouldRender){var i,n=t.styledShapes.length;for(i=0;i<n;i+=1)this.renderStyledShape(t.styledShapes[i],t.sh)}_r_()},CVShapeElement.prototype.renderFill=function(e,t,i){_i_("269:4fe6f982");var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity),_r_()},CVShapeElement.prototype.renderGradientFill=function(e,t,i){_i_("269:b066c572");var n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var r=this.globalData.canvasContext,a=t.s.v,o=t.e.v;if(1===e.t)d=r.createLinearGradient(a[0],a[1],o[0],o[1]);else var s=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)),_=Math.atan2(o[1]-a[1],o[0]-a[0]),l=s*(1<=t.h.v?.99:t.h.v<=-1?-.99:t.h.v),c=Math.cos(_+t.a.v)*l+a[0],h=Math.sin(_+t.a.v)*l+a[1],d=r.createRadialGradient(c,h,0,a[0],a[1],s);var f,u=e.g.p,p=t.g.c,m=1;for(f=0;f<u;f+=1)t.g._hasOpacity&&t.g._collapsable&&(m=t.g.o[2*f+1]),d.addColorStop(p[4*f]/100,"rgba("+p[4*f+1]+","+p[4*f+2]+","+p[4*f+3]+","+m+")");n.grd=d}n.coOp=t.o.v*i.opacity,_r_()},CVShapeElement.prototype.renderStroke=function(e,t,i){_i_("269:e6e5271b");var n=t.style,r=t.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*i.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v),_r_()},CVShapeElement.prototype.destroy=function(){_i_("269:0863ae80"),this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0,_r_()},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){_i_("269:d8f2bb4d");var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh),_r_()},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){_i_("269:7c527f7a");var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var i=!1;e.sc&&(i=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,r,a=this.globalData.fontManager.getFontByName(e.f),o=e.l,s=this.mHelper;this.stroke=i,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,r=e.finalText.length;var _,l,c,h,d,f,u,p,m,b,g=this.data.singleShape,v=e.tr/1e3*e.finalSize,y=0,M=0,w=!0,k=0;for(n=0;n<r;n+=1){for(l=(_=this.globalData.fontManager.getCharData(e.finalText[n],a.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&_.data||{},s.reset(),g&&o[n].n&&(y=-v,M+=e.yOffset,M+=w?1:0,w=!1),u=(d=l.shapes?l.shapes[0].it:[]).length,s.scale(e.finalSize/100,e.finalSize/100),g&&this.applyTextPropertiesToMatrix(e,s,o[n].line,y,M),m=createSizedArray(u),f=0;f<u;f+=1){for(h=d[f].ks.k.i.length,p=d[f].ks.k,b=[],c=1;c<h;c+=1)1==c&&b.push(s.applyToX(p.v[0][0],p.v[0][1],0),s.applyToY(p.v[0][0],p.v[0][1],0)),b.push(s.applyToX(p.o[c-1][0],p.o[c-1][1],0),s.applyToY(p.o[c-1][0],p.o[c-1][1],0),s.applyToX(p.i[c][0],p.i[c][1],0),s.applyToY(p.i[c][0],p.i[c][1],0),s.applyToX(p.v[c][0],p.v[c][1],0),s.applyToY(p.v[c][0],p.v[c][1],0));b.push(s.applyToX(p.o[c-1][0],p.o[c-1][1],0),s.applyToY(p.o[c-1][0],p.o[c-1][1],0),s.applyToX(p.i[0][0],p.i[0][1],0),s.applyToY(p.i[0][0],p.i[0][1],0),s.applyToX(p.v[0][0],p.v[0][1],0),s.applyToY(p.v[0][0],p.v[0][1],0)),m[f]=b}g&&(y+=o[n].l,y+=v),this.textSpans[k]?this.textSpans[k].elem=m:this.textSpans[k]={elem:m},k+=1}_r_()},CVTextElement.prototype.renderInnerContent=function(){_i_("269:d8a6beae");var e,t,i,n,r,a,o=this.canvasContext;this.finalTransform.mat.props;o.font=this.values.fValue,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,_=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;t=l.length;var c,h,d=null,f=null,u=null;for(e=0;e<t;e+=1){if(l[e].n)continue;if((s=_[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?d!==s.fc&&(d=s.fc,o.fillStyle=s.fc):d!==this.values.fill&&(d=this.values.fill,o.fillStyle=this.values.fill),n=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(h=c[i]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?u!==s.sw&&(u=s.sw,o.lineWidth=s.sw):u!==this.values.sWidth&&(u=this.values.sWidth,o.lineWidth=this.values.sWidth),s&&s.sc?f!==s.sc&&(f=s.sc,o.strokeStyle=s.sc):f!==this.values.stroke&&(f=this.values.stroke,o.strokeStyle=this.values.stroke),n=(c=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),i=0;i<n;i+=1)for(a=(h=c[i]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),r=2;r<a;r+=6)this.globalData.canvasContext.bezierCurveTo(h[r],h[r+1],h[r+2],h[r+3],h[r+4],h[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}_r_()},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){_i_("269:f0e7617b"),this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement),_r_()},createContainerElements:function(){_i_("269:e3c9cdbf"),this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode(),_r_()},renderElement:function(){_i_("269:73a7c370"),this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v),_r_()},renderFrame:function(){if(_i_("269:e7013197"),this.data.hd||this.hidden)return _r_();this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1),_r_()},destroy:function(){_i_("269:7d3e8c1a"),this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null),_r_()},createRenderableComponents:function(){_i_("269:a8733989"),this.maskManager=new MaskElement(this.data,this,this.globalData),_r_()},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;_i_("269:4fe8f18b"),this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e),_r_()},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){_i_("269:513efc29"),this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement,_r_()},HCompElement.prototype.addTo3dContainer=function(e,t){_i_("269:4e0a4ff2");for(var i,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(e,i):this.layerElement.appendChild(e),_r_()},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(_i_("269:0493e431"),this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e,_r_()},HShapeElement.prototype.getTransformedPoint=function(e,t){_i_("269:fa4ac7e1");var i,n=e.length;for(i=0;i<n;i+=1)t=e[i].mProps.v.applyToPointArray(t[0],t[1],0);return _r_(t)},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){_i_("269:32281705");var i,n,r,a,o,s=e.sh.v,_=e.transformers,l=s._length;if(l<=1)return _r_();for(i=0;i<l-1;i+=1)n=this.getTransformedPoint(_,s.v[i]),r=this.getTransformedPoint(_,s.o[i]),a=this.getTransformedPoint(_,s.i[i+1]),o=this.getTransformedPoint(_,s.v[i+1]),this.checkBounds(n,r,a,o,t);s.c&&(n=this.getTransformedPoint(_,s.v[i]),r=this.getTransformedPoint(_,s.o[i]),a=this.getTransformedPoint(_,s.i[0]),o=this.getTransformedPoint(_,s.v[0]),this.checkBounds(n,r,a,o,t)),_r_()},HShapeElement.prototype.checkBounds=function(e,t,i,n,r){_i_("269:06075d01"),this.getBoundsOfCurve(e,t,i,n);var a=this.shapeBoundingBox;r.x=bm_min(a.left,r.x),r.xMax=bm_max(a.right,r.xMax),r.y=bm_min(a.top,r.y),r.yMax=bm_max(a.bottom,r.yMax),_r_()},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,i,n){_i_("269:2e2a5c36");for(var r,a,o,s,_,l,c,h=[[e[0],n[0]],[e[1],n[1]]],d=0;d<2;++d){if(a=6*e[d]-12*t[d]+6*i[d],r=-3*e[d]+9*t[d]-9*i[d]+3*n[d],o=3*t[d]-3*e[d],a|=0,o|=0,0===(r|=0)){if(0===a)continue;0<(s=-o/a)&&s<1&&h[d].push(this.calculateF(s,e,t,i,n,d));continue}if((_=a*a-4*o*r)<0)continue;0<(l=(-a+bm_sqrt(_))/(2*r))&&l<1&&h[d].push(this.calculateF(l,e,t,i,n,d)),0<(c=(-a-bm_sqrt(_))/(2*r))&&c<1&&h[d].push(this.calculateF(c,e,t,i,n,d))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1]),_r_()},HShapeElement.prototype.calculateF=function(e,t,i,n,r,a){return _i_("269:2009144e"),_r_(bm_pow(1-e,3)*t[a]+3*bm_pow(1-e,2)*e*i[a]+3*(1-e)*bm_pow(e,2)*n[a]+bm_pow(e,3)*r[a])},HShapeElement.prototype.calculateBoundingBox=function(e,t){_i_("269:99be9a29");var i,n=e.length;for(i=0;i<n;i+=1)e[i]&&e[i].sh?this.calculateShapeBoundingBox(e[i],t):e[i]&&e[i].it&&this.calculateBoundingBox(e[i].it,t);_r_()},HShapeElement.prototype.currentBoxContains=function(e){return _i_("269:e522e60b"),_r_(this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height)},HShapeElement.prototype.renderInnerContent=function(){if(_i_("269:c945f8ec"),this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return _r_();var i=!1;this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),i=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),i=!0),(i||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y)&&(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}_r_()},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(_i_("269:76a43e50"),this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting(),_r_()},HTextElement.prototype.buildNewText=function(){_i_("269:2e62c6af");var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i,n,r=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",r.fClass)this.innerElem.className=r.fClass;else{t.fontFamily=r.fFamily;var a=e.fWeight,o=e.fStyle;t.fontStyle=o,t.fontWeight=a}var s,_,l,c=e.l;n=c.length;var h,d=this.mHelper,f="",u=0;for(i=0;i<n;i+=1){if(this.globalData.fontManager.chars?(this.textPaths[u]?s=this.textPaths[u]:((s=createNS("path")).setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[u]?l=(_=this.textSpans[u]).children[0]:((_=createTag("div")).style.lineHeight=0,(l=createNS("svg")).appendChild(s),styleDiv(_)))):this.isMasked?s=this.textPaths[u]?this.textPaths[u]:createNS("text"):this.textSpans[u]?(_=this.textSpans[u],s=this.textPaths[u]):(styleDiv(_=createTag("span")),styleDiv(s=createTag("span")),_.appendChild(s)),this.globalData.fontManager.chars){var p,m=this.globalData.fontManager.getCharData(e.finalText[i],r.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(p=m?m.data:null,d.reset(),p&&p.shapes&&(h=p.shapes[0].it,d.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(d,h),s.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(s);else{if(this.innerElem.appendChild(_),p&&p.shapes){document.body.appendChild(l);var b=l.getBBox();l.setAttribute("width",b.width+2),l.setAttribute("height",b.height+2),l.setAttribute("viewBox",b.x-1+" "+(b.y-1)+" "+(b.width+2)+" "+(b.height+2)),l.style.transform=l.style.webkitTransform="translate("+(b.x-1)+"px,"+(b.y-1)+"px)",c[i].yOffset=b.y-1}else l.setAttribute("width",1),l.setAttribute("height",1);_.appendChild(l)}}else s.textContent=c[i].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(_),s.style.transform=s.style.webkitTransform="translate3d(0,"+-e.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[u]=s:this.textSpans[u]=_,this.textSpans[u].style.display="block",this.textPaths[u]=s,u+=1}for(;u<this.textSpans.length;)this.textSpans[u].style.display="none",u+=1;_r_()},HTextElement.prototype.renderInnerContent=function(){if(_i_("269:1add3658"),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return _r_();this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)return _r_();var e,t,i,n,r,a=0,o=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1){if(s[e].n){a+=1;continue}n=this.textSpans[e],r=this.textPaths[e],i=o[a],a+=1,i._mdf.m&&(this.isMasked?n.setAttribute("transform",i.m):n.style.transform=n.style.webkitTransform=i.m),n.style.opacity=i.o,i.sw&&i._mdf.sw&&r.setAttribute("stroke-width",i.sw),i.sc&&i._mdf.sc&&r.setAttribute("stroke",i.sc),i.fc&&i._mdf.fc&&(r.setAttribute("fill",i.fc),r.style.color=i.fc)}if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var _=this.innerElem.getBBox();this.currentBBox.w!==_.width&&(this.currentBBox.w=_.width,this.svgElement.setAttribute("width",_.width)),this.currentBBox.h!==_.height&&(this.currentBBox.h=_.height,this.svgElement.setAttribute("height",_.height));this.currentBBox.w===_.width+2&&this.currentBBox.h===_.height+2&&this.currentBBox.x===_.x-1&&this.currentBBox.y===_.y-1||(this.currentBBox.w=_.width+2,this.currentBBox.h=_.height+2,this.currentBBox.x=_.x-1,this.currentBBox.y=_.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}_r_()},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){_i_("269:d902efc3");var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln),_r_()},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){_i_("269:79469774");var e,t,i=this.comp.threeDElements.length;for(e=0;e<i;e+=1)"3d"===(t=this.comp.threeDElements[e]).type&&(t.perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)");_r_()},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){_i_("269:3d66b61d");var e,t,i=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)i=this.hierarchy[e].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;0<=e;e-=1){var n=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]],a=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)+Math.pow(r[2],2)),o=[r[0]/a,r[1]/a,r[2]/a],s=Math.sqrt(o[2]*o[2]+o[0]*o[0]),_=Math.atan2(o[1],s),l=Math.atan2(o[0],-o[2]);this.mat.rotateY(l).rotateX(-_)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var c=!this._prevMat.equals(this.mat);if((c||this.pe._mdf)&&this.comp.threeDElements){var h;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)"3d"===(h=this.comp.threeDElements[e]).type&&(c&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1,_r_()},HCameraElement.prototype.prepareFrame=function(e){_i_("269:fef142bb1"),this.prepareProperties(e,!0),_r_()},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return _i_("269:c768a69c1"),_r_(null)},HEffects.prototype.renderFrame=function(){};var animationManager=function(){_i_("269:68f278cb");var e={},r=[],n=0,a=0,o=0,s=!0,_=!1;function i(e){_i_("269:3e223df5");for(var t=0,i=e.target;t<a;)r[t].animation===i&&(r.splice(t,1),t-=1,a-=1,i.isPaused||h()),t+=1;_r_()}function l(e,t){if(_i_("269:05504a4c"),!e)return _r_(null);for(var i=0;i<a;){if(r[i].elem==e&&null!==r[i].elem)return _r_(r[i].animation);i+=1}var n=new AnimationItem;return d(n,e),n.setData(e,t),_r_(n)}function c(){_i_("269:8ecd07e3"),o+=1,u(),_r_()}function h(){_i_("269:eb56be7f"),o-=1,_r_()}function d(e,t){_i_("269:5d34650f"),e.addEventListener("destroy",i),e.addEventListener("_active",c),e.addEventListener("_idle",h),r.push({elem:t,animation:e}),a+=1,_r_()}function f(e){_i_("269:34405a6a");var t,i=e-n;for(t=0;t<a;t+=1)r[t].animation.advanceTime(i);n=e,o&&!_?window.requestAnimationFrame(f):s=!0,_r_()}function t(e){_i_("269:ccd705c7"),n=e,window.requestAnimationFrame(f),_r_()}function u(){_i_("269:0647683a"),!_&&o&&s&&(window.requestAnimationFrame(t),s=!1),_r_()}return e.registerAnimation=l,e.loadAnimation=function(e){_i_("269:bd2aa205");var t=new AnimationItem;return d(t,null),t.setParams(e),_r_(t)},e.setSpeed=function(e,t){var i;for(_i_("269:b38273a0"),i=0;i<a;i+=1)r[i].animation.setSpeed(e,t);_r_()},e.setDirection=function(e,t){var i;for(_i_("269:d72e29fd"),i=0;i<a;i+=1)r[i].animation.setDirection(e,t);_r_()},e.play=function(e){var t;for(_i_("269:8ee9b79a"),t=0;t<a;t+=1)r[t].animation.play(e);_r_()},e.pause=function(e){var t;for(_i_("269:8d639998"),t=0;t<a;t+=1)r[t].animation.pause(e);_r_()},e.stop=function(e){var t;for(_i_("269:e3f3d637"),t=0;t<a;t+=1)r[t].animation.stop(e);_r_()},e.togglePause=function(e){var t;for(_i_("269:f6feeea2"),t=0;t<a;t+=1)r[t].animation.togglePause(e);_r_()},e.searchAnimations=function(e,t,i){_i_("269:f565a573");var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=r.length;for(n=0;n<a;n+=1)i&&r[n].setAttribute("data-bm-type",i),l(r[n],e);if(t&&0===a){i||(i="svg");var o=document.getElementsByTagName("body")[0];o.innerHTML="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",i),o.appendChild(s),l(s,e)}_r_()},e.resize=function(){var e;for(_i_("269:b97a69bf"),e=0;e<a;e+=1)r[e].animation.resize();_r_()},e.goToAndStop=function(e,t,i){var n;for(_i_("269:366581b9"),n=0;n<a;n+=1)r[n].animation.goToAndStop(e,t,i);_r_()},e.destroy=function(e){var t;for(_i_("269:793bc424"),t=a-1;0<=t;t-=1)r[t].animation.destroy(e);_r_()},e.freeze=function(){_i_("269:65c61794"),_=!0,_r_()},e.unfreeze=function(){_i_("269:2bd87749"),_=!1,u(),_r_()},e.getRegisteredAnimations=function(){_i_("269:68d03a5d");var e,t=r.length,i=[];for(e=0;e<t;e+=1)i.push(r[e].animation);return _r_(i)},_r_(e)}(),AnimationItem=function(){_i_("269:e66e03b7"),this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,_r_()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){_i_("269:706c1f04"),e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||(!1===e.loop?this.loop=!1:!0===e.loop?this.loop=!0:this.loop=parseInt(e.loop)),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,e.animationData?this.configAnimation(e.animationData):e.path&&("json"!=e.path.substr(-4)&&("/"!=e.path.substr(-1,1)&&(e.path+="/"),e.path+="data.json"),-1!=e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){_i_("269:ba2489f4"),this.trigger("data_failed"),_r_()}.bind(this))),_r_()},AnimationItem.prototype.setData=function(e,t){_i_("269:2ecfa509");var i={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},n=e.attributes;i.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",i.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var r=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";""===r||(i.loop="false"!==r&&("true"===r||parseInt(r)));var a=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;i.autoplay="false"!==a,i.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i),_r_()},AnimationItem.prototype.includeLayers=function(e){_i_("269:71e02c75"),e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,i,n=this.animationData.layers,r=n.length,a=e.layers,o=a.length;for(i=0;i<o;i+=1)for(t=0;t<r;){if(n[t].id==a[i].id){n[t]=a[i];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(r=e.assets.length,t=0;t<r;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment(),_r_()},AnimationItem.prototype.loadNextSegment=function(){_i_("269:a4ccd0b7");var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),this.timeCompleted=this.totalFrames,_r_();var t=e.shift();this.timeCompleted=t.time*this.frameRate;var i=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(i,this.includeLayers.bind(this),function(){_i_("269:409c351b"),this.trigger("data_failed"),_r_()}.bind(this)),_r_()},AnimationItem.prototype.loadSegments=function(){_i_("269:196997f8"),this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment(),_r_()},AnimationItem.prototype.imagesLoaded=function(){_i_("269:9ba75b28"),this.trigger("loaded_images"),this.checkLoaded(),_r_()},AnimationItem.prototype.preloadImages=function(){_i_("269:a472cc6f"),this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this)),_r_()},AnimationItem.prototype.configAnimation=function(e){if(_i_("269:f9c9c9ce"),!this.renderer)return _r_();this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.renderer.searchExtraCompositions(e.assets),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),_r_()},AnimationItem.prototype.waitForFontsLoaded=function(){if(_i_("269:fca0e8e5"),!this.renderer)return _r_();this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20),_r_()},AnimationItem.prototype.checkLoaded=function(){_i_("269:b9c6c016"),this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){_i_("269:5a86cbad"),this.trigger("DOMLoaded"),_r_()}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()),_r_()},AnimationItem.prototype.resize=function(){_i_("269:fd5bd309"),this.renderer.updateContainerSize(),_r_()},AnimationItem.prototype.setSubframe=function(e){_i_("269:85530068"),this.subframeEnabled=!!e,_r_()},AnimationItem.prototype.gotoFrame=function(){_i_("269:b32a5ae8"),this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),_r_()},AnimationItem.prototype.renderFrame=function(){if(_i_("269:e2dba2cc"),!1===this.isLoaded)return _r_();this.renderer.renderFrame(this.currentFrame+this.firstFrame),_r_()},AnimationItem.prototype.play=function(e){if(_i_("269:65e2de33"),e&&this.name!=e)return _r_();!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active"))),_r_()},AnimationItem.prototype.pause=function(e){if(_i_("269:3357a5d5"),e&&this.name!=e)return _r_();!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle")),_r_()},AnimationItem.prototype.togglePause=function(e){if(_i_("269:d50524d6"),e&&this.name!=e)return _r_();!0===this.isPaused?this.play():this.pause(),_r_()},AnimationItem.prototype.stop=function(e){if(_i_("269:55158a35"),e&&this.name!=e)return _r_();this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0),_r_()},AnimationItem.prototype.goToAndStop=function(e,t,i){if(_i_("269:30a8514d"),i&&this.name!=i)return _r_();t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier),this.pause(),_r_()},AnimationItem.prototype.goToAndPlay=function(e,t,i){_i_("269:6a9c32b7"),this.goToAndStop(e,t,i),this.play(),_r_()},AnimationItem.prototype.advanceTime=function(e){if(_i_("269:63621b85"),!0===this.isPaused||!1===this.isLoaded)return _r_();var t=this.currentRawFrame+e*this.frameModifier,i=!1;t>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(i=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(i=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),i&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete")),_r_()},AnimationItem.prototype.adjustSegment=function(e,t){_i_("269:012c1493"),this.playCount=0,e[1]<e[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart"),_r_()},AnimationItem.prototype.setSegment=function(e,t){_i_("269:fc9dbfa3");var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?i=e:this.currentRawFrame+this.firstFrame>t&&(i=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==i&&this.goToAndStop(i,!0),_r_()},AnimationItem.prototype.playSegments=function(e,t){if(_i_("269:d1a5d3e1"),t&&(this.segments.length=0),"object"==typeof e[0]){var i,n=e.length;for(i=0;i<n;i+=1)this.segments.push(e[i])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play(),_r_()},AnimationItem.prototype.resetSegments=function(e){_i_("269:7095c6f1"),this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0),_r_()},AnimationItem.prototype.checkSegments=function(e){if(_i_("269:9762071b"),this.segments.length)return this.adjustSegment(this.segments.shift(),e),_r_(!0);return _r_(!1)},AnimationItem.prototype.destroy=function(e){if(_i_("269:f689ff53"),e&&this.name!=e||!this.renderer)return _r_();this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null,_r_()},AnimationItem.prototype.setCurrentRawFrameValue=function(e){_i_("269:f822422f"),this.currentRawFrame=e,this.gotoFrame(),_r_()},AnimationItem.prototype.setSpeed=function(e){_i_("269:0a79a508"),this.playSpeed=e,this.updaFrameModifier(),_r_()},AnimationItem.prototype.setDirection=function(e){_i_("269:43774b18"),this.playDirection=e<0?-1:1,this.updaFrameModifier(),_r_()},AnimationItem.prototype.updaFrameModifier=function(){_i_("269:834129dd"),this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,_r_()},AnimationItem.prototype.getPath=function(){return _i_("269:5b374028"),_r_(this.path)},AnimationItem.prototype.getAssetsPath=function(e){_i_("269:ac03ea8d");var t="";if(e.e)t=e.p;else if(this.assetsPath){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),t=this.assetsPath+i}else t=this.path,t+=e.u?e.u:"",t+=e.p;return _r_(t)},AnimationItem.prototype.getAssetData=function(e){_i_("269:1bb525fd");for(var t=0,i=this.assets.length;t<i;){if(e==this.assets[t].id)return _r_(this.assets[t]);t+=1}_r_()},AnimationItem.prototype.hide=function(){_i_("269:6a6c2674"),this.renderer.hide(),_r_()},AnimationItem.prototype.show=function(){_i_("269:0f87a9ea"),this.renderer.show(),_r_()},AnimationItem.prototype.getDuration=function(e){return _i_("269:51085f7e"),_r_(e?this.totalFrames:this.totalFrames/this.frameRate)},AnimationItem.prototype.trigger=function(e){if(_i_("269:fcc77a16"),this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this)),_r_()};var Expressions=function(){_i_("269:a93a8a30");var e={};return e.initExpressions=function(e){_i_("269:4422706f");var t=0,i=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){_i_("269:09490afa"),t+=1,_r_()},e.renderer.globalData.popExpression=function(){_i_("269:94cd8d3e"),0==(t-=1)&&function(){_i_("269:67352641");var e,t=i.length;for(e=0;e<t;e+=1)i[e].release();i.length=0,_r_()}();_r_()},e.renderer.globalData.registerExpressionProperty=function(e){_i_("269:68379751"),-1===i.indexOf(e)&&i.push(e);_r_()},_r_()},_r_(e)}();expressionsPlugin=Expressions;var ExpressionManager=function(){_i_("269:b768277d");var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return _i_("269:f4193676"),_r_(e.constructor===Array||e.constructor===Float32Array)}function isNumerable(e,t){return _i_("269:e30cb973"),_r_("number"===e||"boolean"===e||"string"===e||t instanceof Number)}function $bm_neg(e){_i_("269:70483388");var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return _r_(-e);if($bm_isInstanceOfArray(e)){var i,n=e.length,r=[];for(i=0;i<n;i+=1)r[i]=-e[i];return _r_(r)}if(e.propType)return _r_(e.v);_r_()}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){_i_("269:b99c5112");var i=typeof e,n=typeof t;if("string"===i||"string"===n)return _r_(e+t);if(isNumerable(i,e)&&isNumerable(n,t))return _r_(e+t);if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]=e[0]+t,_r_(e);if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],_r_(t);if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]+t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return _r_(s)}return _r_(0)}var add=sum;function sub(e,t){_i_("269:7e40cc64");var i=typeof e,n=typeof t;if(isNumerable(i,e)&&isNumerable(n,t))return"string"===i&&(e=parseInt(e)),"string"===n&&(t=parseInt(t)),_r_(e-t);if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]=e[0]-t,_r_(e);if(isNumerable(i,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],_r_(t);if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var r=0,a=e.length,o=t.length,s=[];r<a||r<o;)("number"==typeof e[r]||e[r]instanceof Number)&&("number"==typeof t[r]||t[r]instanceof Number)?s[r]=e[r]-t[r]:s[r]=void 0===t[r]?e[r]:e[r]||t[r],r+=1;return _r_(s)}return _r_(0)}function mul(e,t){_i_("269:c23beb23");var i,n,r,a=typeof e,o=typeof t;if(isNumerable(a,e)&&isNumerable(o,t))return _r_(e*t);if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e[n]*t;return _r_(i)}if(isNumerable(a,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e*t[n];return _r_(i)}return _r_(0)}function div(e,t){_i_("269:b9ea6cee");var i,n,r,a=typeof e,o=typeof t;if(isNumerable(a,e)&&isNumerable(o,t))return _r_(e/t);if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e[n]/t;return _r_(i)}if(isNumerable(a,e)&&$bm_isInstanceOfArray(t)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=e/t[n];return _r_(i)}return _r_(0)}function mod(e,t){return _i_("269:323d63c4"),"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),_r_(e%t)}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,i){if(_i_("269:ea95da22"),i<t){var n=i;i=t,t=n}return _r_(Math.min(Math.max(e,t),i))}function radiansToDegrees(e){return _i_("269:2fce8980"),_r_(e/degToRads)}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return _i_("269:dd76a534"),_r_(e*degToRads)}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if(_i_("269:831abc47"),"number"==typeof e||e instanceof Number)return t=t||0,_r_(Math.abs(e-t));t||(t=helperLengthArray);var i,n=Math.min(e.length,t.length),r=0;for(i=0;i<n;i+=1)r+=Math.pow(t[i]-e[i],2);return _r_(Math.sqrt(r))}function normalize(e){return _i_("269:e2711f12"),_r_(div(e,length(e)))}function rgbToHsl(e){_i_("269:86abbe2e");var t,i,n=e[0],r=e[1],a=e[2],o=Math.max(n,r,a),s=Math.min(n,r,a),_=(o+s)/2;if(o==s)t=i=0;else{var l=o-s;switch(i=.5<_?l/(2-o-s):l/(o+s),o){case n:t=(r-a)/l+(r<a?6:0);break;case r:t=(a-n)/l+2;break;case a:t=(n-r)/l+4}t/=6}return _r_([t,i,_,e[3]])}function hue2rgb(e,t,i){if(_i_("269:925ed07f"),i<0&&(i+=1),1<i&&(i-=1),i<1/6)return _r_(e+6*(t-e)*i);if(i<.5)return _r_(t);if(i<2/3)return _r_(e+(t-e)*(2/3-i)*6);return _r_(e)}function hslToRgb(e){_i_("269:3bec2302");var t,i,n,r=e[0],a=e[1],o=e[2];if(0===a)t=i=n=o;else{var s=o<.5?o*(1+a):o+a-o*a,_=2*o-s;t=hue2rgb(_,s,r+1/3),i=hue2rgb(_,s,r),n=hue2rgb(_,s,r-1/3)}return _r_([t,i,n,e[3]])}function linear(e,t,i,n,r){if(_i_("269:a8157c60"),void 0!==n&&void 0!==r||(n=t,r=i,t=0,i=1),i<t){var a=i;i=t,t=a}if(e<=t)return _r_(n);if(i<=e)return _r_(r);var o=i===t?0:(e-t)/(i-t);if(!n.length)return _r_(n+(r-n)*o);var s,_=n.length,l=createTypedArray("float32",_);for(s=0;s<_;s+=1)l[s]=n[s]+(r[s]-n[s])*o;return _r_(l)}function random(e,t){if(_i_("269:3049f742"),void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var i,n=t.length;e||(e=createTypedArray("float32",n));var r=createTypedArray("float32",n),a=BMMath.random();for(i=0;i<n;i+=1)r[i]=e[i]+a*(t[i]-e[i]);return _r_(r)}void 0===e&&(e=0);var o=BMMath.random();return _r_(e+o*(t-e))}function createPath(e,t,i,n){_i_("269:c5470b4d");var r,a=e.length,o=shape_pool.newElement();o.setPathData(!!n,a);var s,_,l=[0,0];for(r=0;r<a;r+=1)s=t&&t[r]?t[r]:l,_=i&&i[r]?i[r]:l,o.setTripleAt(e[r][0],e[r][1],_[0]+e[r][0],_[1]+e[r][1],s[0]+e[r][0],s[1]+e[r][1],r,!0);return _r_(o)}function initiateExpression(elem,data,property){_i_("269:4c77c033");var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return _i_("269:9ac49ac3"),_r_(thisProperty.v)}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){_i_("269:89a29c1a");var i,n,r=this.pv.length?this.pv.length:1,a=createTypedArray("float32",r);var o=Math.floor(5*time);for(n=i=0;i<o;){for(n=0;n<r;n+=1)a[n]+=-t+2*t*BMMath.random();i+=1}var s=5*time,_=s-Math.floor(s),l=createTypedArray("float32",r);if(1<r){for(n=0;n<r;n+=1)l[n]=this.pv[n]+a[n]+(-t+2*t*BMMath.random())*_;return _r_(l)}return _r_(this.pv+a[0]+(-t+2*t*BMMath.random())*_)}.bind(this);function loopInDuration(e,t){return _i_("269:b9985976"),_r_(loopIn(e,t,!0))}function loopOutDuration(e,t){return _i_("269:5f038943"),_r_(loopOut(e,t,!0))}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){_i_("269:a3adfa6d");var i=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],n=Math.atan2(i[0],Math.sqrt(i[1]*i[1]+i[2]*i[2]))/degToRads,r=-Math.atan2(i[1],i[2])/degToRads;return _r_([r,n,0])}function easeOut(e,t,i,n,r){return _i_("269:9e10c21b"),_r_(applyEase(easeOutBez,e,t,i,n,r))}function easeIn(e,t,i,n,r){return _i_("269:553b045c"),_r_(applyEase(easeInBez,e,t,i,n,r))}function ease(e,t,i,n,r){return _i_("269:29d343c8"),_r_(applyEase(easeInOutBez,e,t,i,n,r))}function applyEase(e,t,i,n,r,a){_i_("269:ea7806ea"),void 0===r?(r=i,a=n):t=(t-i)/(n-i);var o=e(t=1<t?1:t<0?0:t);if($bm_isInstanceOfArray(r)){var s,_=r.length,l=createTypedArray("float32",_);for(s=0;s<_;s+=1)l[s]=(a[s]-r[s])*o+r[s];return _r_(l)}return _r_((a-r)*o+r)}function nearestKey(e){_i_("269:86d318bf");var t,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(t=0;t<r-1;t+=1){if(e===data.k[t].t){i=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(i=t+2,n=data.k[t+1].t):(i=t+1,n=data.k[t].t);break}}-1===i&&(i=t+1,n=data.k[t].t)}else n=i=0;var a={};return a.index=i,a.time=n/elem.comp.globalData.frameRate,_r_(a)}function key(e){var t,i,n,r;if(_i_("269:ee8a6b33"),!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);for(e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]},n=(r=e!==data.k.length-1||data.k[e].h?data.k[e].s:data.k[e].s||0===data.k[e].s?data.k[e-1].s:data.k[e].e).length,i=0;i<n;i+=1)t[i]=r[i],t.value[i]=r[i];return _r_(t)}function framesToTime(e,t){return _i_("269:266b90c5"),t||(t=elem.comp.globalData.frameRate),_r_(e/t)}function timeToFrames(e,t){return _i_("269:9f49264f"),e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),_r_(e*t)}function seedRandom(e){_i_("269:0b515e05"),BMMath.seedrandom(randSeed+e),_r_()}function sourceRectAtTime(){return _i_("269:802f5df6"),_r_(elem.sourceRectAtTime())}function substring(e,t){if(_i_("269:9989f57b"),"string"==typeof value){if(void 0===t)return _r_(value.substring(e));return _r_(value.substring(e,t))}return _r_("")}function substr(e,t){if(_i_("269:dd5468ae"),"string"==typeof value){if(void 0===t)return _r_(value.substr(e));return _r_(value.substr(e,t))}return _r_("")}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){if(_i_("269:4bf32b53"),value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType)return _r_(value);return"textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),_r_(scoped_bm_rt)}return _r_(executeExpression)}return ob.initiateExpression=initiateExpression,_r_(ob)}(),expressionHelpers=(_i_("269:f7743dd6"),_r_({searchExpressions:function(e,t,i){_i_("269:55a0d6af"),t.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(e,t,i).bind(i))),_r_()},getSpeedAtTime:function(e){_i_("269:a574393c");var t=this.getValueAtTime(e),i=this.getValueAtTime(e+-.01),n=0;if(t.length){var r;for(r=0;r<t.length;r+=1)n+=Math.pow(i[r]-t[r],2);n=100*Math.sqrt(n)}else n=0;return _r_(n)},getVelocityAtTime:function(e){if(_i_("269:a12536eb"),void 0!==this.vel)return _r_(this.vel);var t,i,n=this.getValueAtTime(e),r=this.getValueAtTime(e+-.001);if(n.length)for(t=createTypedArray("float32",n.length),i=0;i<n.length;i+=1)t[i]=(r[i]-n[i])/-.001;else t=(r-n)/-.001;return _r_(t)},getValueAtTime:function(e){return _i_("269:a4afd5501"),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),_r_(this._cachingAtTime.value)},getStaticValueAtTime:function(){return _i_("269:14fc18a3"),_r_(this.pv)},setGroupProperty:function(e){_i_("269:9a32d29f"),this.propertyGroup=e,_r_()}}));!function(){function s(e,t,i){if(_i_("269:dfff7bff"),!this.k||!this.keyframes)return _r_(this.pv);e=e?e.toLowerCase():"";var n,r,a,o,s,_=this.comp.renderedFrame,l=this.keyframes,c=l[l.length-1].t;if(_<=c)return _r_(this.pv);if(i?r=c-(n=t?Math.abs(c-elem.comp.globalData.frameRate*t):Math.max(0,c-this.elem.data.ip)):((!t||t>l.length-1)&&(t=l.length-1),n=c-(r=l[l.length-1-t].t)),"pingpong"===e){if(Math.floor((_-r)/n)%2!=0)return _r_(this.getValueAtTime((n-(_-r)%n+r)/this.comp.globalData.frameRate,0))}else{if("offset"===e){var h=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime(c/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((_-r)%n+r)/this.comp.globalData.frameRate,0),u=Math.floor((_-r)/n);if(this.pv.length){for(o=(s=new Array(h.length)).length,a=0;a<o;a+=1)s[a]=(d[a]-h[a])*u+f[a];return _r_(s)}return _r_((d-h)*u+f)}if("continue"===e){var p=this.getValueAtTime(c/this.comp.globalData.frameRate,0),m=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(p.length)).length,a=0;a<o;a+=1)s[a]=p[a]+(p[a]-m[a])*((_-c)/this.comp.globalData.frameRate)/5e-4;return _r_(s)}return _r_(p+(_-c)/.001*(p-m))}}return _r_(this.getValueAtTime(((_-r)%n+r)/this.comp.globalData.frameRate,0))}function _(e,t,i){if(_i_("269:5f10e087"),!this.k)return _r_(this.pv);e=e?e.toLowerCase():"";var n,r,a,o,s,_=this.comp.renderedFrame,l=this.keyframes,c=l[0].t;if(c<=_)return _r_(this.pv);if(i?r=c+(n=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-c)):((!t||t>l.length-1)&&(t=l.length-1),n=(r=l[t].t)-c),"pingpong"===e){if(Math.floor((c-_)/n)%2==0)return _r_(this.getValueAtTime(((c-_)%n+c)/this.comp.globalData.frameRate,0))}else{if("offset"===e){var h=this.getValueAtTime(c/this.comp.globalData.frameRate,0),d=this.getValueAtTime(r/this.comp.globalData.frameRate,0),f=this.getValueAtTime((n-(c-_)%n+c)/this.comp.globalData.frameRate,0),u=Math.floor((c-_)/n)+1;if(this.pv.length){for(o=(s=new Array(h.length)).length,a=0;a<o;a+=1)s[a]=f[a]-(d[a]-h[a])*u;return _r_(s)}return _r_(f-(d-h)*u)}if("continue"===e){var p=this.getValueAtTime(c/this.comp.globalData.frameRate,0),m=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(s=new Array(p.length)).length,a=0;a<o;a+=1)s[a]=p[a]+(p[a]-m[a])*(c-_)/.001;return _r_(s)}return _r_(p+(p-m)*(c-_)/.001)}}return _r_(this.getValueAtTime((n-(c-_)%n+c)/this.comp.globalData.frameRate,0))}function l(e,t){if(_i_("269:f91f0669"),!this.k)return _r_(this.pv);if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return _r_(this.pv);var i,n,r=this.comp.renderedFrame/this.comp.globalData.frameRate,a=r-e,o=1<t?(r+e-a)/(t-1):1,s=0,_=0;for(i=this.pv.length?createTypedArray("float32",this.pv.length):0;s<t;){if(n=this.getValueAtTime(a+s*o),this.pv.length)for(_=0;_<this.pv.length;_+=1)i[_]+=n[_];else i+=n;s+=1}if(this.pv.length)for(_=0;_<this.pv.length;_+=1)i[_]/=t;else i/=t;return _r_(i)}_i_("269:d1b0209d");var r=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,i){_i_("269:1fa18723");var n=r(e,t,i);return n.dynamicProperties.length?n.getValueAtTime=function(e){_i_("269:b3fb79d2"),console.warn("Transform at time not supported"),_r_()}.bind(n):n.getValueAtTime=function(e){}.bind(n),n.setGroupProperty=expressionHelpers.setGroupProperty,_r_(n)};var c=PropertyFactory.getProp;PropertyFactory.getProp=function(e,t,i,n,r){_i_("269:e89e0215");var a=c(e,t,i,n,r);a.kf?a.getValueAtTime=expressionHelpers.getValueAtTime.bind(a):a.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a.loopOut=s,a.loopIn=_,a.smooth=l,a.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(a),a.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(a),a.numKeys=1===t.a?t.k.length:0,a.propertyIndex=t.ix;var o=0;return 0!==i&&(o=createTypedArray("float32",1===t.a?t.k[0].s.length:t.k.length)),a._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:o},expressionHelpers.searchExpressions(e,t,a),a.k&&r.addDynamicProperty(a),_r_(a)};var e=ShapePropertyFactory.getConstructorFunction(),t=ShapePropertyFactory.getKeyframedConstructorFunction();function i(){}i.prototype={vertices:function(e,t){_i_("269:72eb7394"),this.k&&this.getValue();var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0));var n,r=i._length,a=i[e],o=i.v,s=createSizedArray(r);for(n=0;n<r;n+=1)s[n]="i"===e||"o"===e?[a[n][0]-o[n][0],a[n][1]-o[n][1]]:[a[n][0],a[n][1]];return _r_(s)},points:function(e){return _i_("269:3d65cb5d"),_r_(this.vertices("v",e))},inTangents:function(e){return _i_("269:08ba982f"),_r_(this.vertices("i",e))},outTangents:function(e){return _i_("269:2e040fe7"),_r_(this.vertices("o",e))},isClosed:function(){return _i_("269:2c9126a6"),_r_(this.v.c)},pointOnPath:function(e,t){_i_("269:1aac93e4");var i=this.v;void 0!==t&&(i=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var n,r=this._segmentsLength,a=r.lengths,o=r.totalLength*e,s=0,_=a.length,l=0;s<_;){if(l+a[s].addedLength>o){var c=s,h=i.c&&s===_-1?0:s+1,d=(o-l)/a[s].addedLength;n=bez.getPointInSegment(i.v[c],i.v[h],i.o[c],i.i[h],d,a[s]);break}l+=a[s].addedLength,s+=1}return n||(n=i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]]),_r_(n)},vectorOnPath:function(e,t,i){_i_("269:4eb4e5b4"),e=1==e?this.v.c?0:.999:e;var n=this.pointOnPath(e,t),r=this.pointOnPath(e+.001,t),a=r[0]-n[0],o=r[1]-n[1],s=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));if(0===s)return _r_([0,0]);return _r_("tangent"===i?[a/s,o/s]:[-o/s,a/s])},tangentOnPath:function(e,t){return _i_("269:c8e8c9cc"),_r_(this.vectorOnPath(e,t,"tangent"))},normalOnPath:function(e,t){return _i_("269:68b647b8"),_r_(this.vectorOnPath(e,t,"normal"))},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([i],e),extendPrototype([i],t),t.prototype.getValueAtTime=function(e){return _i_("269:f4014069"),this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),_r_(this._cachingAtTime.shapeValue)},t.prototype.initiateExpression=ExpressionManager.initiateExpression;var o=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,i,n,r){_i_("269:00780ead");var a=o(e,t,i,n,r);return a.propertyIndex=t.ix,a.lock=!1,3===i?expressionHelpers.searchExpressions(e,t.pt,a):4===i&&expressionHelpers.searchExpressions(e,t.ks,a),a.k&&e.addDynamicProperty(a),_r_(a)},_r_()}(),_i_("269:c4a99927"),TextProperty.prototype.getExpressionValue=function(e,t){_i_("269:15ecbf89");var i=this.calculateExpression(t);if(e.t!==i){var n={};return this.copyData(n,e),n.t=i.toString(),n.__complete=!1,_r_(n)}return _r_(e)},TextProperty.prototype.searchProperty=function(){_i_("269:b63145d0");var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,_r_(this.kf)},TextProperty.prototype.searchExpressions=function(){if(_i_("269:12c15a1c"),this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),_r_(!0);_r_()},_r_();var ShapeExpressionInterface=function(){function o(e,t,i){_i_("269:8f4e7974");var n,r=[],a=e?e.length:0;for(n=0;n<a;n+=1)"gr"==e[n].ty?r.push(s(e[n],t[n],i)):"fl"==e[n].ty?r.push(_(e[n],t[n],i)):"st"==e[n].ty?r.push(l(e[n],t[n],i)):"tm"==e[n].ty?r.push(c(e[n],t[n],i)):"tr"==e[n].ty||("el"==e[n].ty?r.push(h(e[n],t[n],i)):"sr"==e[n].ty?r.push(d(e[n],t[n],i)):"sh"==e[n].ty?r.push(m(e[n],t[n],i)):"rc"==e[n].ty?r.push(f(e[n],t[n],i)):"rd"==e[n].ty?r.push(u(e[n],t[n],i)):"rp"==e[n].ty&&r.push(p(e[n],t[n],i)));return _r_(r)}function s(e,t,i){_i_("269:98113836");var n=function(e){switch(_i_("269:625f3d74"),e){case"ADBE Vectors Group":case"Contents":case 2:return _r_(n.content);default:return _r_(n.transform)}_r_()};n.propertyGroup=function(e){return _i_("269:98cd40701"),_r_(1===e?n:i(e-1))};var r=function(e,t,i){var n;_i_("269:3ec51b03");var r=function(e){_i_("269:8776b46e");for(var t=0,i=n.length;t<i;){if(n[t]._name===e||n[t].mn===e||n[t].propertyIndex===e||n[t].ix===e||n[t].ind===e)return _r_(n[t]);t+=1}if("number"==typeof e)return _r_(n[e-1]);_r_()};return r.propertyGroup=function(e){return _i_("269:98cd4070"),_r_(1===e?r:i(e-1))},n=o(e.it,t.it,r.propertyGroup),r.numProperties=n.length,r.propertyIndex=e.cix,r._name=e.nm,_r_(r)}(e,t,n.propertyGroup),a=function(t,e,i){function n(e){return _i_("269:eb74ad591"),_r_(1==e?r:i(--e))}_i_("269:491d1c77"),e.transform.mProps.o.setGroupProperty(n),e.transform.mProps.p.setGroupProperty(n),e.transform.mProps.a.setGroupProperty(n),e.transform.mProps.s.setGroupProperty(n),e.transform.mProps.r.setGroupProperty(n),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(n),e.transform.mProps.sa.setGroupProperty(n));function r(e){if(_i_("269:d6050d4b"),t.a.ix===e||"Anchor Point"===e)return _r_(r.anchorPoint);if(t.o.ix===e||"Opacity"===e)return _r_(r.opacity);if(t.p.ix===e||"Position"===e)return _r_(r.position);if(t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e)return _r_(r.rotation);if(t.s.ix===e||"Scale"===e)return _r_(r.scale);if(t.sk&&t.sk.ix===e||"Skew"===e)return _r_(r.skew);if(t.sa&&t.sa.ix===e||"Skew Axis"===e)return _r_(r.skewAxis);_r_()}return e.transform.op.setGroupProperty(n),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),r.ty="tr",r.mn=t.mn,r.propertyGroup=i,_r_(r)}(e.it[e.it.length-1],t.it[t.it.length-1],n.propertyGroup);return n.content=r,n.transform=a,Object.defineProperty(n,"_name",{get:function(){return _i_("269:0ce15a87"),_r_(e.nm)}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,_r_(n)}function _(e,t,i){function n(e){if(_i_("269:9e07a848"),"Color"===e||"color"===e)return _r_(n.color);if("Opacity"===e||"opacity"===e)return _r_(n.opacity);_r_()}return _i_("269:a2338c8e"),Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(i),t.o.setGroupProperty(i),_r_(n)}function l(e,t,i){function n(e){return _i_("269:9420d8fe"),_r_(1===e?ob:i(e-1))}function r(e){return _i_("269:8c437d2e"),_r_(1===e?_:n(e-1))}_i_("269:8d3fb6d1");var a,o,s=e.d?e.d.length:0,_={};for(a=0;a<s;a+=1)o=a,_i_("269:1e39eebc"),Object.defineProperty(_,e.d[o].nm,{get:ExpressionPropertyInterface(t.d.dataProps[o].p)}),_r_(),t.d.dataProps[a].p.setGroupProperty(r);function l(e){if(_i_("269:3ace692b"),"Color"===e||"color"===e)return _r_(l.color);if("Opacity"===e||"opacity"===e)return _r_(l.opacity);if("Stroke Width"===e||"stroke width"===e)return _r_(l.strokeWidth);_r_()}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return _i_("269:995de090"),_r_(_)}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),t.w.setGroupProperty(n),_r_(l)}function c(t,e,i){function n(e){return _i_("269:eb74ad59"),_r_(1==e?r:i(--e))}function r(e){if(_i_("269:d7648705"),e===t.e.ix||"End"===e||"end"===e)return _r_(r.end);if(e===t.s.ix)return _r_(r.start);if(e===t.o.ix)return _r_(r.offset);_r_()}return _i_("269:57ebb50c"),r.propertyIndex=t.ix,e.s.setGroupProperty(n),e.e.setGroupProperty(n),e.o.setGroupProperty(n),r.propertyIndex=t.ix,r.propertyGroup=i,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),r.mn=t.mn,_r_(r)}function h(t,e,i){function n(e){return _i_("269:eb74ad592"),_r_(1==e?a:i(--e))}_i_("269:5f30f0f7"),a.propertyIndex=t.ix;var r="tm"===e.sh.ty?e.sh.prop:e.sh;function a(e){if(_i_("269:6401baa8"),t.p.ix===e)return _r_(a.position);if(t.s.ix===e)return _r_(a.size);_r_()}return r.s.setGroupProperty(n),r.p.setGroupProperty(n),Object.defineProperties(a,{size:{get:ExpressionPropertyInterface(r.s)},position:{get:ExpressionPropertyInterface(r.p)},_name:{value:t.nm}}),a.mn=t.mn,_r_(a)}function d(t,e,i){function n(e){return _i_("269:eb74ad593"),_r_(1==e?a:i(--e))}_i_("269:343a21d9");var r="tm"===e.sh.ty?e.sh.prop:e.sh;function a(e){if(_i_("269:22e95567"),t.p.ix===e)return _r_(a.position);if(t.r.ix===e)return _r_(a.rotation);if(t.pt.ix===e)return _r_(a.points);if(t.or.ix===e||"ADBE Vector Star Outer Radius"===e)return _r_(a.outerRadius);if(t.os.ix===e)return _r_(a.outerRoundness);if(t.ir&&(t.ir.ix===e||"ADBE Vector Star Inner Radius"===e))return _r_(a.innerRadius);if(t.is&&t.is.ix===e)return _r_(a.innerRoundness);_r_()}return a.propertyIndex=t.ix,r.or.setGroupProperty(n),r.os.setGroupProperty(n),r.pt.setGroupProperty(n),r.p.setGroupProperty(n),r.r.setGroupProperty(n),t.ir&&(r.ir.setGroupProperty(n),r.is.setGroupProperty(n)),Object.defineProperties(a,{position:{get:ExpressionPropertyInterface(r.p)},rotation:{get:ExpressionPropertyInterface(r.r)},points:{get:ExpressionPropertyInterface(r.pt)},outerRadius:{get:ExpressionPropertyInterface(r.or)},outerRoundness:{get:ExpressionPropertyInterface(r.os)},innerRadius:{get:ExpressionPropertyInterface(r.ir)},innerRoundness:{get:ExpressionPropertyInterface(r.is)},_name:{value:t.nm}}),a.mn=t.mn,_r_(a)}function f(t,e,i){function n(e){return _i_("269:eb74ad594"),_r_(1==e?a:i(--e))}_i_("269:67c34f13");var r="tm"===e.sh.ty?e.sh.prop:e.sh;function a(e){if(_i_("269:179251cb"),t.p.ix===e)return _r_(a.position);if(t.r.ix===e)return _r_(a.roundness);if(t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e)return _r_(a.size);_r_()}return a.propertyIndex=t.ix,r.p.setGroupProperty(n),r.s.setGroupProperty(n),r.r.setGroupProperty(n),Object.defineProperties(a,{position:{get:ExpressionPropertyInterface(r.p)},roundness:{get:ExpressionPropertyInterface(r.r)},size:{get:ExpressionPropertyInterface(r.s)},_name:{value:t.nm}}),a.mn=t.mn,_r_(a)}function u(t,e,i){_i_("269:3d5497a9");var n=e;function r(e){if(_i_("269:cac1fe62"),t.r.ix===e||"Round Corners 1"===e)return _r_(r.radius);_r_()}return r.propertyIndex=t.ix,n.rd.setGroupProperty(function(e){return _i_("269:eb74ad595"),_r_(1==e?r:i(--e))}),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(n.rd)},_name:{value:t.nm}}),r.mn=t.mn,_r_(r)}function p(t,e,i){function n(e){return _i_("269:eb74ad596"),_r_(1==e?a:i(--e))}_i_("269:972b0f6e");var r=e;function a(e){if(_i_("269:cf9daeea"),t.c.ix===e||"Copies"===e)return _r_(a.copies);if(t.o.ix===e||"Offset"===e)return _r_(a.offset);_r_()}return a.propertyIndex=t.ix,r.c.setGroupProperty(n),r.o.setGroupProperty(n),Object.defineProperties(a,{copies:{get:ExpressionPropertyInterface(r.c)},offset:{get:ExpressionPropertyInterface(r.o)},_name:{value:t.nm}}),a.mn=t.mn,_r_(a)}function m(e,t,i){_i_("269:cd95174c");var n=t.sh;function r(e){if(_i_("269:43c32fe2"),"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return _r_(r.path);_r_()}return n.setGroupProperty(function(e){return _i_("269:eb74ad597"),_r_(1==e?r:i(--e))}),Object.defineProperties(r,{path:{get:function(){return _i_("269:5204f2cc"),n.k&&n.getValue(),_r_(n)}},shape:{get:function(){return _i_("269:5204f2cc1"),n.k&&n.getValue(),_r_(n)}},_name:{value:e.nm},ix:{value:e.ix},mn:{value:e.mn}}),_r_(r)}return _i_("269:a171031e"),_r_(function(e,t,i){var n;function r(e){if(_i_("269:57439156"),"number"==typeof e)return _r_(n[e-1]);for(var t=0,i=n.length;t<i;){if(n[t]._name===e)return _r_(n[t]);t+=1}_r_()}return _i_("269:e17fd182"),r.propertyGroup=i,n=o(e,t,r),r.numProperties=n.length,_r_(r)})}(),TextExpressionInterface=(_i_("269:0ab27753"),_r_(function(t){var i;function e(){}return _i_("269:5de7ccfd"),Object.defineProperty(e,"sourceText",{get:function(){_i_("269:6561a8af"),t.textProperty.getValue();var e=t.textProperty.currentData.t;return void 0!==e&&(t.textProperty.currentData.t=void 0,(i=new String(e)).value=e||new String(e)),_r_(i)}}),_r_(e)})),LayerExpressionInterface=function(){function r(e,t){_i_("269:199e753b");var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(i);return _r_(i.applyToPointArray(e[0],e[1],e[2]||0))}return _r_(i.applyToPointArray(e[0],e[1],e[2]||0))}function a(e,t){_i_("269:fb649a6b");var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(i);return _r_(i.inversePoint(e))}return _r_(i.inversePoint(e))}function o(e){_i_("269:83dd9c34");var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var i,n=this._elem.hierarchy.length;for(i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(t);return _r_(t.inversePoint(e))}return _r_(t.inversePoint(e))}function s(){return _i_("269:d0f4af3c"),_r_([1,1,1,1])}return _i_("269:0c02eed9"),_r_(function(t){var i;function n(e){switch(_i_("269:eafd61e3"),e){case"ADBE Root Vectors Group":case"Contents":case 2:return _r_(n.shapeInterface);case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return _r_(i);case 4:case"ADBE Effect Parade":case"effects":case"Effects":return _r_(n.effect)}_r_()}_i_("269:dce3c276"),n.toWorld=r,n.fromWorld=a,n.toComp=r,n.fromComp=o,n.sampleImage=s,n.sourceRectAtTime=t.sourceRectAtTime.bind(t);var e=getDescriptor(i=TransformExpressionInterface((n._elem=t).finalTransform.mProp),"anchorPoint");return Object.defineProperties(n,{hasParent:{get:function(){return _i_("269:6824bb1b"),_r_(t.hierarchy.length)}},parent:{get:function(){return _i_("269:07cbb447"),_r_(t.hierarchy[0].layerInterface)}},rotation:getDescriptor(i,"rotation"),scale:getDescriptor(i,"scale"),position:getDescriptor(i,"position"),opacity:getDescriptor(i,"opacity"),anchorPoint:e,anchor_point:e,transform:{get:function(){return _i_("269:d8b18dbb"),_r_(i)}},active:{get:function(){return _i_("269:659c722d"),_r_(t.isInRange)}}}),n.startTime=t.data.st,n.index=t.data.ind,n.source=t.data.refId,n.height=0===t.data.ty?t.data.h:100,n.width=0===t.data.ty?t.data.w:100,n.inPoint=t.data.ip/t.comp.globalData.frameRate,n.outPoint=t.data.op/t.comp.globalData.frameRate,n._name=t.data.nm,n.registerMaskInterface=function(e){_i_("269:351e0a11"),n.mask=new MaskManagerInterface(e,t),_r_()},n.registerEffectsInterface=function(e){_i_("269:a7d4bdd2"),n.effect=e,_r_()},_r_(n)})}(),CompExpressionInterface=(_i_("269:507b3bd3"),_r_(function(n){function e(e){_i_("269:ef6fad9b");for(var t=0,i=n.layers.length;t<i;){if(n.layers[t].nm===e||n.layers[t].ind===e)return _r_(n.elements[t].layerInterface);t+=1}return _r_(null)}return _i_("269:1c0be71d"),Object.defineProperty(e,"_name",{value:n.data.nm}),(e.layer=e).pixelAspect=1,e.height=n.data.h||n.globalData.compSize.h,e.width=n.data.w||n.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/n.globalData.frameRate,e.displayStartTime=0,e.numLayers=n.layers.length,_r_(e)})),TransformExpressionInterface=(_i_("269:16eb3849"),_r_(function(e){function t(e){switch(_i_("269:9a268d82"),e){case"scale":case"Scale":case"ADBE Scale":case 6:return _r_(t.scale);case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _r_(t.rotation);case"ADBE Rotate X":return _r_(t.xRotation);case"ADBE Rotate Y":return _r_(t.yRotation);case"position":case"Position":case"ADBE Position":case 2:return _r_(t.position);case"ADBE Position_0":return _r_(t.xPosition);case"ADBE Position_1":return _r_(t.yPosition);case"ADBE Position_2":return _r_(t.zPosition);case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _r_(t.anchorPoint);case"opacity":case"Opacity":case 11:return _r_(t.opacity)}_r_()}if(_i_("269:e6fb5747"),Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p)var i=ExpressionPropertyInterface(e.p);return Object.defineProperty(t,"position",{get:function(){return _i_("269:f3cd3860"),e.p?_r_(i()):_r_([e.px.v,e.py.v,e.pz?e.pz.v:0])}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),_r_(t)})),ProjectInterface=function(){function t(e){_i_("269:55f802a9"),this.compositions.push(e),_r_()}return _i_("269:e7ac96a5"),_r_(function(){function e(e){_i_("269:f548597b");for(var t=0,i=this.compositions.length;t<i;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),_r_(this.compositions[t].compInterface);t+=1}_r_()}return _i_("269:d5f52cef"),e.compositions=[],e.currentFrame=0,e.registerComposition=t,_r_(e)})}(),EffectsExpressionInterface=function(){function l(r,e,t,i){_i_("269:f40781a5");var n,a=[],o=r.ef.length;for(n=0;n<o;n+=1)5===r.ef[n].ty?a.push(l(r.ef[n],e.effectElements[n],e.effectElements[n].propertyGroup,i)):a.push(c(e.effectElements[n],r.ef[n].ty,i,s));function s(e){return _i_("269:3704c2e6"),_r_(1===e?_:t(e-1))}var _=function(e){_i_("269:59cacd09");for(var t=r.ef,i=0,n=t.length;i<n;){if(e===t[i].nm||e===t[i].mn||e===t[i].ix)return 5===t[i].ty?_r_(a[i]):_r_(a[i]());i+=1}return _r_(a[0]())};return _.propertyGroup=s,"ADBE Color Control"===r.mn&&Object.defineProperty(_,"color",{get:function(){return _i_("269:0fc79a93"),_r_(a[0]())}}),Object.defineProperty(_,"numProperties",{get:function(){return _i_("269:4c99825a"),_r_(r.np)}}),_.active=_.enabled=0!==r.en,_r_(_)}function c(e,t,i,n){_i_("269:a5c65486");var r=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(n),_r_(function(){if(_i_("269:93de690b"),10===t)return _r_(i.comp.compInterface(e.p.v));return _r_(r())})}return _i_("269:5ec47e30"),_r_({createEffectsInterface:function(r,e){if(_i_("269:df00011d"),r.effectsManager){var t,a=[],i=r.data.ef,n=r.effectsManager.effectElements.length;for(t=0;t<n;t+=1)a.push(l(i[t],r.effectsManager.effectElements[t],e,r));return _r_(function(e){_i_("269:7af2656b");for(var t=r.data.ef||[],i=0,n=t.length;i<n;){if(e===t[i].nm||e===t[i].mn||e===t[i].ix)return _r_(a[i]);i+=1}_r_()})}_r_()}})}(),MaskManagerInterface=function(){function a(e,t){_i_("269:736027e7"),this._mask=e,this._data=t,_r_()}_i_("269:3924c66e"),Object.defineProperty(a.prototype,"maskPath",{get:function(){return _i_("269:48fa7211"),this._mask.prop.k&&this._mask.prop.getValue(),_r_(this._mask.prop)}}),Object.defineProperty(a.prototype,"maskOpacity",{get:function(){return _i_("269:4dc25cbd"),this._mask.op.k&&this._mask.op.getValue(),_r_(100*this._mask.op.v)}});return _r_(function(t,e){_i_("269:e1bae43b");var i,n=createSizedArray(t.viewData.length),r=t.viewData.length;for(i=0;i<r;i+=1)n[i]=new a(t.viewData[i],t.masksProperties[i]);return _r_(function(e){for(_i_("269:09151af3"),i=0;i<r;){if(t.masksProperties[i].nm===e)return _r_(n[i]);i+=1}_r_()})})}(),ExpressionPropertyInterface=function(){_i_("269:c3d6167f");var r={pv:0,v:0,mult:1},o={pv:[0,0,0],v:[0,0,0],mult:1};function s(n,r,a){_i_("269:f90941c9"),Object.defineProperty(n,"velocity",{get:function(){return _i_("269:2a872013"),_r_(r.getVelocityAtTime(r.comp.currentFrame))}}),n.numKeys=r.keyframes?r.keyframes.length:0,n.key=function(e){if(_i_("269:550ad507"),n.numKeys){var t="";t="s"in r.keyframes[e-1]?r.keyframes[e-1].s:"e"in r.keyframes[e-2]?r.keyframes[e-2].e:r.keyframes[e-2].s;var i="unidimensional"===a?new Number(t):Object.assign({},t);return i.time=r.keyframes[e-1].t/r.elem.comp.globalData.frameRate,_r_(i)}return _r_(0)},n.valueAtTime=r.getValueAtTime,n.speedAtTime=r.getSpeedAtTime,n.velocityAtTime=r.getVelocityAtTime,n.propertyGroup=r.propertyGroup,_r_()}function t(){return _i_("269:5dbf5d6d"),_r_(r)}return _r_(function(e){return _i_("269:76853d6d"),e?"unidimensional"===e.propType?_r_(function(e){_i_("269:af5ff7ac"),e&&"pv"in e||(e=r);var t=1/e.mult,i=e.pv*t,n=new Number(i);return n.value=i,s(n,e,"unidimensional"),_r_(function(){return _i_("269:ce871c5e"),e.k&&e.getValue(),i=e.v*t,n.value!==i&&((n=new Number(i)).value=i,s(n,e,"unidimensional")),_r_(n)})}(e)):_r_(function(t){_i_("269:a1d74d31"),t&&"pv"in t||(t=o);var i=1/t.mult,n=t.pv.length,r=createTypedArray("float32",n),a=createTypedArray("float32",n);return r.value=a,s(r,t,"multidimensional"),_r_(function(){_i_("269:04d0e019"),t.k&&t.getValue();for(var e=0;e<n;e+=1)r[e]=a[e]=t.v[e]*i;return _r_(r)})}(e)):_r_(t)})}();function SliderEffect(e,t,i){_i_("269:f553fa9d"),this.p=PropertyFactory.getProp(t,e.v,0,0,i),_r_()}function AngleEffect(e,t,i){_i_("269:59bb9c8d"),this.p=PropertyFactory.getProp(t,e.v,0,0,i),_r_()}function ColorEffect(e,t,i){_i_("269:1d45f001"),this.p=PropertyFactory.getProp(t,e.v,1,0,i),_r_()}function PointEffect(e,t,i){_i_("269:ef6ed842"),this.p=PropertyFactory.getProp(t,e.v,1,0,i),_r_()}function LayerIndexEffect(e,t,i){_i_("269:9be91faf"),this.p=PropertyFactory.getProp(t,e.v,0,0,i),_r_()}function MaskIndexEffect(e,t,i){_i_("269:538cd2e2"),this.p=PropertyFactory.getProp(t,e.v,0,0,i),_r_()}function CheckboxEffect(e,t,i){_i_("269:9eca57e2"),this.p=PropertyFactory.getProp(t,e.v,0,0,i),_r_()}function NoValueEffect(){_i_("269:24baf146"),this.p={},_r_()}function EffectsManager(){}function EffectsManager(e,t){_i_("269:d2fffd94");var i=e.ef||[];this.effectElements=[];var n,r,a=i.length;for(n=0;n<a;n++)r=new GroupEffect(i[n],t),this.effectElements.push(r);_r_()}function GroupEffect(e,t){_i_("269:d636e396"),this.init(e,t),_r_()}!function(){_i_("269:b3213d9b");var n=function(){function i(e,t){return _i_("269:acab0acf"),this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,_r_(this.v)}return _i_("269:702616fa"),_r_(function(e,t){_i_("269:0773d570"),this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=t.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,t,this),this.getMult=i,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty,_r_()})}(),r=TextSelectorProp.getTextSelectorProp;TextSelectorProp.getTextSelectorProp=function(e,t,i){return _i_("269:29e0dfcc"),1===t.t?_r_(new n(e,t,i)):_r_(r(e,t,i))},_r_()}(),extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){_i_("269:ba7c8132"),this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var i,n,r=this.data.ef.length,a=this.data.ef;for(i=0;i<r;i+=1){switch(n=null,a[i].ty){case 0:n=new SliderEffect(a[i],t,this);break;case 1:n=new AngleEffect(a[i],t,this);break;case 2:n=new ColorEffect(a[i],t,this);break;case 3:n=new PointEffect(a[i],t,this);break;case 4:case 7:n=new CheckboxEffect(a[i],t,this);break;case 10:n=new LayerIndexEffect(a[i],t,this);break;case 11:n=new MaskIndexEffect(a[i],t,this);break;case 5:n=new EffectsManager(a[i],t,this);break;default:n=new NoValueEffect(a[i],t,this)}n&&this.effectElements.push(n)}_r_()};var lottiejs={},_isFrozen=!1;function setLocationHref(e){_i_("269:3ceb4800"),locationHref=e,_r_()}function searchAnimations(){_i_("269:427fabd1"),!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations(),_r_()}function setSubframeRendering(e){_i_("269:aa019ecd"),subframeEnabled=e,_r_()}function loadAnimation(e){return _i_("269:f9b54d8e"),!0===standalone&&(e.animationData=JSON.parse(animationData)),_r_(animationManager.loadAnimation(e))}function setQuality(e){if(_i_("269:660a17cd"),"string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&1<e&&(defaultCurveSegments=e);roundValues(!(50<=defaultCurveSegments)),_r_()}function inBrowser(){return _i_("269:25fa07f8"),_r_("undefined"!=typeof navigator)}function installPlugin(e,t){_i_("269:d6b2a5f6"),"expressions"===e&&(expressionsPlugin=t),_r_()}function getFactory(e){switch(_i_("269:dc809151"),e){case"propertyFactory":return _r_(PropertyFactory);case"shapePropertyFactory":return _r_(ShapePropertyFactory);case"matrix":return _r_(Matrix)}_r_()}function checkReady(){_i_("269:bb1d999b"),"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations()),_r_()}function getQueryVariable(e){_i_("269:b14a2b40");for(var t=queryString.split("&"),i=0;i<t.length;i++){var n=t[i].split("=");if(decodeURIComponent(n[0])==e)return _r_(decodeURIComponent(n[1]))}_r_()}lottiejs.play=animationManager.play,lottiejs.pause=animationManager.pause,lottiejs.setLocationHref=setLocationHref,lottiejs.togglePause=animationManager.togglePause,lottiejs.setSpeed=animationManager.setSpeed,lottiejs.setDirection=animationManager.setDirection,lottiejs.stop=animationManager.stop,lottiejs.searchAnimations=searchAnimations,lottiejs.registerAnimation=animationManager.registerAnimation,lottiejs.loadAnimation=loadAnimation,lottiejs.setSubframeRendering=setSubframeRendering,lottiejs.resize=animationManager.resize,lottiejs.goToAndStop=animationManager.goToAndStop,lottiejs.destroy=animationManager.destroy,lottiejs.setQuality=setQuality,lottiejs.inBrowser=inBrowser,lottiejs.installPlugin=installPlugin,lottiejs.freeze=animationManager.freeze,lottiejs.unfreeze=animationManager.unfreeze,lottiejs.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottiejs.__getFactory=getFactory,lottiejs.version="5.5.4";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,"");renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return _r_(lottiejs)}),booking.jstmpl("comp_hotel_card",function(){_i_("269:e1f7e9c8");var l,c=["\n    ","\n","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'\n\n<div class="bui-card bui-card--media bui-u-bleed@small comp-tool-hotel-card"\n     data-hotel-id="','">\n    <div class="bui-card__image-container">\n        <img class="bui-card__image" src="','" />\n        ','\n            <span class="ms-score-bg"></span>\n            <div class="ms-container"\n                data-bui-component="Tooltip"\n                data-tooltip-position="top"\n                title="',"/private/wl_match_score_tool/name",'">\n            </div>\n        ',"\n    </div>\n    ",'\n        <span class="bui-badge bui-badge--primary">\n            <span class="bui-badge__text">',"/private/cdm_hp_compare_currently_viewing/name","</span>\n        </span>\n    ",'\n    <div class="bui-card__content">\n        <header class="bui-card__header">\n            <div class="comp-tool-header-icons ',"icons-first-card",'">\n                <div class="comp-tool-heart-icon">\n                    ',"comp-tool-bg-heart","iconset/heart","larger","\n                    ","\n\n","\n        ","\n            ","/private/a11y_hp_bookmarks_button_saved/name","/private/cdm_hp_quick_share_save/name",'\n\n<button type="button"\n\n    data-hotel-id="','"\n    data-text-create="','"\n    data-text-header="','"\n    data-ga-label="small"\n    data-placement="hp_tittle"\n\n    data-sr-comparison-mode="true"\n\n    ','\n        data-position="bottom left"\n    ','\n        data-position="bottom right"\n    ','\n\n    data-et-click="customGoal:',':1"\n\n    data-title="','"\n\n    class="\n        js-wl-dropdown-handle\n        bui-button\n        bui-button--secondary\n        lists-hotel-dropdown-square-heart\n        ',"saved_in_wl",'\n        jq_tooltip\n    "\n\n    aria-label="\n        ',"/private/a11y_hp_bookmarks_add_to/name",'\n    "\n\n    role="button"\n    aria-live="assertive"\n    data-loadingtext="',"/private/a11y_hp_bookmarks_loading/name",'"\n\n    >\n  <span class="bui-button__text">\n    ',"saved_state","medium","unsaved_state","iconset/heart_outline",'\n  </span>\n</button>\n\n<span\n    aria-owns="hotel-wishlists"\n    aria-label="\n        ',"/private/a11y_hp_bookmarks_added/name","/private/a11y_hp_bookmarks_button_hover/name",'\n    "></span>\n\n',"\n                </div>\n                ","comp-tool-dismiss-btn","iconset/close","large","\n                ",'\n            </div>\n            <h3 class="hotel_name">\n                <a class="hotel_name_link url" href="','" target="_blank" rel="noopener">\n                    <span class="sr-hotel__name" data-bui-component="Tooltip" data-tooltip-follow title="','">','</span>\n                </a>\n                <div class="bui-rating">\n                    ',"\n                        ",'\n                            <div class="bui-icon bui-rating__item">\n                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path d="M117.4 56.3L89.6 77.5a1.7 1.7 0 0 0-.3 1.2l10.7 34.2c1.2 3.9-.8 5.7-1.6 6.3-.7.5-3.2 1.8-6.4-.6L64.3 97.4a1 1 0 0 0-.6 0l-27.8 21.2a6 6 0 0 1-3.6 1.4 4.7 4.7 0 0 1-2.7-.8c-.8-.6-2.8-2.4-1.6-6.3l10.6-34.2a1.7 1.7 0 0 0-.3-1.2L10.4 56.3c-3.1-2.4-2.5-5.1-2.3-6S9.6 47 13.5 47h34.3a1.3 1.3 0 0 0 .7-.6L59 12.2C60.2 8.4 62.9 8 63.9 8s3.7.4 4.9 4.2l10.6 34.3a1.3 1.3 0 0 0 .7.6h34.2c4 0 5.1 2.5 5.4 3.3s.9 3.5-2.3 6z"/></svg>\n                            </div>\n                        ','\n                            <div class="bui-icon bui-rating__item">\n                                <svg class="bk-icon -iconset-square_rating" fill="#FEBB02" height="16" width="16" viewBox="0 0 128 128"><path d="M104 8H24A16 16 0 0 0 8 24v96h96a16 16 0 0 0 16-16V24a16 16 0 0 0-16-16zM64 88a24 24 0 1 1 24-24 24 24 0 0 1-24 24z"></path></svg>\n                            </div>\n                        ','\n                        <div class="bui-icon bui-rating__item empty_star_comp_tool">\n                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128"><path d="M117.4 56.3L89.6 77.5a1.7 1.7 0 0 0-.3 1.2l10.7 34.2c1.2 3.9-.8 5.7-1.6 6.3-.7.5-3.2 1.8-6.4-.6L64.3 97.4a1 1 0 0 0-.6 0l-27.8 21.2a6 6 0 0 1-3.6 1.4 4.7 4.7 0 0 1-2.7-.8c-.8-.6-2.8-2.4-1.6-6.3l10.6-34.2a1.7 1.7 0 0 0-.3-1.2L10.4 56.3c-3.1-2.4-2.5-5.1-2.3-6S9.6 47 13.5 47h34.3a1.3 1.3 0 0 0 .7-.6L59 12.2C60.2 8.4 62.9 8 63.9 8s3.7.4 4.9 4.2l10.6 34.3a1.3 1.3 0 0 0 .7.6h34.2c4 0 5.1 2.5 5.4 3.3s.9 3.5-2.3 6z"/></svg>\n                        </div>\n                    ','\n                    \n                </div>\n            </h3>\n            <h4 class="bui-card__subtitle dist_center">\n                ',"iconset/geo_pin","/private/cdm_hp_compare_distance_from_centre/name",'\n            </h4>\n        </header>\n        <hr class="bui-divider bui-divider--light" />\n        ','\n            <div class="comp-tool-review-scores comp-tool-section">\n                <div class="bui-review-score">\n                    <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'">\n                        ','\n                    </div>\n                    <div class="bui-review-score__content">\n                        <div class="bui-review-score__title" aria-label="','">\n                            ','\n                        </div>\n                        <div class="bui-review-score__text" aria-label="',"/private/comp_num_reviews_sr_page/name",'\n                        </div>\n                    </div>\n                </div>\n            <div class="bui-review-score__title">\n                ',"/review_question/hotel_location/name"," ","\n            </div>\n        ",'\n            <div class="comp-tool-review-scores comp-tool-section">\n                <div>',"/private/comparison_tool_no_reviews/name","</div>\n        ",'\n        </div>\n        <hr class="bui-divider bui-divider--light" />\n        ','\n            <div class="comp-tool-facilities comp-tool-section">\n                <div>',"/private/comparison_tool_no_facilities/name",'\n            <div class="comp-tool-facilities comp-tool-section">\n                <h4>',"/private/cdm_hp_compare_facilities/name","</h4>\n                ",'\n                    <span\n                    data-bui-component="Tooltip"\n                    data-tooltip-position="top"\n                    title="',"\n    \n    \n\n    \n\n    ","\n\n    ","\n        \n        ","true","false","iconset/child","presentation","iconset/beachball","iconset/review_good","iconset/elevator","iconset/bbq","iconset/food","iconset/pool","\n        \n\n        ","fonticon/wifi","fonticon/parking","fonticon/restaurants","          \n        ","fonticon/petfriendly","fonticon/food","fonticon/gourmet","fonticon/bar","fonticon/services","fonticon/tenniscourt","fonticon/sauna","fonticon/fitness","fonticon/golf","iconset/checkmark","fonticon/garden","fonticon/terrace","fonticon/nonsmoking","fonticon/shuttle","fonticon/suitcase","iconset/baby_bottle","fonticon/babybottle","fonticon/washer","fonticon/breakfast","fonticon/disabled","iconset/family","fonticon/family","fonticon/vip","fonticon/iron","fonticon/heart","fonticon/safe","fonticon/currency","fonticon/spa","fonticon/massage","fonticon/windsurfing","iconset/soundproof","fonticon/soundproof","fonticon/bike","\n         ","fonticon/book","fonticon/car","fonticon/cycling","fonticon/shopbag","fonticon/pool","fonticon/airconditioning","fonticon/smoking","fonticon/beach","fonticon/platefork","        \n        ","fonticon/concierge","fonticon/shuttlefee","fonticon/flattv","fonticon/airport","fonticon/shuttlesmall","\n         \n        ","fonticon/phone","fonticon/email","\n        \n\n         \n        ","fonticon/hour","fonticon/key","fonticon/videochat","fonticon/world","\n\n        "," \n            ","iconset/star","\n        \n    ","fonticon/bath","fonticon/private-shower","fonticon/study-desk","fonticon/toiletries","fonticon/private-bathroom","fonticon/fridge","fonticon/fooddrink","fonticon/kettle","fonticon/slippers","fonticon/couch","fonticon/coffee","fonticon/landscape","fonticon/citytrip","fonticon/opendoor","fonticon/oven","fonticon/dishwasher","fonticon/mobilephone","fonticon/landmark","fonticon/trashcan","fonticon/computer","fonticon/tablet","14","hotel","\n                    </span>\n                ",'\n        </div>\n        <hr class="bui-divider bui-divider--light" />\n        <div class="comp-tool-price comp-tool-section">\n            <div class="bui-group bui-group--inline bui-card__actions comp-tool-dates">\n                '," - ",'\n            </div>\n            <div class="bui-group bui-group--inline bui-card__actions">\n                <div class="bui-price-display">\n                    <div class="bui-price-display__label">',"/private/cdm_hp_compare_price_for_x_nights/name",'</div>\n                    <div class="bui-price-display__value ">','</div>\n                </div>\n            </div>\n        </div>\n        \n        \n        \n        \n        \n        \n        <div class="bui-group'," bui-group--inline",' bui-card__actions comp-tool-cta">\n            ','\n                    <button class="bui-button bui-button--primary bui-button--wide">\n                        \n                        <span class="bui-button__text">',"/private/cdm_hp_compare_reserve_cta/name","</span>\n                    </button>\n                ",'\n                    <a target="_blank" rel="noopener" href="','" class="bui-button bui-button--secondary bui-button--wide">',"/private/cdm_hp_compare_view_property/name","</a>\n                ",'\n                <a target="_blank" rel="noopener" href="','" class="bui-button bui-button--primary bui-button--wide">',"</a>\n            ","\n        </div>\n    </div>\n</div>\n"],h=["b_distances_from_city_center","b_review_score_detailed_formatted","fe_adjective_text","fe_adjective","fe_score","fe_hide_low_adjectives","b_review_nr","fe_comp_tool_curr_hotel_id","fe_hotel_card_image_cover","b_logged_in_user","fe_comp_tool_currently_viewing","b_user_hotel_wishlists","fe_hotel_wishlists_count","fe_hotel_wishlists_name","b_wishlist_name","b_wishlist_selected","fe_mtv_fix_hover_tip_data_title","b_action","b_hotel_id","fe_wishlist_hotel_id","wishlist_create_new","lists_add_to_list","b_lang_is_rtl","b_wishlisted_heart_on","fe_is_in_wishlist","fe_hotel_url_for_card","fe_hotel_name_card","fe_stars_rating","fe_circles_rating","fe_squares_rating","fe_dist_to_center","fe_reviews_number","fe_location_card_review_score","fe_hotel_facilities_for_card","b_action_name_is_hotel","fe_facility_icon__size","fe_facility_icon__type","fe_facility_icon__id","fe_facility_icon__fill","fe_exp_famex_m_prop_highlights","fe_facility_icon_alt_icon","fe_found_fam_fac_icon","b_checkin_date_medium","b_checkout_date_medium","b_checkin_checkout_interval","b_cheapest_available_total_price_formatted","fe_is_hotel_page"];return _r_(function(s){_i_("269:c433e7f7");var e="",_=this.fn;return e=function(e){_i_("269:a3b3d11f"),e+=c[1],_.MN("b_common_class",4),e+=c[1],_.MN("fe_dist_to_center",_.MC(h[0]).b_distance_localized),e+=c[1],_.MN("fe_score",_.MC(h[1])),e+=c[1];var t="";if(s.unshift({fe_hide_low_adjectives:_.MB(h[5]),fe_score:_.MB(h[4])}),t=function(e){if(_i_("269:a2c22468"),_.MD(h[4])){var t="";_.MJ(1<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<2)&&(t+=_.ME(c[2],_.MB,_.MN,null)),_.MJ(2<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<3)&&(t+=_.ME(c[3],_.MB,_.MN,null)),_.MJ(3<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<4)&&(t+=_.ME(c[4],_.MB,_.MN,null)),_.MJ(4<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<5)&&(t+=_.ME(c[5],_.MB,_.MN,null)),_.MJ(5<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<5.6)&&(t+=_.ME(c[6],_.MB,_.MN,null)),_.MJ(5.6<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<6)&&(t+=_.ME(c[7],_.MB,_.MN,null)),_.MJ(6<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<7)&&(t+=_.ME(c[8],_.MB,_.MN,null)),_.MJ(7<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<8)&&(t+=_.ME(c[9],_.MB,_.MN,null)),_.MJ(8<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<8.6)&&(t+=_.ME(c[10],_.MB,_.MN,null)),_.MJ(8.6<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<9)&&(t+=_.ME(c[11],_.MB,_.MN,null)),_.MJ(9<=_.MB(h[4]))&&_.MJ(_.MB(h[4])<9.5)&&(t+=_.ME(c[12],_.MB,_.MN,null)),_.MJ(9.5<=_.MB(h[4]))&&(t+=_.ME(c[13],_.MB,_.MN,null)),_.MN(h[3],t),_.MJ(_.MB(h[5]))&&_.MJ(_.MB(h[4])<7)&&_.MN(h[3],_.ME(c[14],_.MB,_.MN,null)),e+=[_.MC(h[3]),c[15]].join("")}return _.MN("fe_adjective",0),_.MN("fe_hide_low_adjectives",0),_.MN("fe_score",0),_r_(e)}(t),s.shift(),_.MN(h[2],t),e+=c[1],_.MN("fe_reviews_number",_.MC(h[6])),e+=[c[16],_.F.entities(_.MC(h[7])),c[17],_.STATIC_HOSTNAME(_.MB(h[8]),0,0,0),c[18]].join(""),_.MD(h[9])&&(e+=[c[19],_.ME(c[20],_.MB,_.MN,null),c[21]].join("")),e+=c[22],_.MJ(1==_.MB(h[10]))&&(e+=[c[23],_.ME(c[24],_.MB,_.MN,null),c[25]].join("")),e+=c[26],_.MJ(1==_.MB(h[10]))&&(e+=c[27]),e=function(e){_i_("269:bd2d18ec"),e+=["",c[33]].join(""),_.MN("fe_hotel_wishlists_count",0),e+=c[1],_.MN("fe_hotel_wishlists_name",""),e+=c[1];var t=_.MC(h[11])||[];s.unshift(null);for(var i=1,n=t.length;i<=n;i++)s[0]=t[i-1],e+=c[0],_.MD(h[15])&&(e+=c[34],_.MN("b_wishlisted_heart_on",1),e+=c[34],_.MN("fe_hotel_wishlists_count",_.MI(_.MB(h[12]))+_.MI(1)),e+=c[34],_.MD(h[13])&&(e+=c[35],_.MN("fe_hotel_wishlists_name",_.MB(h[13])+", "),e+=c[34]),e+=c[34],_.MN("fe_hotel_wishlists_name",_.MB(h[13])+""+_.MC(h[14])),e+=c[0]),e+=c[1];return s.shift(),e+=c[33],_.MJ(_.MC(h[17])+""=="hotel")&&(e+=c[0],_.MJ(0<_.MB(h[12]))?(e+=c[34],_.MN(h[16],(s.unshift({num_lists:_.MB(h[12])}),l=_.ME(c[36],_.MB,_.MN,null),s.shift(),l))):(e+=c[34],_.MN(h[16],_.ME(c[37],_.MB,_.MN,null))),e+=c[0],e+=[c[0],(s.unshift({fe_mtv_tip_hover:1}),l=_.HELPER("export",s[0]),s.shift(),l),c[1]].join("")),e+=c[33],_.MK(_.MB(h[19]))&&(e+=c[0],_.MN("fe_wishlist_hotel_id",_.MC(h[18])),e+=c[1]),e+=[c[38],_.F.entities(_.MB(h[19])),c[39],_.F.entities(_.MB(h[20])),c[40],_.F.entities(_.MB(h[21])),c[41]].join(""),_.MD(h[22])?e+=c[42]:e+=c[43],e+=[c[44],_.F.entities("AfPcCWbOTKMbIUONSFTUQODHXdRT"),c[45],_.F.entities(_.MC(h[16])),c[46]].join(""),(_.MJ(_.MC(h[23]))||_.MJ(_.MB(h[24])))&&(e+=c[47]),e+=c[48],_.MJ(0<_.MB(h[12]))?e+=[c[35],(s.unshift({num_lists:_.MB(h[12])}),l=_.ME(c[36],_.MB,_.MN,null),s.shift(),l),c[34]].join(""):e+=[c[35],_.ME(c[49],_.MB,_.MN,null),c[34]].join(""),e+=[c[50],_.ME(c[51],_.MB,_.MN,null),c[52],(s.unshift({class:c[53],color:"#FF6C6C",name:c[30],size:c[54]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[0],(s.unshift({class:c[55],color:"#0077CC",name:c[56],size:c[54]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[57]].join(""),_.MJ(0<_.MB(h[12]))?e+=[c[35],(s.unshift({list_name:_.MB(h[13])}),l=_.ME(c[58],_.MB,_.MN,null),s.shift(),l),c[34]].join(""):e+=[c[35],_.ME(c[59],_.MB,_.MN,null),c[34]].join(""),e+=[c[60],"",c[1]].join(""),_r_(e)}(e+=[c[28],(s.unshift({class:c[29],color:"#000000",name:c[30],size:c[31]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[32]].join("")),e+=c[61],_.MJ(0==_.MB(h[10]))&&(e+=[c[32],(s.unshift({class:c[62],color:"#FFFFFF",name:c[63],size:c[64]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join("")),e+=[c[66],_.F.entities(_.MC(h[25])),c[67],_.F.entities(_.MC(h[26])),c[68],_.F.entities(_.MC(h[26])),c[69]].join(""),_.MJ(0<_.MB(h[27]))){e+=c[70];var i=_.seq(1,_.MB(h[27]))||[];s.unshift(null);for(var n=1,r=i.length;n<=r;n++)s[0]=i[n-1],e+=c[71];s.shift(),e+=c[32]}else if(_.MJ(0<_.MB(h[28]))){for(e+=c[70],i=_.seq(1,_.MB(h[28]))||[],s.unshift(null),n=1,r=i.length;n<=r;n++)s[0]=i[n-1],e+=c[71];s.shift(),e+=c[32]}else if(_.MJ(0<_.MB(h[29]))){for(e+=c[70],i=_.seq(1,_.MB(h[29]))||[],s.unshift(null),n=1,r=i.length;n<=r;n++)s[0]=i[n-1],e+=c[72];s.shift(),e+=c[32]}else e+=c[73];if(e+=[c[74],(s.unshift({name:c[75],size:c[54]}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65],(s.unshift({distanceInKm:_.MB(h[30])}),l=_.ME(c[76],_.MB,_.MN,null),s.shift(),l),c[77]].join(""),_.MJ(_.MC(h[1]))?e+=[c[78],(s.unshift({review_score_number:_.MC(h[1])}),l=_.ME(c[79],_.MB,_.MN,null),s.shift(),l),c[80],_.F.entities(_.MC(h[1])),c[81],_.F.entities(_.MC(h[2])),c[82],_.F.entities(_.MC(h[2])),c[83],(s.unshift({num_reviews:_.format_number(_.MB(h[31]))}),l=_.ME(c[84],_.MB,_.MN,_.MO(_.MI(_.MC(h[31]))+_.MI(0),null,c[84])),s.shift(),l),c[82],(s.unshift({num_reviews:_.format_number(_.MB(h[31]))}),l=_.ME(c[84],_.MB,_.MN,_.MO(_.MI(_.MC(h[31]))+_.MI(0),null,c[84])),s.shift(),l),c[85],_.ME(c[86],_.MB,_.MN,null),c[87],_.F.entities(_.MC(h[32])),c[88]].join(""):e+=[c[89],_.ME(c[90],_.MB,_.MN,null),c[91]].join(""),e+=c[92],_.MJ(0==_.MB(h[33])))e+=[c[93],_.ME(c[94],_.MB,_.MN,null),c[91]].join("");else{var a;for(e+=[c[95],_.ME(c[96],_.MB,_.MN,null),c[97]].join(""),i=_.MC(h[33])||[],s.unshift({item:null}),n=1,r=i.length;n<=r;n++)s[0].item=a=i[n-1],e+=[c[98],_.F.entities(a.title),c[80]].join(""),s.unshift({fe_facility_icon__fill:"#383838",fe_facility_icon__id:_.MG((a||{}).id),fe_facility_icon__size:c[199],fe_facility_icon__type:c[200]}),o=e,_i_("269:e2e3c8c3"),o+=["",c[99]].join(""),_.MK(_.MB(h[35]))&&(o+=c[34],_.MD(h[34])?(o+=c[35],_.MN("fe_facility_icon__size",17)):(o+=c[35],_.MN("fe_facility_icon__size",16)),o+=c[34],o+=c[0]),o+=c[100],_.MK(_.MB(h[36]))&&(o+=c[34],_.MN("fe_facility_icon__type","hotel"),o+=c[0]),o+=c[100],_.MK(_.MB(h[37]))&&(o+=c[34],_.MN("fe_facility_icon__id",0),o+=c[0]),o+=c[100],_.MJ(_.MB(h[36])+""=="hotel")?(o+=c[101],_.MN("fe_found_fam_fac_icon",0),o+=c[34],_.MJ(_.MB(h[39]))&&(o+=c[35],_.MJ(258==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[104],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(56==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[106],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(144==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[107],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(48==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[108],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(72==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[109],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(116==_.MB(h[37]))?(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[110],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]):_.MJ(301==_.MB(h[37]))&&(o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[111],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[65]].join(""),_.MN("fe_found_fam_fac_icon",1),o+=c[35]),o+=c[34]),o+=c[112],_.MJ(107==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[113],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(2==_.MB(h[37]))||_.MJ(46==_.MB(h[37]))||_.MJ(52==_.MB(h[37]))||_.MJ(160==_.MB(h[37]))||_.MJ(161==_.MB(h[37]))||_.MJ(162==_.MB(h[37]))||_.MJ(179==_.MB(h[37]))||_.MJ(180==_.MB(h[37]))||_.MJ(181==_.MB(h[37]))||_.MJ(184==_.MB(h[37]))||_.MJ(426==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[114],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(3==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[115],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[116]].join(""):_.MJ(4==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[117],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(5==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[118],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(6==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[119],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(7==_.MB(h[37]))||_.MJ(199==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[120],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(8==_.MB(h[37]))||_.MJ(78==_.MB(h[37]))||_.MJ(89==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[121],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(9==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[122],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(10==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[123],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(11==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[124],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(12==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[125],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(13==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[126],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(14==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[127],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(15==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[128],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(16==_.MB(h[37]))||_.MJ(108==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[129],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(17==_.MB(h[37]))||_.MJ(139==_.MB(h[37]))||_.MJ(140==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[130],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(20==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[131],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(21==_.MB(h[37]))?(o+=c[35],_.MJ(_.MB(h[39]))?o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[132],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""):o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[133],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""),o+=c[34]):_.MJ(22==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[134],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(24==_.MB(h[37]))||_.MJ(43==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[135],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(25==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[136],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(28==_.MB(h[37]))?(o+=c[35],_.MJ(_.MB(h[39]))?o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[137],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""):o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[138],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""),o+=c[34]):_.MJ(41==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[139],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(44==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[140],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(45==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[141],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(51==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[142],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(53==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[143],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(54==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[144],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(55==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[145],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(61==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[146],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(64==_.MB(h[37]))?(o+=c[35],_.MJ(_.MB(h[39]))?o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[147],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""):o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[148],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""),o+=c[34]):_.MJ(65==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[149],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[150]].join(""):_.MJ(66==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[151],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(75==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[152],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(76==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[153],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(91==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[131],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(92==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[154],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(96==_.MB(h[37]))||_.MJ(107==_.MB(h[37]))||_.MJ(163==_.MB(h[37]))||_.MJ(164==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[113],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(103==_.MB(h[37]))||_.MJ(104==_.MB(h[37]))||_.MJ(119==_.MB(h[37]))||_.MJ(120==_.MB(h[37]))||_.MJ(121==_.MB(h[37]))||_.MJ(122==_.MB(h[37]))||_.MJ(169==_.MB(h[37]))||_.MJ(192==_.MB(h[37]))||_.MJ(193==_.MB(h[37]))||_.MJ(194==_.MB(h[37]))||_.MJ(195==_.MB(h[37]))||_.MJ(196==_.MB(h[37]))||_.MJ(197==_.MB(h[37]))||_.MJ(198==_.MB(h[37]))||_.MJ(199==_.MB(h[37]))||_.MJ(200==_.MB(h[37]))||_.MJ(201==_.MB(h[37]))||_.MJ(223==_.MB(h[37]))||_.MJ(258==_.MB(h[37]))||_.MJ(301==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[155],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[116]].join(""):_.MJ(109==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[156],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(110==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[157],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(114==_.MB(h[37]))||_.MJ(146==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[158],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[116]].join(""):_.MJ(115==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[159],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[160]].join(""):_.MJ(123==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[149],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(124==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[161],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(129==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[162],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(143==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[163],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(158==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[140],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(209==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[164],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(304==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[165],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[166]].join(""):_.MJ(426==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[149],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(427==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[167],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(428==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[168],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(429==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[134],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[169]].join(""):_.MJ(418==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[170],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(419==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[171],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(423==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[172],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(424==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[172],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[101]].join(""):_.MJ(434==_.MB(h[37]))||_.MJ(435==_.MB(h[37]))||_.MJ(436==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[173],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[174]].join(""):_.MK(_.MB(h[41]))&&(o+=c[175],_.MD(h[40])?o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[176],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""):o+=[c[65],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[126],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[35]].join(""),o+=c[34]),o+=c[177]):(o+=c[34],_.MJ(38==_.MB(h[37]))||_.MJ(5==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[178],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(9==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[167],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(11==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[156],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(4==_.MB(h[37]))||_.MJ(69==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[179],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(23==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[180],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(27==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[181],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(75==_.MB(h[37]))||_.MJ(8==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[163],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(6==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[142],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(95==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[182],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(22==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[183],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(3==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[184],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(15==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[140],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(86==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[185],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(43==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[186],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(77==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[187],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(1==_.MB(h[37]))||_.MJ(120==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[188],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[116]].join(""):_.MJ(79==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[148],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(81==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[189],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(121==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[190],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(85==_.MB(h[37]))||_.MJ(126==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[159],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(73==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[191],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(45==_.MB(h[37]))||_.MJ(999==_.MB(h[37]))||_.MJ(97==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[192],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(34==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[134],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[116]].join(""):_.MJ(123==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[128],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(33==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[193],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(88==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[194],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(113==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[195],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(170==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[196],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(101==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[197],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(93==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[155],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):_.MJ(102==_.MB(h[37]))?o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[198],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""):o+=[c[35],(s.unshift({"aria-hidden":c[102],fill:_.MB(h[38]),focusable:c[103],height:_.MB(h[35]),name:c[126],role:c[105],width:_.MB(h[35])}),l=_.HELPER("icon",s[0]),s.shift(),l),c[34]].join(""),o+=c[0]),o+=[c[33],"",c[1]].join(""),e=_r_(o),s.shift(),e+=c[201];s.shift(),e+=c[34]}var o;return e+=[c[202],_.F.entities(_.MC(h[42])),c[203],_.F.entities(_.MC(h[43])),c[204],(s.unshift({num_nights:_.MC(h[44])}),l=_.ME(c[205],_.MB,_.MN,null),s.shift(),l),c[206],_.F.entities(_.MC(h[45])),c[207]].join(""),_.MK(_.track_experiment("NLJHRYbYZWYFRURURHe"))&&(e+=c[208]),e+=c[209],_.MD(h[46])?(e+=c[65],_.MJ(1==_.MB(h[10]))?e+=[c[210],_.ME(c[211],_.MB,_.MN,null),c[212]].join(""):e+=[c[213],_.F.entities(_.MC(h[25])),c[214],_.ME(c[215],_.MB,_.MN,null),c[216]].join(""),e+=c[35]):e+=[c[217],_.F.entities(_.MC(h[25])),c[218],_.ME(c[211],_.MB,_.MN,null),c[219]].join(""),e+=c[220],_r_(e)}(e+=c[0]),e+=c[1],_r_(e)})}()),booking.jstmpl("comp_hotel_carousel",function(){_i_("269:d30a0255");var r,a=["\n    ",'<div id="comp-carousel-decor">\n    <div id="comp-carousel-root" role="region" aria-label="Property types" class="comp-tool-properties-carousel bui-carousel bui-carousel--large bui-u-bleed@small" data-bui-component="Carousel">\n        <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n            \n        </ul>\n        <div class="bui-carousel__nav">\n            <button type="button" class="bui-carousel__button" data-bui-ref="carousel-prev" aria-label="Previous content">\n                ',"bui-carousel__prev","iconset/navarrow_left","presentation","32",'\n            </button>\n            <button type="button" class="bui-carousel__button" data-bui-ref="carousel-next" aria-label="Next content">\n                ',"bui-carousel__next","iconset/navarrow_right","\n            </button>\n        </div>\n    </div>\n</div>\n","\n"];return _r_(function(e){_i_("269:d3e7ab8b");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("269:623bdfc7"),t+=[a[1],(e.unshift({class:a[2],name:a[3],role:a[4],width:a[5]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[6],(e.unshift({class:a[7],name:a[8],role:a[4],width:a[5]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[9]].join(""),i=_r_(t),i+=a[10],_r_(i)})}()),_i_("269:3bef0160"),B.when({action:["hotel"],condition:"www"===B.env.b_site_type&&0===parseInt(B.env.auth_level),events:"ready"}).run(function(){function c(e,t,i){return _i_("269:2ea27125"),_r_(function(){_i_("269:0ecada59"),$.ajax({url:"/comparison_tool/blacklist?ufi="+B.env.b_ufi+"&hotel_id="+i,method:"GET"}).fail(function(){_i_("269:13b735e6"),B.squeak("Product Match: comparison_tool error on trying to blacklist. hotel_id: "+i+", ufi: "+B.env.b_ufi+", action: "+B.env.b_action),_r_()}),e.removeChild(t),0===e.children.length&&($(".bui-modal__content .bui-modal__close").click(),$(".comp-banner").css("display","none")),_r_()})}function h(e){if(_i_("269:99c2c741"),0<e.rating&&0===e.hotel_class_is_estimated)return _r_(e.rating);return _r_(0)}function d(e){if(_i_("269:6baafef1"),0<e.rating&&1===e.hotel_class_is_estimated)return _r_(e.rating);return _r_(0)}function f(e){if(_i_("269:a2c9fd2a"),0===e.rating&&0<e.bar_rating)return _r_(e.bar_rating);return _r_(0)}function u(e){_i_("269:c612500c");for(var t=B.env.b_hotelfacilities,i={},n=0;n<e.length;n++)for(var r=e[n],a=0;a<t.length;a++)t[a].b_id==r&&(i[r]=t[a].name);var o=[];if(i){var s=Object.keys(i);for(a=0;a<s.length;a++){var _=s[a];o.push({id:_,title:i[_]})}}return _r_(o)}_i_("269:346f9a81"),$("#comp-tool-compare-btn").click(function(){_i_("269:e1c0cb25"),B.et.goal("ct_pp_cta_clicks"),$.ajax({type:"GET",url:"/comparison_tool",data:{ufi:B.env.b_ufi}}).done(function(e){_i_("269:17d1288a");var t=e.hotels;t||B.squeak("Product Match: comparison_tool light action returned with empty object"),$("#comp-tool-loading").css("display","none"),$("#comp-tool-content").css("opacity","1");var i=$("#comp-tool-content"),n=$(B.jstmpl("comp_hotel_carousel").render({b_action:"hotel"}));i.append(n),function(e){_i_("269:6bc30ef1");for(var t=$("#comp-carousel-root ul"),i=0;i<e.length;i++){var n=e[i],r=u(n.facilities),a=0;void 0!==n.b_is_in_wishlist?a=n.b_is_in_wishlist:(B.env.b_wishlists_hotels_ids&&B.env.b_wishlists_hotels_ids[n.id]||B.env.b_user_wishlisted_hotels_count&&B.env.b_user_wishlisted_hotels_count[n.id])&&(a=1);var o=B.jstmpl("comp_hotel_card").render({b_logged_in_user:0<parseInt(B.env.auth_level),fe_is_hotel_page:"hotel"===B.env.b_action,b_review_customer_types:B.env.b_review_customer_types,fe_dist_to_center:n.b_distance_formatted,b_distances_from_city_center:{b_distance_localized:n.b_distance_formatted},b_review_score_detailed_formatted:n.hotel_review_score_non_localized,fe_score:n.hotel_review_score_non_localized,b_review_nr:n.hotel_review_nr,b_checkin_date_medium:n.checkin_no_year,b_checkout_date_medium:n.checkout_no_year,b_cheapest_available_total_price_formatted:n.price_formatted,b_checkin_checkout_interval:(new Date(n.checkout_raw)-new Date(n.checkin_raw))/864e5,fe_comp_tool_curr_hotel_id:n.id,fe_hotel_name_card:n.hotel_name,fe_hotel_url_for_card:n.url+"&viewed_ct=pp#hprt-table",fe_hotel_card_image_cover:n.main_photo_max300,fe_hotel_facilities_for_card:r,fe_location_card_review_score:n.location_review_score,fe_stars_rating:h(n),fe_circles_rating:d(n),fe_squares_rating:f(n),fe_comp_tool_currently_viewing:n.id===B.env.b_hotel_id?1:0,fe_wishlist_hotel_id:n.id,fe_is_in_wishlist:a}),s=document.createElement("li");s.classList.add("bui-carousel__item"),s.classList.add("card-carousel"),s.classList.add("carousel-card-fix--hard"),s.setAttribute("data-bui-ref","carousel-item"),s.appendChild($(o)[0]);var _=$(s).find(".comp-tool-dismiss-btn")[0];_&&_.addEventListener("click",c(t[0],s,n.id)),n.id===B.env.b_hotel_id?($("#comp-tool-main-card-container").append(s.children[0]),$(".comp-tool-cta button").click(function(){_i_("269:081f7788"),B.et.goal("ct_pp_property_clicks"),$(".bui-modal__content .bui-modal__close").click(),$([document.documentElement,document.body]).animate({scrollTop:$(".hprt-table").offset().top},200),_r_()})):(t.append(s),$(".comp-tool-cta a").click(function(){_i_("269:16b53d6e"),B.et.goal("ct_pp_property_clicks"),_r_()}))}var l=$.map($(".comp-tool-hotel-card .js-wl-dropdown-handle"),function(e){return _i_("269:3e2459ef"),_r_(e)});B.require("lists/lists-hotel-dropdown/lists-hotel-dropdown").initWithTargets(l),Array.prototype.forEach.call(document.getElementsByClassName("card-carousel"),function(e){_i_("269:3cb42b51"),window.BUI.initComponents(e),_r_()}),Array.prototype.forEach.call(document.getElementsByClassName("card-image-carousel"),function(e){_i_("269:3cb42b511"),window.BUI.initComponents(e),_r_()}),_r_()}(t),window.BUI.initComponents(i[0]),_r_()}),_r_()}),_r_()}),_r_(),booking.jstmpl("comp_hotel_empty_state",function(){_i_("269:c1fd8b7f");var r,a=["\n    ",'<div class="comp-tool-empty-state">\n    ',"55","iconset/magnifying_glass",'\n    <h2 class="comp-tool-empty-state-header">',"/private/pm_ct_es2_header/name",'</h2>\n    <p class="comp-tool-empty-state-text">',"/private/pm_ct_es2_body/name","</p>\n    ",'\n        <a class="bui-button bui-button--primary bui-button--wide"\n           target="_blank"\n           rel="noopener"\n           href="','"\n           style="width: 40%; margin: 15px 30%;">\n            ',"/private/pm_ct_es2_cta/name","\n        </a>\n    ",'\n        <button class="comp-tool-empty-state-btn bui-button bui-button--primary bui-button--wide">',"</button>\n    ","\n</div>\n","\n"],o=["b_back_to_sr_url","propertyPage"];return _r_(function(e){_i_("269:c4c5523c");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("269:7e7385cc"),t+=[a[1],(e.unshift({hight:a[2],name:a[3],width:a[2]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[4],n.ME(a[5],n.MB,n.MN,null),a[6],n.ME(a[7],n.MB,n.MN,null),a[8]].join(""),n.MD(o[1])?t+=[a[9],n.F.entities(n.MC(o[0])),a[10],n.ME(a[11],n.MB,n.MN,null),a[12]].join(""):t+=[a[13],n.ME(a[11],n.MB,n.MN,null),a[14]].join(""),t+=a[15],i=_r_(t),i+=a[16],_r_(i)})}()),B.define("component/fragment/pm/comparison_tool",function(i,e,t){_i_("269:ada79ff4");var s,d,n,r=i("component/fragment"),a=!1,f="-16px 10em 0em",_="button.bui-carousel__button.bui-is-visible",u="comp-carousel-decor",l="comp-tool-content",p="comp-tool-main-card-container";t.exports=r.extend({fragmentName:"product_match.comparison_tool",fragmentTemplate:"fragment/product_match/pm_comparison_tool",init:function(){if(_i_("269:a13469a5"),r.prototype.init.call(this),(d="searchresults"===B.env.b_action)&&0<parseInt(B.env.auth_level)){var e=i("searchresults/events"),t=this;n=document.querySelector(".sr_cta_button")?".sr_cta_button":".sr-cta-button-row a",this._handleClickEvents(t),e.on(e.UI_RESULTS_UPDATED,function(){_i_("269:095a0d16"),t._handleClickEvents(t),_r_()}),e.on(e.UI_SORTING_CHANGED,this._hideCompToolBanner),e.on(e.UI_FILTER_CHANGED,this._hideCompToolBanner)}_r_()},fragmentAfterRender:function(){_i_("269:022cab83"),window.BUI.initComponents(document.getElementById("comp-tool-modal-container")),this._addCTAListener(),_r_()},_addCTAListener:function(){_i_("269:632c0f12");var o=this;document.getElementById("comp-tool-compare-btn").addEventListener("click",function(){_i_("269:f4fcd625"),B.et.goal(d?"ct_sr_cta_clicks":"ct_pp_cta_clicks");var e=B.env.b_ufi?B.env.b_ufi:B.env.fe_ufi_ct_map?B.env.fe_ufi_ct_map[s]:0;$.ajax({type:"GET",url:"/comparison_tool",data:{ufi:e}}).done(function(e){_i_("269:f01d50c9");var t=e.hotels;t&&0!==t.length||B.squeak("Product Match: comparison_tool light action returned with empty object"),document.getElementById("comp-tool-loading").style.display="none",document.getElementById(l).style.opacity="1";var i=document.getElementById(l);if(0<parseInt(B.env.auth_level)&&(!t||0===t.length))return o._generateEmptyState(i),_r_();$("#"+p).empty(),$("#"+u).remove();var n=$(B.jstmpl("comp_hotel_carousel").render({b_action:B.env.b_action}));i.appendChild(n[0]),o._createHotelCards(t,o),window.BUI.initComponents(i),document.getElementsByClassName("comp-tool-properties-carousel")[0].style.background="#FFF",document.getElementById(u).style.background="#FFF";var r,a=[];Array.prototype.forEach.call(document.getElementsByClassName("comp-tool-hotel-card"),function(e){_i_("269:da02f411"),a.push(e.getAttribute("data-hotel-id")),_r_()}),r=B.env.tpi_search_config?B.env.tpi_search_config:B.env.b_group?{b_adults_total:B.env.b_group[0].guests,b_children_total:B.env.b_group[0].children,b_nr_rooms_needed:B.env.b_group_rooms_wanted}:{b_adults_total:2,b_children_total:0,b_nr_rooms_needed:1},$.get("/get_match_score",{hotel_ids:a.join(","),los:B.env.b_checkin_checkout_interval||1,adults:r.b_adults_total,children:r.b_children_total,rooms:r.b_nr_rooms_needed||1}).done(function(e){_i_("269:6e61528c");var n=e.result||{};Array.prototype.forEach.call(document.getElementsByClassName("comp-tool-hotel-card"),function(e){_i_("269:a7759107");var t=e.getAttribute("data-hotel-id"),i=e.querySelector(".ms-container");if(!n[t])return i.style.display="none",_r_();i.innerHTML=B.jstmpl("match_score_block").render({score:Math.floor(n[t]),isWishlist:!1}),_r_()}),o._animateMsIcon($("#"+l)),_r_()}).fail(function(){_i_("269:94b1a37f"),B.squeak("Product Match: comparison_tool error on trying to load match scores on desktop for action "+B.env.b_action),_r_()}),_r_()}),_r_()}),_r_()},_handleClickEvents:function(t){_i_("269:2e464ebb"),Array.prototype.forEach.call(document.querySelectorAll(n+", .hotel_name_link, .sr_item_photo, .sr_card_address_line a.bui-link, .sr-review-score a.sr-review-score__link, tr.entire_row_clickable, .entire_row_clickable"),function(e){_i_("269:dc3fbca9"),e.addEventListener("mousedown",t._compToolSRHandler(t)),_r_()}),_r_()},_compToolSRHandler:function(i){return _i_("269:abee0cce"),_r_(function(e){if(_i_("269:55a3dd87"),!$(e.currentTarget).parents(".sr_item").find(n)[0])return _r_();s=$(e.currentTarget).parents(".sr_item").data("hotelid");var t=B.env.b_ufi?B.env.b_ufi:B.env.fe_ufi_ct_map?B.env.fe_ufi_ct_map[s]:0;s&&t&&$.get("/comparison_tool/sr_click",{hotel_id:s,ufi:t}).then(function(e){_i_("269:da1d38bf");var t=e.result;!a&&t&&i._showCTBanner(s),_r_()}),_r_()})},_showCTBanner:function(i){_i_("269:896df1a5"),$(".sr_item").each(function(e,t){_i_("269:95ac9f89"),$(t).data("hotelid")===i&&$(".comp-banner").appendTo($(".sr-ct-banner-handle-"+i)),_r_()}),a=!0,_r_()},_hideCompToolBanner:function(){_i_("269:f38b1f68"),a&&($(".comp-banner").appendTo($(".hide-ct-banner")),a=!1),s=void 0,_r_()},_generateEmptyState:function(e){_i_("269:29f403ba");var t=B.jstmpl("comp_hotel_empty_state").render({propertyPage:!d,b_back_to_sr_url:B.env.b_back_to_sr_url});e.appendChild($(t)[0]),document.querySelector("#"+l+" h2").style.display="none",document.querySelector("#"+l+" h2.comp-tool-empty-state-header").style.display="block",d&&document.getElementsByClassName("comp-tool-empty-state-btn")[0].addEventListener("click",function(){_i_("269:7f84f9e5"),document.querySelector(".bui-modal__content .bui-modal__close").click(),_r_()}),_r_()},_createHotelCards:function(e,t){_i_("269:6f3826d2");for(var i=document.querySelector("#comp-carousel-root ul"),n=0;n<e.length;n++){var r=e[n],a=t._processFacilities(r.facilities),o=d?"sr":"pp",s=0;void 0!==r.b_is_in_wishlist?s=r.b_is_in_wishlist:(B.env.b_wishlists_hotels_ids&&B.env.b_wishlists_hotels_ids[r.id]||B.env.b_user_wishlisted_hotels_count&&B.env.b_user_wishlisted_hotels_count[r.id])&&(s=1);var _=B.jstmpl("comp_hotel_card").render({b_logged_in_user:0<parseInt(B.env.auth_level),fe_is_hotel_page:!d,b_review_customer_types:B.env.b_review_customer_types,fe_dist_to_center:r.b_distance_formatted,b_distances_from_city_center:{b_distance_localized:r.b_distance_formatted},b_review_score_detailed_formatted:r.hotel_review_score_non_localized,fe_score:r.hotel_review_score_non_localized,b_review_nr:r.hotel_review_nr,b_checkin_date_medium:r.checkin_no_year,b_checkout_date_medium:r.checkout_no_year,b_cheapest_available_total_price_formatted:r.price_formatted,b_checkin_checkout_interval:(new Date(r.checkout_raw)-new Date(r.checkin_raw))/864e5,fe_comp_tool_curr_hotel_id:r.id,fe_hotel_name_card:r.hotel_name,fe_hotel_url_for_card:r.url+"&viewed_ct="+o+"#hprt-table",fe_hotel_card_image_cover:r.main_photo_max300,fe_hotel_facilities_for_card:a,fe_location_card_review_score:r.location_review_score,fe_stars_rating:t._getStarsRating(r),fe_circles_rating:t._getCirclesRating(r),fe_squares_rating:t._getSquaresRating(r),fe_comp_tool_currently_viewing:r.id===B.env.b_hotel_id?1:0,fe_wishlist_hotel_id:r.id,fe_is_in_wishlist:s}),l=document.createElement("li");l.classList.add("bui-carousel__item"),l.classList.add("card-carousel"),l.classList.add("carousel-card-fix--hard"),l.setAttribute("data-bui-ref","carousel-item"),l.appendChild($(_)[0]);var c=l.getElementsByClassName("comp-tool-dismiss-btn")[0];c&&c.addEventListener("click",t._dismissHotelCard(i,l,r.id,t)),r.id==B.env.b_hotel_id?(document.getElementById(p).appendChild(l.children[0]),document.querySelector(".comp-tool-cta button").addEventListener("click",function(){_i_("269:efe57097"),B.et.goal(d?"ct_sr_property_clicks":"ct_pp_property_clicks"),document.querySelector(".bui-modal__content .bui-modal__close").click(),$([document.documentElement,document.body]).animate({scrollTop:$(".hprt-table").offset().top},200),_r_()})):(i.appendChild(l),document.querySelector(".comp-tool-cta a").addEventListener("click",function(){_i_("269:43e65d70"),B.et.goal(d?"ct_sr_property_clicks":"ct_pp_property_clicks"),_r_()}))}1===e.length&&0<parseInt(B.env.auth_level)&&(d||r.id!=B.env.b_hotel_id?document.getElementById(u).style.margin=f:(document.getElementById(u).style.display="none",document.querySelector("#"+p+" .comp-tool-hotel-card").style.margin="0em 10em"));var h=$.map($(".comp-tool-hotel-card .js-wl-dropdown-handle"),function(e){return _i_("269:3e2459ef1"),_r_(e)});B.require("lists/lists-hotel-dropdown/lists-hotel-dropdown").initWithTargets(h),Array.prototype.forEach.call(document.getElementsByClassName("card-carousel"),function(e){_i_("269:3cb42b512"),window.BUI.initComponents(e),_r_()}),Array.prototype.forEach.call(document.getElementsByClassName("card-image-carousel"),function(e){_i_("269:3cb42b513"),window.BUI.initComponents(e),_r_()}),_r_()},_dismissHotelCard:function(n,r,a,o){return _i_("269:fa3c3ba5"),_r_(function(){_i_("269:fd583659");var e=B.env.b_ufi?B.env.b_ufi:B.env.fe_ufi_ct_map?B.env.fe_ufi_ct_map[s]:0;if($.ajax({url:"/comparison_tool/blacklist?ufi="+e+"&hotel_id="+a,method:"GET"}).fail(function(){_i_("269:e81c9d34"),B.squeak("Product Match: comparison_tool error on trying to blacklist. hotel_id: "+a+", ufi: "+e+", action: "+B.env.b_action),_r_()}),n.removeChild(r),0<parseInt(B.env.auth_level)){var t=$("#"+p).children().length||0;if(0===n.children.length)d||!t?o._generateEmptyState(document.getElementById(l)):(document.getElementById(u).style.display="none",document.querySelector("#"+p+" .comp-tool-hotel-card").style.margin=f);else{window.BUI.getInstance(document.getElementById("comp-carousel-root")).update();var i=d?n.children.length:n.children.length+$("#"+p).children().length;if(1===i)d||!t?document.getElementById(u).style.margin=f:(document.getElementById(u).style.display="none",document.querySelector("#"+p+" .comp-tool-hotel-card").style.margin="0em 10em");else i<=(d?3:4)&&0<$(_).length&&document.querySelector(_).click()}}else 0===n.children.length&&(document.querySelector(".bui-modal__content .bui-modal__close").click(),document.querySelector(".comp-banner").style.display="none");_r_()})},_getStarsRating:function(e){if(_i_("269:f8c2fd05"),0<e.rating&&0==e.hotel_class_is_estimated)return _r_(e.rating);return _r_(0)},_getCirclesRating:function(e){if(_i_("269:c410eb87"),0<e.rating&&1==e.hotel_class_is_estimated)return _r_(e.rating);return _r_(0)},_getSquaresRating:function(e){if(_i_("269:8e66396c"),0==e.rating&&0<e.bar_rating)return _r_(e.bar_rating);return _r_(0)},_processFacilities:function(e){_i_("269:c2c22044");for(var t=B.env.b_hotelfacilities,i={},n=0;n<e.length;n++)for(var r=e[n],a=0;a<t.length;a++)t[a].b_id==r&&(i[r]=t[a].name);var o=[];if(i){var s=Object.keys(i);for(a=0;a<s.length;a++){var _=s[a];o.push({id:_,title:i[_]})}}return _r_(o)},_animateMsIcon:function(n){_i_("269:1238fc06");var r={v:"5.5.2",fr:29.9700012207031,ip:0,op:30.0000012219251,w:109,h:103,nm:"ms-icon",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Layer 3/ms-icon Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[85.5,26.5,0],ix:2},a:{a:0,k:[37.5,32.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-17.499,.908],[-4.161,12.201],[17.499,-12.201]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.995999983245,.732999973671,.008000000785,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:2,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[37.499,32.201],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:0,k:0,ix:1},e:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:20,s:[0]},{t:28.0000011404634,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Layer 2 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[47.32,52.425,0],ix:2},a:{a:0,k:[26.59,24.015,0],ix:1},s:{a:1,k:[{i:{x:[.833,.833,.833],y:[.833,.833,-19]},o:{x:[.333,.333,.333],y:[0,0,0]},t:7,s:[0,0,100]},{i:{x:[.833,.833,.833],y:[.833,.833,7.111]},o:{x:[.333,.333,.333],y:[0,0,0]},t:17,s:[120,120,100]},{t:21.0000008553475,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-5.661,0],[0,-5.661],[5.661,0],[0,5.661]],o:[[5.661,0],[0,5.661],[-5.661,0],[0,-5.661]],v:[[0,-10.25],[10.25,0],[0,10.25],[-10.25,0]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,.20800000359,.501999978458,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[26.16,10.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[14.51,0],[0,0],[-14.51,0]],o:[[0,0],[-14.51,0],[0,0],[14.51,0]],v:[[26.34,0],[0,-11.83],[-26.34,0],[0,11.83]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,.20800000359,.501999978458,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[26.59,35.95],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Layer 1 Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[51.456,51.822,0],ix:2},a:{a:0,k:[67.917,67.591,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[25.911,-1.003],[1.002,25.912],[-25.91,1.002],[-7.777,-4.61]],o:[[1.003,25.911],[-25.91,1.003],[-1.003,-25.909],[9.034,-.35],[0,0]],v:[[46.915,-2.142],[1.816,46.588],[-46.915,1.488],[-1.815,-47.241],[23.939,-40.715]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,.20800000359,.501999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:8,ix:5},lc:2,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[67.917,67.591],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[1],y:[1]},o:{x:[0],y:[0]},t:0,s:[100]},{t:12.00000048877,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:30.0000012219251,st:0,bm:0}],markers:[]};n.find(".ms-icon").each(function(e,t){_i_("269:30996834");var i={container:t,renderer:"svg",loop:!1,autoplay:!0,animationData:r};n.find(".slide-in-fwd-center").each(function(e,t){_i_("269:59cb56ae"),t.classList.add("post-load-effect"),_r_()}),B.require("svg-animator").loadAnimation(i),_r_()}),_r_()}}),_r_()}),B.when({condition:B.env.fe_is_hotspring_gallery_enabled,action:"hotel",experiment:"IaaVGGPZZLJbFcQQHT"}).run(function(e){_i_("269:edceec2d");var t=e("jquery");new(e("hotel/rooms_table/lightbox/gallery"))(t(".hotspring-gallery-container")),_r_()}),B.define("resort/utils",function(e,t,i){_i_("269:49967b6c");var a=e("promise"),r=e("jquery"),n=e("server-data"),o={force_production:n.b_force_production,force_qa:n.b_force_qa,all_providers:n.b_pkg_all_providers};function s(i,n){return _i_("269:ab3ce864"),_r_(new a(function(e,t){_i_("269:8b297f7d"),r.ajax({type:"POST",url:i,data:n,dataType:"json"}).then(e).fail(t),_r_()}))}function _(e){return _i_("269:dc62611b"),_r_(e.replace(/[\u007f-\uffff]/g,function(e){return _i_("269:16d6b03a"),_r_("\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4))}))}i.exports={makeCallPromise:s,makePricelineCall:function(e,t){_i_("269:6ab02207");var i=Object.assign({},t,o),n=_(JSON.stringify(i));return _r_(s(e,n))},replaceUnicode:_,pollForData:function n(r){if(_i_("269:04e16def"),0===r.triesCount)return _r_(a.reject({error:"EXCEEDED_NUM_OF_TRIES"}));return _r_(r.getDataPromise().then(function(e){_i_("269:4ebe3460");var t,i=r.resolvePredicate(e);return r.triesCount--,_r_(i?a.resolve(e):(t=r.delay,_i_("269:b69520de"),_r_(new a(function(e){_i_("269:e1781708"),setTimeout(function(){_i_("269:06630aca1"),e(),_r_()},t),_r_()}))).then(function(){return _i_("269:3e8d00da"),_r_(n(r))}))}))},getTimeDiff:function(e,t){return _i_("269:d65827f8"),_r_(Math.round(Math.abs(t-e)/1e3))}},_r_()}),booking.jstmpl("resort_hp_entry_point",function(){_i_("269:4238d182");var r,a=["\n    ","\n\n\n\n\n\n\n\n\n\n\n\n","\n\n",'<div class="bui-card" data-et-view="',':1"><div class="bui-card__content"><div class="bui-grid bui-grid--bleed"><div class="bui-grid__column-3">',"",'<img class="bui-banner__image" src="','"></div><div class="bui-grid__column-9"><div class="bui-grid bui-grid--bleed bui-grid--align-end"><div class="bui-grid__column-8" style="padding: 0 16px"><header class="bui-card__header">','<h3 class="bui-f-font-heading">',"/private/pckgs_sr_banner_header/name",'</h3><h4 class="bui-card__subtitle bui-spacer--medium">',"/private/pckgs_sr_banner_body/name","</h4>","/private/resorts_ep_pp_card_head/name","/private/resorts_ep_pp_card_subhead/name","/private/resorts_entry_pp_header/name","/private/resorts_entry_pp_sub_header/name",'<span class="bui-badge bui-badge--constructive"><span class="bui-badge__text">',"/private/resorts_badge_all_in/name","</span></span>",'</header><p class="bui-f-font-emphasized bui-spacer--medium">',"/private/pkgs_entry_pp_package_includes/name",'</p><ul class="bui-list bui-list--text bui-list--icon bui-f-font-body"><li class="bui-list__item bui-grid--align-center">',"iconset/bed","medium",'&nbsp;&nbsp;<div class="bui-list__body">',"/private/resorts_pp_inc_num_night_stay/name",'</div></li><li class="bui-list__item bui-grid--align-center">',"res-included__icon","iconset/airplane",'&nbsp;&nbsp;<div class="bui-list__body"><span>',"/private/resorts_entry_pp_rtrn_flight/name",' (<a class="bui-link bui-link--primary" href="','" target="_blank" data-edit-btn >',"/private/resorts_entry_pp_edit/name",'</a>)</span></div></li><li class="bui-list__item bui-grid--align-center">',"iconset/wallet","/private/resorts_pp_inc_taxes_fees/name",'</div></li></ul></div><div class="bui-grid__column-4">','<div class="bui-price-display bui-spacer--medium"><div class="bui-price-display__label">',"/private/resorts_sr_card_price_per_person/name",'</div><div class="bui-price-display__value">',"</div></div>",'<a class="bui-button bui-button--primary bui-button--wide" href="','#info-tabs" target="_blank" data-view-btn data-et-click="customGoal:',':1" ><span class="bui-button__text">',"/private/resorts_entry_pp_cta_packages/name","</span></a></div></div></div></div></div></div>","\n"],o=["fe_pkg_destination_img_url","fe_pkg_is_generic_view","city_name","city_name_in","fe_pcln_has_all_inclusive_rate_property","fe_initial_los","fe_origin_airport_city","fe_pkg_sr_url","fe_reservation_total_price_per_person_formatted","fe_pkg_hp_url"];return _r_(function(e){_i_("269:69b2876c");var t,i="",n=this.fn;return i+=a[0],t=i,_i_("269:c87c36d9"),t+=[a[1],"",a[2]].join(""),t+=[a[3],n.F.entities("OQeIJNZbHAWTCUZZVCMIRe"),a[4]].join(""),n.MD(o[1])?(t+=a[5],n.MN(o[0],n.STATIC_HOSTNAME("/static/img/resorts/entry-points/airplane_500.jpg",0,0,0))):(t+=a[5],n.MN(o[0],n.STATIC_HOSTNAME("/static/img/resorts/resorts-hp-entry-point.jpg",0,0,0))),t+=a[5],t+=[a[6],n.F.entities(n.MC(o[0])),a[7]].join(""),n.MD(o[1])?(t+=a[5],n.MJ(n.track_experiment("OQeIJNZbHAWTCUZZVCMIRe"))?t+=[a[8],n.ME(a[9],n.MB,n.MN,null),a[10],(e.unshift({city_name:n.MB(o[2]),in_city_name:n.MB(o[3])}),r=n.ME(a[11],n.MB,n.MN,null),e.shift(),r),a[12]].join(""):t+=[a[8],n.ME(a[13],n.MB,n.MN,null),a[10],n.ME(a[14],n.MB,n.MN,null),a[12]].join(""),t+=a[5]):t+=[a[8],n.ME(a[15],n.MB,n.MN,null),a[10],n.ME(a[16],n.MB,n.MN,null),a[12]].join(""),t+=a[5],n.MD(o[4])&&(t+=[a[17],n.ME(a[18],n.MB,n.MN,null),a[19]].join("")),t+=[a[20],n.ME(a[21],n.MB,n.MN,null),a[22],(e.unshift({color:"#BDBDBD",name:a[23],size:a[24]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[25],(e.unshift({num:n.MB(o[5])}),r=n.ME(a[26],n.MB,n.MN,n.MO(n.MC(o[5]),null,a[26])),e.shift(),r),a[27],(e.unshift({class:a[28],color:"#BDBDBD",name:a[29],size:a[24]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[30],(e.unshift({city_name:n.MB(o[6])}),r=n.ME(a[31],n.MB,n.MN,null),e.shift(),r),a[32],n.F.entities(n.MC(o[7])),a[33],n.F.trim(n.ME(a[34],n.MB,n.MN,null)),a[35],(e.unshift({class:a[28],color:"#BDBDBD",name:a[36],size:a[24]}),r=n.HELPER("icon",e[0]),e.shift(),r),a[25],n.ME(a[37],n.MB,n.MN,null),a[38]].join(""),n.MD(o[8])&&(t+=[a[39],n.ME(a[40],n.MB,n.MN,null),a[41],n.F.entities(n.MC(o[8])),a[42]].join("")),t+=[a[43],n.F.entities(n.MC(o[9])),a[44],n.F.entities("OQeIJNZbHAWTCUZZVCMIRe"),a[45],n.ME(a[46],n.MB,n.MN,null),a[47]].join(""),t+=[a[2],"",a[48]].join(""),i=_r_(t),i+=a[48],_r_(i)})}()),B.define("component/resort/hp-entry-point",function(e,t,i){_i_("269:adb6b45a");var n=e("component"),r=e("fragment"),a=e("server-data"),o=e("et"),s=e("resort/utils"),_=e("jstmpl"),l=e("morphdom"),c=Number(a.b_days_difference),h=a.fe_pkg_is_generic_view,d=a.b_single_resort_carrier_endpoint,f=a.fe_destination_nearest_airport,u=a.b_visitor_ufi,p=a.b_ufi,m=a.fe_pkg_is_group_search_enabled,b={resort_id:a.b_hotel_id,nr_adults:a.b_search_config.b_adults_total,nr_rooms:a.b_search_config.b_nr_rooms_needed,depart_date:a.b_checkin_date,return_date:a.b_checkout_date,origin_type:"AIRPORT",origin_ufi:u,destination:f.b_code,dest_type:"AIRPORT",destination_ufi:p,destination_name:f.b_title};m&&(b.nr_children=a.b_search_config.b_children_total,b.children_ages=(a.b_search_config.b_children_ages_total||[]).join(","));i.exports=n.extend({init:function(){_i_("269:c59a86bc"),this.visitorNearestAirport=null,this.fullSearchConfig=null,this._initClickTracking(),this._fetchData(),_r_()},_initClickTracking:function(){_i_("269:9f62dadb"),this.$el.on("click","[data-view-btn]",function(){_i_("269:7c1baad5"),o.customGoal("eDSdUbGSRQHOZLeHYCQdMBUHSWedNDeQfYYT",1),_r_()}),this.$el.on("click","[data-edit-btn]",function(){_i_("269:b87d086c"),o.customGoal("eDSdUbGSRQHOZLeHYCQdMBUHSWedNDeQfYYT",2),_r_()}),_r_()},_trackLos:function(e,t){if(_i_("269:939d9988"),null==e||null==t)return _r_();e!=t&&(o.stage("aaMLFHSWedNTUQODHMBXe",2),o.stage("eDSdUfZZIUONSFTUQODPWAecDKORe",2)),_r_()},_fetchData:function(){_i_("269:6284715f");var i=this;o.customGoal("eDSdUfZZIUONSFVIQHNdbfZDXKe",1),r.call("airports.get_nearest",{ufi:u}).then(function(e){if(_i_("269:3c1a97d1"),!e||!e.iata)throw"No nearest airport data";return i.visitorNearestAirport=e,i.fullSearchConfig=Object.assign(b,{origin:e.iata,origin_name:e.name+", "+e.city}),_r_(s.makePricelineCall(d,i.fullSearchConfig))}).then(function(e){if(_i_("269:09cffe2b"),!e)throw"No data after calling carrier";if(e&&e.has_error&&e.error)throw e.error;var t=e.response;return _r_(r.call("resorts.hp_single_resort_card",{pcln_raw_response:t,search_config:s.replaceUnicode(JSON.stringify(i.fullSearchConfig)),target_resort_id:a.b_hotel_id}))}).then(function(e){if(_i_("269:c4662d36"),!e||"object"==typeof e&&0===Object.keys(e).length)throw"No data after calling fragment";var t={fe_pkg_hp_url:e.b_bkng_hotel_url,fe_pkg_sr_url:e.b_resort_sr_url,fe_reservation_total_price_per_person_formatted:e.b_reservation_total_price_per_person_formatted,fe_pcln_has_all_inclusive_rate_property:e.b_pcln_has_all_inclusive_rate_property,fe_initial_los:c,fe_pkg_is_generic_view:h,fe_origin_airport_city:i.visitorNearestAirport.city};i._renderCard(t),o.customGoal("eDSdUfZZIUONSFVIQHNdbfZDXKe",2),i._trackLos(c,e.b_los),_r_()}).catch(function(e){_i_("269:161a3a84"),o.customGoal("eDSdUfZZIUONSFVIQHNdbfZDXKe",3),_r_()}),_r_()},_renderCard:function(e){_i_("269:b99732e0");var t=_("resort_hp_entry_point").render(e);l(this.el,"<div>"+t.trim()+"</div>",{childrenOnly:!0}),o.initAttributesTracking(this.$el),_r_()}}),_r_()}),B.when({action:"hotel",events:"ready"}).run(function(e){_i_("269:476ff011");var n=e("jquery"),r=e("et"),i="#hotelpage_availform",a="OLGPZZSEISUaDDSSUTIHJPHHT";n(i).on("submit.stayOnHP",function e(t){_i_("269:c5851e94"),t.preventDefault(),t.stopPropagation();var i=n(this);r.stage(a,2),r.track(a)&&i.attr("action",B.env.b_this_url+"#hp_changed_dates_target"),i.off("submit.stayOnHP",e),i.submit(),_r_()}),B.eventEmitter.on("CALENDAR:opened",function(e,t){_i_("269:03b17304"),t.instance.$element.closest(i).length&&r.stage(a,1),_r_()}),n(i).on("click",function(){_i_("269:a41daa30"),r.stage(a,1),_r_()}),_r_()}),booking.browserStorageHandler=function(c,e,h,d){_i_("269:a11e61ce");var f=!1;try{(f=!(!c.localStorage||!c.sessionStorage))&&c.localStorage.setItem("btest","1")}catch(e){f=!1}var n={_readCookie:function(e){_i_("269:51d0b270");var t={};try{"undefined"!=typeof JSON&&(t=JSON.parse(d.cookie(e))||{})}catch(e){}return _r_(t)},_modifySingleValue:function(e,t,i,n,r){if(_i_("269:22c7266b"),!t||!i)return _r_(!1);if(f&&!r){var a="session"===e?c.sessionStorage:c.localStorage;if("delete"===t)a.removeItem(i);else try{a.setItem(i,n)}catch(e){}}else{var o,s,_,l;"session"===e?o="bs":(o="b",l=30),s=this._readCookie(o),"delete"===t?delete s[i]:s[i]=n,_=d.isEmptyObject(s)?null:JSON.stringify(s),d.cookie(o,_,{expires:l,path:"/",domain:h.b_domain_end})}_r_()},_getValue:function(e,t,i){if(_i_("269:f1ea0118"),!t)return _r_(void 0);if(f&&!i){var n="session"===e?c.sessionStorage:c.localStorage;return _r_(n.getItem(t))}var r,a;return r="session"===e?"bs":"b",a=this._readCookie(r),_r_(a[t])}};return _r_({addSessionValue:function(e,t,i){return _i_("269:b380b492"),_r_(n._modifySingleValue("session","add",e,t,i))},deleteSessionValue:function(e,t){return _i_("269:d61f09c2"),_r_(n._modifySingleValue("session","delete",e,void 0,t))},getSessionValue:function(e,t){return _i_("269:d6b8f5d6"),_r_(n._getValue("session",e,t))},addPermanentValue:function(e,t,i){return _i_("269:fe0aaa49"),_r_(n._modifySingleValue("permanent","add",e,t,i))},deletePermanentValue:function(e,t){return _i_("269:99a942db"),_r_(n._modifySingleValue("permanent","delete",e,void 0,t))},getPermanentValue:function(e,t){return _i_("269:07d7aebb"),_r_(n._getValue("permanent",e,t))},isLocalStorageSupported:function(){return _i_("269:1bca3a3a"),_r_(f)}})}(window,document,booking.env,window.jQuery),booking.define&&booking.define("browser-storage-handler",booking.browserStorageHandler),B.when({events:"ready",condition:"hotel"===B.env.b_action&&B.env.fl_bhqc_do_you_agree||"review"===B.env.b_action&&B.env.fl_qc_poststay}).run(function(){_i_("269:93ff9b88");var a=B.require("jquery"),t=B.require("server-data"),o=a("#bhqc-feedback-loop"),i=o.find(".bhqc-feedback-loop__thank-you"),n=o.find(".bhqc-feedback-loop__more-info"),r=o.find(".bhqc-feedback-loop__entrypoint"),s=o.find(".bhqc-feedback-loop__content"),_=o.data("fl-poll"),l=o.data("fl-bhqc");if(!o.length)return _r_();function c(e){_i_("269:2b31cb16"),e.removeClass("bui-u-hidden"),_r_()}function h(e){_i_("269:ba3f2c22"),e.addClass("bui-u-hidden"),_r_()}function d(e){_i_("269:19162a50"),e=a.extend(e,{poll:_,hotel_id:t.b_hotel_id,action:t.b_action}),a.ajax({url:"/receive_content_feedback",method:"post",data:e}),e.not_missing_info?(c(n),h(i)):(c(i),h(n)),_r_()}o.on("click",".bhqc-feedback-loop__button",function(e){_i_("269:d4eafc61");var t,i=a(e.target).closest(".bhqc-feedback-loop__button"),n=i.data("fl-name"),r={rating:l};r[n]=i.data("fl-value"),d(r),t=i,_i_("269:1c4d8d4a"),o.find(".bhqc-feedback-loop__button").prop("disabled",!0),t.removeClass("bui-button--secondary").addClass("bui-button--primary"),_r_(),_r_()}),a(document).on("click","#bhqc-feedback-loop__modal .bhqc-feedback-loop__leave-note",function(){var e;_i_("269:955875c9"),e=a("#bhqc-feedback-loop__textarea"),_i_("269:a0e1cd02"),e.toggleClass("bui-u-hidden"),_r_(),_r_()}),a(document).on("click","#bhqc-feedback-loop__modal .bui-button--primary",function(e){_i_("269:4993f8bd");var t=a(e.target).closest("#bhqc-feedback-loop__modal").find("[data-fl-name]"),n={},r=[];t.each(function(e,t){_i_("269:f726dd1a");var i=a(t);i.is('[data-fl-name="multiple_choice_answers[]"]:checked')?r.push(i.val()):i.is('[data-fl-name="missing_comment"]')&&i.val()&&(n.reason="another_reason",n.else_comment=i.val()),_r_()}),n.multiple_choice_answers=r.join(),d(n),_i_("269:d15814d9"),a("#bhqc-feedback-loop__modal [data-fl-name]").each(function(e,t){_i_("269:8187428b");var i=a(t);i.is('[data-fl-name="multiple_choice_answers[]"]')?i.prop("checked",!1):i.val(""),_r_()}),_r_(),_r_()}),a(document).on("click","#bhqc-feedback-loop .bhqc-feedback-loop__givefeedback",function(e){_i_("269:38f3ca8b"),c(s),h(r),_r_()}),_r_()}),booking.jstmpl("similar_quality_properties",function(){_i_("269:a6aea450");var h,d=['\n\n\t<div class="bui-title bui-title--display-two similar-properties__title">\n\t\t<span class="bui-title__text">\n\n\t\t\t',"\n\t\t\t\t","\n\n\n","\n    ","\n","\n\n\n\n"," \n",'\n\n<span\n    class="'," grouped_ratings--wrapper grouped_ratings-qc--wrapper "," bh-quality-bars bh-quality-bars--"," ","",'"\n    ','\n    data-bui-component="Tooltip"\n    ','\n    title="',"/private/bhqc_sr_qc_desc_tooltip_affiliate/name","/private/bh_sr_quality_explanationv3/name",'\n    data-tooltip-position="bottom"\n    ','data-et-click="','"','data-et-mouseenter="',"\n>\n\n\n            ","\n                ",'<span class="grouped_ratings">\n                        ',"iconset/square_rating","\n                    </span>","\n            ","\n</span>\n\n","medium","\n\t\t\t","\n\n\t\t\t","/private/bhqc_properties_same_qual_header/name","/private/bhqc_properties_same_qual_rating_num/name",'\n\n\t\t</span>\n\t</div>\n\n\t<div class="bui-grid similar-properties__content">\n\n\t\t','\n\t\t\t<div class="bui-grid__column-3">\n\t\t\t\t<div class="similar-properties__card">\n\t\t\t\t\t<a class="bui-link" href="','" target="_blank">\n\t\t\t\t\t\t<div class="similar-properties__image">\n\t\t\t\t\t\t\t<img alt="','" src="','">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<h4 class="similar-properties__name">','</h4>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class="similar-properties__info">\n\t\t\t\t\t\t','\n\t\t\t\t\t\t\t<span class="similar-properties__review-score">\n\t\t\t\t\t\t\t\t',"/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/comp_num_reviews_sr_page/name","</div> ","\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t&middot;\n\t\t\t\t\t\t","\n\t\t\t\t\t\t",'\n\t\t\t\t\t\t\t<span class="similar-properties__price">\n\t\t\t\t\t\t\t\t',"/private/bhqc_properties_same_qual_from_price/name","\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t","\n\n\t</div>\n\n"],f=["fe_bh_quality_class_icons","fe_bar_size","criteria_bh_qc_grouped_rating","fe_custom_classes","fe_bar_level","fe_is_affiliate","fe_companyname","fe_site_type","fe_no_tooltip","fe_click_tracking","fe_mouseenter_tracking","fe_icon_size","fe_bh_quality_class","b_site_info","b_site_type","fe_hotels","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_score_formatted","fe_reviews_number"];return _r_(function(r){_i_("269:cf9e1a09");var e="",a=this.fn;function t(e){if(_i_("269:982c1f92"),e+=["",d[10]].join(""),a.MJ(a.MB(f[25]))||a.MJ(a.MB(f[24]))){if(a.MN("fe_classes","bui-review-score c-score"),a.MJ(a.MB(f[17]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--outline"),a.MJ(a.MB(f[18]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--end"),a.MJ(a.MB(f[19]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--inverse"),a.MJ(a.MB(f[20]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--inline"),a.MJ(a.MB(f[21]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--text"),a.MJ(a.MB(f[22]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--small"),a.MJ(a.MB(f[23]))&&a.MN("fe_classes",a.MB(f[16])+" bui-review-score--smaller"),a.MJ(a.MB(f[24]))&&a.MN("fe_score_formatted",0),a.MJ(a.MB(f[25]))&&a.MN("fe_score_formatted",a.format_review_score_new(a.MB(f[25]))),a.MN("fe_can_show_adjective",a.MB(f[26])||a.MB(f[27])),a.MJ(a.MB(f[31]))){var t="";r.unshift({fe_hide_low_adjectives:a.MB(f[30]),fe_score:a.MB(f[25])}),t=function(e){if(_i_("269:1d62298c"),a.MD(f[25])){var t="";a.MJ(1<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<2)&&(t+=a.ME(d[40],a.MB,a.MN,null)),a.MJ(2<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<3)&&(t+=a.ME(d[41],a.MB,a.MN,null)),a.MJ(3<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<4)&&(t+=a.ME(d[42],a.MB,a.MN,null)),a.MJ(4<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<5)&&(t+=a.ME(d[43],a.MB,a.MN,null)),a.MJ(5<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<5.6)&&(t+=a.ME(d[44],a.MB,a.MN,null)),a.MJ(5.6<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<6)&&(t+=a.ME(d[45],a.MB,a.MN,null)),a.MJ(6<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<7)&&(t+=a.ME(d[46],a.MB,a.MN,null)),a.MJ(7<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<8)&&(t+=a.ME(d[47],a.MB,a.MN,null)),a.MJ(8<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<8.6)&&(t+=a.ME(d[48],a.MB,a.MN,null)),a.MJ(8.6<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<9)&&(t+=a.ME(d[49],a.MB,a.MN,null)),a.MJ(9<=a.MB(f[25]))&&a.MJ(a.MB(f[25])<9.5)&&(t+=a.ME(d[50],a.MB,a.MN,null)),a.MJ(9.5<=a.MB(f[25]))&&(t+=a.ME(d[51],a.MB,a.MN,null)),a.MN(f[29],t),a.MJ(a.MB(f[30]))&&a.MJ(a.MB(f[25])<7)&&a.MN(f[29],a.ME(d[52],a.MB,a.MN,null)),e+=[a.MC(f[29]),d[11]].join("")}return a.MN("fe_adjective",0),a.MN("fe_hide_low_adjectives",0),a.MN("fe_score",0),_r_(e)}(t),r.shift(),a.MN(f[28],t),a.MJ(a.MB(f[27]))&&a.MN("fe_adjective_text",a.MB(f[27]))}e+=[d[53],a.F.entities(a.MC(f[16])),d[54],(r.unshift({review_score_number:a.MB(f[32])}),h=a.ME(d[55],a.MB,a.MN,null),r.shift(),h),d[56],a.F.entities(a.MC(f[32])),d[57]].join(""),a.MD(f[28])&&(e+=[d[58],a.MC(f[28]),d[57]].join(""),a.MD(f[33])&&(e+=[d[59],(r.unshift({num_reviews:a.format_number(a.MB(f[33]))}),h=a.ME(d[60],a.MB,a.MN,a.MO(a.MI(a.MC(f[33]))+a.MI(0),null,d[60])),r.shift(),h),d[57]].join("")),e+=d[61]),e+=d[61]}return a.MN("fe_adjective_text",0),a.MN("fe_allow_zero",0),a.MN("fe_classes",0),a.MN("fe_custom_adjective",0),a.MN("fe_hide_low_adjectives",0),a.MN("fe_modifier_end",0),a.MN("fe_modifier_inline",0),a.MN("fe_modifier_inverse",0),a.MN("fe_modifier_outline",0),a.MN("fe_modifier_text",0),a.MN("fe_reviews_number",0),a.MN("fe_score",0),a.MN("fe_score_formatted",0),a.MN("fe_show_adjective",0),e+=["",d[10]].join(""),e+=d[4],_r_(e)}e+=d[0];var i="";i+=d[1];var n={fe_bar_level:a.MB(f[12]),fe_bar_size:d[28],fe_is_affiliate:a.MC(f[13])&&a.MC(f[13]).is_hybrid,fe_no_tooltip:1,fe_site_type:a.MC(f[14])},o=r;(r=a.SV([{},{}])).unshift(n),i=function(e){if(_i_("269:afa9b797"),e+=["",d[2]].join(""),a.MK(a.MB(f[1]))&&(e+=d[3],a.MN("fe_bar_size","medium"),e+=d[4]),e+=d[5],a.MJ(a.MB(f[1])+""=="small")?(e+=d[3],a.MN("fe_icon_size","smaller")):a.MJ(a.MB(f[1])+""=="large")?(e+=d[3],a.MN("fe_icon_size","medium")):(e+=d[3],a.MN("fe_icon_size","small")),e+=d[6],e+=d[7],a.MJ(a.MB(f[2]))&&a.MJ(a.track_experiment("NAFQOeaLQHbFSWMHSUWe"))&&(e+=d[8]),e+=[d[9],a.F.entities(a.MC(f[1])),d[10],a.F.entities(a.MC(f[3])),d[11]].join(""),e+=d[12],a.MK(a.MJ(a.MB(f[7])+""=="mdot")||a.MB(f[8]))&&(e+=d[13],a.MD(f[5])?e+=[d[14],(r.unshift({num_rating:a.MB(f[4])}),h=a.ME(d[15],a.MB,a.MN,null),r.shift(),h),d[12]].join(""):e+=[d[14],(r.unshift({b_companyname:a.MB(f[6]),end_bold:"</strong>",start_bold:"<strong>"}),h=a.ME(d[16],a.MB,a.MN,null),r.shift(),h),d[12]].join(""),e+=d[17]),e+=d[3],a.MD(f[9])&&(e+=[d[18],a.F.entities(a.MC(f[9])),d[19]].join("")),e+=d[3],a.MD(f[10])&&(e+=[d[20],a.F.entities(a.MC(f[10])),d[19]].join("")),e+=d[21],a.MJ(a.MB(f[2]))&&a.MJ(a.track_experiment("NAFQOeaLQHbFSWMHSUWe")))e+=d[22],e+=[d[23],a.F.entities(a.MC(f[4])),d[10],(r.unshift({color:"#FEBB02",name:d[24],size:a.MB(f[11])}),h=a.HELPER("icon",r[0]),r.shift(),h),d[25]].join(""),e+=d[26];else{e+=d[26];var t=a.seq(1,a.MB(f[4]))||[];r.unshift(null);for(var i=1,n=t.length;i<=n;i++)r[0]=t[i-1],e+=[(r.unshift({color:"#FEBB02",name:d[24],size:a.MB(f[11])}),h=a.HELPER("icon",r[0]),r.shift(),h),d[11]].join("");r.shift(),e+=d[3]}return e+=[d[27],"",d[4]].join(""),_r_(e)}(i),r=a.SV(o),i+=d[29],a.MN(f[0],i),e+=[d[30],(r.unshift({design_icons:a.MB(f[0])}),h=a.ME(d[31],a.MB,a.MN,null),r.shift(),h),d[30],(r.unshift({num_rating:a.MB(f[12])}),h=a.ME(d[32],a.MB,a.MN,null),r.shift(),h),d[33]].join("");var s=a.MC(f[15])||[];r.unshift({fe_hotel:null});for(var _,l=1,c=s.length;l<=c;l++)r[0].fe_hotel=_=s[l-1],e+=[d[34],a.F.entities((_||{}).b_url),d[35],a.F.entities((_||{}).b_name),d[36],a.STATIC_HOSTNAME(_.b_photo_url,0,0,0),d[37],a.F.entities((_||{}).b_name),d[38]].join(""),a.MJ(a.MG((_||{}).b_review_score))&&(e+=d[39],r.unshift({fe_modifier_small:1,fe_modifier_text:1,fe_score:_.b_review_score,fe_show_adjective:1}),e=t(e),r.shift(),e+=d[62]),e+=d[63],a.MJ(a.MG((_||{}).b_price))&&(e+=[d[64],(r.unshift({price:a.MG((_||{}).b_price)}),h=a.ME(d[65],a.MB,a.MN,null),r.shift(),h),d[66]].join("")),e+=d[67];return r.shift(),e+=d[68],_r_(e)})}()),function(e,t,i,n){"use strict";_i_("269:b0dc01aa");var r=e.require("server-data"),a=e.require("search-config"),o=e.require("jquery"),s=e.require("jstmpl"),_="similar-properties--loading";e.when({condition:r.load_similar_properties,events:"view #hp_policies_box"}).run(function(){_i_("269:b6ed9b61");var i=o(".similar-properties");function t(){_i_("269:6e2980b5"),i.removeClass(_),i.empty(),_r_()}_i_("269:2913c4ec"),o.ajax("/similar_quality_properties",{method:"POST",data:{ufi:r.b_ufi,checkin:r.b_checkin_date,checkout:r.b_checkout_date,nr_rooms_needed:a.rooms.length,adults_total:a.adults,children_total:a.children,children_ages_total:a.childrenAges.join(),currency:r.b_selected_currency,sb_travel_purpose:r.bb.euibb?"business":"leisure",quality_class:r.bh_quality_class,review_score:r.b_review_score_detailed||0}}).then(function(e){_i_("269:2ce5b71c"),e&&e.b_hotels?function(e){_i_("269:2a52de19");var t=s("similar_quality_properties").render({fe_bh_quality_class:r.bh_quality_class,fe_hotels:e.b_hotels});i.removeClass(_),i.html(t),_r_()}(e):t(),_r_()}).fail(function(){_i_("269:f711f7c7"),t(),_r_()}),_r_(),_r_()}),_r_()}(window.booking,window,document),B.when({action:"hotel",events:"ready",condition:("www"===B.env.b_site_type||"mdot"===B.env.b_site_type)&&B.env.b_host_info_can_be_shown}).run(function(e){_i_("269:3810e2e3");var t=e("jquery"),i=e("et"),n=t("#host-info"),r="mdot"===B.env.b_site_type,a=function(e){_i_("269:13efbbd9");i.customGoal(r?"NAREFZGccVHIZIadLEPAMIOUAaDYBBVYYT":"NAREFZGccVHIZIadLEPAMIOUAaDNLOLOLMO",e),_r_()};if(0<n.length){if(n.delegate("p","copy",function(e){_i_("269:1c3af9f6"),a(1),n.undelegate("p","copy"),_r_()}),r){var o,s=function(){_i_("269:2c632a40"),o=!1,a(2),n.undelegate("p","touchstart"),n.undelegate("p","touchend"),_r_()};n.delegate("p","touchstart",function(e){_i_("269:41905286"),o=setTimeout(s,500),_r_()}),n.delegate("p","touchend",function(e){_i_("269:a160f197"),o&&clearTimeout(o),_r_()})}else n.delegate("p","click",function(e){_i_("269:6a57e91a"),a(2),setTimeout(function(){_i_("269:66535c33");var e=t("#gtx-trans");0<e.length&&e.on("click",function(){_i_("269:157ed65a"),a(4),n.undelegate("p","click"),_r_()}),_r_()},100),_r_()});if("function"==typeof window.MutationObserver){var _=t("html").get(0),l=new MutationObserver(function(e){_i_("269:b0a45bc0");for(var t=0;t<e.length;t++){var i=e[t];if("attributes"===i.type&&"class"===i.attributeName){var n=i.target;if(n&&n.classList&&"object"==typeof n.classList)if(n.classList.contains("translated-ltr")||n.classList.contains("translated-rtl")){a(3),l.disconnect();break}}}_r_()});l.observe(_,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1})}}_r_()}),B.define("component/surveygizmo_survey_www",function(e,t,i){_i_("269:3fd331ec");var n,r=e("component"),a=e("jquery"),o=e("jstmpl"),s=[],_={};try{_=JSON.parse(window.localStorage.getItem("survey_history"))||{}}catch(e){_={}}i.exports=r.extend({init:function(){_i_("269:f21b5ce4"),this.title=this.$el.data("survey-title"),this.description=this.$el.data("survey-description"),this.agree_btn=this.$el.data("survey-agree-btn"),this.cancel_btn=this.$el.data("survey-cancel-btn"),this.survey_url=this.$el.data("survey-url")||"",this.survey_url_base=this.survey_url.split("?")[0],_[this.survey_url_base]||s.push(this),_i_("269:075f90b4"),n&&clearTimeout(n),n=setTimeout(function(){if(_i_("269:329ffc49"),0<s.length){var e=Math.floor(1e3*Math.random())%s.length;s[e].runSurvey()}_r_()},500),_r_(),_r_()},runSurvey:function(){_i_("269:5ad58437");var e=this.$el;!function(e){_i_("269:e1d5a86c");try{_[e]=1,window.localStorage.setItem("survey_history",JSON.stringify(_))}catch(e){}_r_()}(this.survey_url_base);var t=a(o("surveygizmo_survey_invite_www").render({title:this.title,description:this.description,agree_btn:this.agree_btn,cancel_btn:this.cancel_btn,survey_url:this.survey_url}));e.append(t),t.on("click",".js-surveygizmo-survey-cancel",function(){return _i_("269:9c5b56bd"),t.addClass("surveygizmo-survey-invite--hidden"),setTimeout(function(){_i_("269:fa934b29"),t.remove(),_r_()},200),_r_(!1)}),t.on("click",".js-surveygizmo-survey-ok",function(){return _i_("269:ce551b46"),t.remove(),window.open(e.data("survey-url"),"_blank"),_r_(!1)}),setTimeout(function(){_i_("269:c3625f0c"),t.removeClass("surveygizmo-survey-invite--hidden"),_r_()},10),_r_()}}),_r_()}),booking.jstmpl("surveygizmo_survey_invite_www",function(){_i_("269:73644f8f");var n=['\n    <div class="surveygizmo-survey-invite surveygizmo-survey-invite--hidden">\n        <div class="surveygizmo-survey-invite__title">','</div>\n        <div class="surveygizmo-survey-invite__description">','</div>\n        <div class="surveygizmo-survey-invite__buttons-wrapper">\n            <a class="surveygizmo-survey-invite__button js-surveygizmo-survey-cancel">\n                ','\n            </a>\n            <a class="surveygizmo-survey-invite__button surveygizmo-survey-invite__button--primary js-surveygizmo-survey-ok">\n                ',"\n            </a>\n        </div>\n    </div>\n"],r=["title","description","cancel_btn","agree_btn"];return _r_(function(e){_i_("269:2dc4dd8e");var t="",i=this.fn;return t+=[n[0],i.MC(r[0]),n[1],i.MC(r[1]),n[2],i.MC(r[2]),n[3],i.MC(r[3]),n[4]].join(""),_r_(t)})}()),booking.jstmpl("unit_review_score",function(){_i_("269:28c12478");var d,f=["\n    ",'<div class="rt-unit-review-score" data-component="hotel/new-rooms-table/unit-review-score" data-room-id="','" data-room-name="','">\n    ','\n        <p><span class="unit-reviews-label">\n            ',"\n                ","/private/bh_mup_rt_unit_reviews_score_apt/name","\n            ","/private/bh_mup_rt_unit_reviews_score_room/name","/private/bh_mup_rt_unit_reviews_score_accom/name",'\n        </span></p>\n        <div data-component="hotel/new-rooms-table/unit-reviews" data-bui-component="Popover" data-popover-content-id="rt-unit-review-scores-','" data-popover-position="bottom start" tabindex="0" aria-label="room review score" class="rt-unit-review-score">\n            '," ","/private/review_adj_bad/name","/private/review_adj_very_poor/name","/private/review_adj_poor/name","/private/review_adj_disappointing/name","/private/review_adj_average_passable/name","/private/review_adj_average_okay/name","/private/review_adj_pleasant/name","/private/review_adj_good/name","/private/review_adj_very_good/name","/private/review_adj_fabulous/name","/private/review_adj_superb/name","/private/review_adj_exceptional/name","/private/comp_fd_lp_header_rs/name","",'<div class="','"> <div class="bui-review-score__badge" aria-label="',"/private/a11y_rating_score_for_screenreader/name",'"> '," </div> ",'<div class="bui-review-score__content"> <div class="bui-review-score__title"> ','<div class="bui-review-score__text"> ',"/private/comp_num_reviews_sr_page/name","</div> ","\n","1","\n        </div>\n        ",'\n            <div id="rt-unit-review-scores-','" class="bui-panel rt-unit-review-scores__panel js-unit-review-breakdown">\n                <div class="bui-popover__arrow rt-unit-review-scores__panel-arrow"></div>\n                <p class="rt-unit-review-scores__label">',"/private/bh_mup_rt_unit_reviews_score_bd_unit_name/name","</p>\n                ","\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    \n    \n    \n    \n\n\n    \n    \n    ","\n\n\n    \n    \n    ","\n        ","\n\n\n    \n    \n\n    \n    ",'<div class="c-subscores clearfix">\n','<div class="c-subscores__header">\n',"</div>\n",'<div class="c-subscores__column">\n','<div class="c-subscores__hide">\n','<div class="c-score-bar" >','<span class="c-score-bar__title">',"&nbsp;","iconset/arrow_up_bold","small","iconset/arrow_down_bold","</span>",'<span class="c-score-bar__score">','</span>\n            <div class="c-score-bar__bar">\n                <span class="c-score-bar__value"\n                      data-value="','"\n                      style="width:','%"></span>\n            </div>\n        </div>','</div><div class="c-subscores__column">\n','<div class="c-subscores__footer">\n<button type="button"\ndata-js-breakdown-show-more="1"\nclass="c-subscores__show-more">\n',"/private/comp_reviews_subscores_show_more/name","\n</button>\n</div>\n","0",'\n<div class="v2_review-scores__wrapper'," ugc-sub-scores",'">\n\t','\n\t\t<div class="v2_review-scores__header">\n\t\t\t','\n\t\t\t\t<div class="bui-review-score__link hotel_details__reviews--overview reviews_entrypoint_wrap ">\n\t\t\t\t\t<a href="#ugc-block" class="ugc-block--score__link" data-et-click="customGoal:',':1">\n\t\t\t\t\t\t',"\n\n\n","\n  ","\n\n","\n\n\n\n","   ","        ","             ","    ","     ","         ","      ","  ","\n\n        ","/private/m_ugcx_prop_page_reviews_entry/name",'\n\n<div class="u-font-weight:bold u-color:bright_blue hp_m_review_score_bui_break_lines">\n    ','\n\n    <div class="bui-review-score__text">\n        ',"/private/m_pp_num_reviews_entry/name","\n    </div>\n</div>","\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t","\n\t\t\t\t","\n\n\n\n\n\n\n",'\n\t<div style="color:#fff;background:#ff0000;padding:0.5em;border-radius:0.5em;max-width:30em;">Uh oh! looks like you are giving me a formatted score value, please give me a non formatted one</div>\n',"\n\t","none","auto","num_reviews_sr_page","\n\n\t","\n\t\n\t","\n\t\t","review-score-widget__","review-score-widget__score-only ","review-score-widget__12 ","review-score-widget__14 ","review-score-widget__20 ","review-score-widget__24 "," review-score-widget "," review-score-widget__no-subtext"," review-score-widget__flipped",'id="','"',"\n\n\n\n\n\n\n\n\n","\n\t\t<",'a href="',' target="',"span",' class="review-score-widget__text" aria-label="',"/private/a11y_adjective_rating/name",'">\n\t\t\t',"\n\t\t</","a",">\n\t","span\n        ",' class="review-score-widget__subtext" aria-label="',"/private/acc_sr_review_score_rated_with_score_end/name",'"\n        >\n        ',"\n\n\n\n\n","\n\n\t\n\t\n\t\n\n\t\n\n\t<span\n\t\t",'\n\t\tclass="'," review-score-widget__debug",'"\n\t\t\t',"\n\t\t\t",'\n\t\t\t\tdata-et-view="',"\n\t>\n\t\t","\n\t\t\t\n\t\t","\n\n\t\t","\n\n\t\t\n\t\t","\n\n\t\t\t","\n\t\t\t\t\n\t\t\t\t","\n\t<",' class="review-score-badge" aria-label="','">\n\t\t',"\n\t</",">\n","\n\t\t\t\t\t\n\t\t\t\t\t","\n\t\t\t\t\t",'\n\t\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</span>\n\t\t\t\t\t",'\n\t\t\t\t\t<span class="review-score-widget__body">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</span>\n\t\t\t\t","\n\t</span>\n\n\t\n\t\n\n","\n\n\n\n\n\n\n\n\n\n","\n\t\n\t\n","large","\n\t\t</div>\n\t",'\n\t<div class="v2_review-scores__body v2_review-scores__body--compared_to_average">\n\t\t   ','\n\t\t  <ul class="v2_review-scores__subscore__inner v2_review-scores__subscore__inner-two_columns v2_review-scores__subscore__inner-compared_to_average">\n\t\t  ',"\n\n\t\t\t\t\t","\n\t\t\t\t\t    ","\n\t\t\t\t\t  ","\n\n\t\t\t\t\t\n\t\t\t\t\t",'\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<ul class="v2_review-scores__subscore__inner v2_review-scores__subscore__inner-two_columns v2_review-scores__subscore__inner-compared_to_average">\n\t\t\t\t\t',"\n\n\n\t\t\t\t\t","\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t","\n\n\t\t\t\t\t\t",'\n\n\t\t\t\t\t<li class="v2_review-scores__subscore ','">\n\t\t  \t\t\t\t',"\n\t\t\t\t\t</li>\n\n\t\t\t\t\t","\n\n\t\t\t\t","\n\t\t  ","\n\t\t</ul>\n\t\t\n\t\t",'\n\t\t\t<div class="v2_review-scores__body__legend">\n\t\t\t\t','\n\t\t\t\t\t<span class="v2_review-scores__body__legend__rating_better">\n\t\t\t\t\t\t',"/private/m_review_tab_high_score_for_ufi/name",'\n\t\t\t\t\t<span class="v2_review-scores__body__legend__rating_worse">\n\t\t\t\t\t\t',"\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t","/private/m_review_tab_low_score_for_ufi/name","\n\t\t\t</div>\n\t\t","\n\n\t</div>\n</div>\n","\n            \n            ","\n        \n    ","\n\n    \n    \n    ","\n            </div>\n        ","\n</div>"],u=["room_id","room_name","room_type","fe_classes","fe_modifier_outline","fe_modifier_end","fe_modifier_inverse","fe_modifier_inline","fe_modifier_text","fe_modifier_small","fe_modifier_smaller","fe_allow_zero","fe_score","fe_show_adjective","fe_custom_adjective","fe_adjective_text","fe_adjective","fe_hide_low_adjectives","fe_can_show_adjective","fe_score_formatted","fe_reviews_number","data","b_site_type","b_unit_scores","is_unit_scores","b_review_customer_types","fe__score_total","fe__score_total_detailed","fe__score_reviews_nr","b_breakfast_included_available","b_mealplan_highlight","fe__breakfast_included","fe__meal_plan_breakfast","fe__is_www","fe__is_tdot","fe__is_mdot","fe_modifier_split","fe_show_more","fe_subscores","fe_show_breakfast","fe_length","fe_can_split","fe_count_loop","fe_title","fe_score_color_class","fe_width","fe__can_show_breakfast","fe__show_more","fe__subscored","b_review_nr","fe_complete_text_for_length_check_only","score","wrapper_tag_name","fe_review_score_word_class_list","fe_review_score","custom_class","review_adj_very_poor","review_adj_poor","review_adj_disappointing","review_adj_average_passable","review_adj_average_okay","review_adj_pleasant","low_score_adjectives","fd_lp_header_rs","review_adj_good","review_adj_very_good","review_adj_fabulous","fe_review_score_word_copy","review_adj_exceptional","b_review_score_detailed","fe_break_line_lim","fe_modifier_inline_val","b_dev_server","dont_format_score","fe_text","text","fe_subtext","subtext","fe_widget_subtext","sample_size","fe_formatted_sample_size","align","fe_widget_text","prepend_text","append_text","prefix","fe_score_word_name","suffix","fe_classname","fe_widget_style","style","score_only","fe_widget_layout","layout","fe_widget_align","fe_widget_size","size","fe_badge_style","fe_widget_class","flip","extra_classes","fe_widget_id","widget_id","fe_rating","fe_widget_text_element","text_link_url","text_link_target","fe_rating_adj","fe_widget_subtext_element","subtext_link_url","subtext_link_target","review_score_widget","extra_attributes","track_view","prepend_html","badge_link_url","badge_link_target","fe_formatted_score","fe_is_alt_version","append_html","render","fe_hide_review_score","b_ufi","b_questions","b_question","b_score_detailed","fe_question_loop_count","fe_med_average_scores","fe_question","fe_med_score_lower","fe_med_score_upper","fe_med_score","fe_avg_score_formatted","review_question_name","b_customer_type","fe_show_legend_better","fe_show_legend_worse","fe__split_subscores","fe__reviews_number","fe__score","breakdown_enabled","show_breakdown","data_fetched"];return _r_(function(_){_i_("269:2b8ada0d");var e,t="",l=this.fn;function i(e){if(_i_("269:fe5fb88f"),l.MJ(l.MB(u[38]))&&l.MJ(0<l.array_length(l.MB(u[38])))){l.MN("fe_can_split",l.MB(u[36])&&l.MK(l.MB(u[37]))),l.MN("fe_length",0),l.MN("fe_count_loop",0);var t=l.MC(u[38])||[];_.unshift({subscore:null});for(var i=1,n=t.length;i<=n;i++){if(_[0].subscore=r=t[i-1],l.MJ(r.b_question+""=="total"))continue;if(l.MJ(r.b_question+""=="breakfast")&&l.MK(l.MB(u[39]))&&l.MJ(r.b_score_detailed<7))continue;l.MN("fe_length",l.MI(l.MB(u[40]))+l.MI(1))}_.shift(),e+=f[47],l.MD(u[12])&&(e+=f[48],_.unshift({fe_modifier_inline:l.MB(u[7]),fe_reviews_number:l.MB(u[20]),fe_score:l.MB(u[12]),fe_show_adjective:l.MB(u[13])}),e=function(e){if(_i_("269:ffdc7152"),e+=["",f[12]].join(""),l.MJ(l.MB(u[12]))||l.MJ(l.MB(u[11]))){if(l.MN("fe_classes","bui-review-score c-score"),l.MJ(l.MB(u[4]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--outline"),l.MJ(l.MB(u[5]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--end"),l.MJ(l.MB(u[6]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inverse"),l.MJ(l.MB(u[7]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inline"),l.MJ(l.MB(u[8]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--text"),l.MJ(l.MB(u[9]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--small"),l.MJ(l.MB(u[10]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--smaller"),l.MJ(l.MB(u[11]))&&l.MN("fe_score_formatted",0),l.MJ(l.MB(u[12]))&&l.MN("fe_score_formatted",l.format_review_score_new(l.MB(u[12]))),l.MN("fe_can_show_adjective",l.MB(u[13])||l.MB(u[14])),l.MJ(l.MB(u[18]))){var t="";_.unshift({fe_hide_low_adjectives:l.MB(u[17]),fe_score:l.MB(u[12])}),t=function(e){if(_i_("269:72838295"),l.MD(u[12])){var t="";l.MJ(1<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<2)&&(t+=l.ME(f[13],l.MB,l.MN,null)),l.MJ(2<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<3)&&(t+=l.ME(f[14],l.MB,l.MN,null)),l.MJ(3<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<4)&&(t+=l.ME(f[15],l.MB,l.MN,null)),l.MJ(4<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5)&&(t+=l.ME(f[16],l.MB,l.MN,null)),l.MJ(5<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5.6)&&(t+=l.ME(f[17],l.MB,l.MN,null)),l.MJ(5.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<6)&&(t+=l.ME(f[18],l.MB,l.MN,null)),l.MJ(6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<7)&&(t+=l.ME(f[19],l.MB,l.MN,null)),l.MJ(7<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8)&&(t+=l.ME(f[20],l.MB,l.MN,null)),l.MJ(8<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8.6)&&(t+=l.ME(f[21],l.MB,l.MN,null)),l.MJ(8.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9)&&(t+=l.ME(f[22],l.MB,l.MN,null)),l.MJ(9<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9.5)&&(t+=l.ME(f[23],l.MB,l.MN,null)),l.MJ(9.5<=l.MB(u[12]))&&(t+=l.ME(f[24],l.MB,l.MN,null)),l.MN(u[16],t),l.MJ(l.MB(u[17]))&&l.MJ(l.MB(u[12])<7)&&l.MN(u[16],l.ME(f[25],l.MB,l.MN,null)),e+=[l.MC(u[16]),f[26]].join("")}return l.MN("fe_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_score",0),_r_(e)}(t),_.shift(),l.MN(u[15],t),l.MJ(l.MB(u[14]))&&l.MN("fe_adjective_text",l.MB(u[14]))}e+=[f[27],l.F.entities(l.MC(u[3])),f[28],(_.unshift({review_score_number:l.MB(u[19])}),d=l.ME(f[29],l.MB,l.MN,null),_.shift(),d),f[30],l.F.entities(l.MC(u[19])),f[31]].join(""),l.MD(u[15])&&(e+=[f[32],l.MC(u[15]),f[31]].join(""),l.MD(u[20])&&(e+=[f[33],(_.unshift({num_reviews:l.format_number(l.MB(u[20]))}),d=l.ME(f[34],l.MB,l.MN,l.MO(l.MI(l.MC(u[20]))+l.MI(0),null,f[34])),_.shift(),d),f[31]].join("")),e+=f[35]),e+=f[35]}return l.MN("fe_adjective_text",0),l.MN("fe_allow_zero",0),l.MN("fe_classes",0),l.MN("fe_custom_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_modifier_end",0),l.MN("fe_modifier_inline",0),l.MN("fe_modifier_inverse",0),l.MN("fe_modifier_outline",0),l.MN("fe_modifier_text",0),l.MN("fe_reviews_number",0),l.MN("fe_score",0),l.MN("fe_score_formatted",0),l.MN("fe_show_adjective",0),e+=["",f[12]].join(""),e+=f[36],_r_(e)}(e),_.shift(),e+=f[49]),l.MD(u[41])&&(e+=f[50]);t=l.MC(u[38])||[];_.unshift({subscore:null});var r;for(i=1,n=t.length;i<=n;i++){if(_[0].subscore=r=t[i-1],l.MJ(r.b_question+""=="total"))continue;if(l.MJ(r.b_question+""=="breakfast")&&l.MK(l.MB(u[39]))&&l.MJ(r.b_score_detailed<7))continue;l.MN("fe_count_loop",l.MI(l.MB(u[42]))+l.MI(1)),l.MJ(l.MB(u[37]))&&l.MJ(3<l.MB(u[42]))&&(e+=f[51]),_.unshift({fe_score:l.MG((r||{}).b_score_detailed),fe_title:l.MG((r||{}).review_question_name)}),e=s(e),_.shift(),l.MJ(l.MB(u[37]))&&l.MJ(3<l.MB(u[42]))&&(e+=f[49]),l.MJ(l.MB(u[41]))&&l.MJ(l.MB(u[42])==parseInt(l.MI(l.MI(l.MB(u[40]))/l.MI(2))+l.MI(.5)))&&(e+=f[63])}_.shift(),l.MD(u[41])&&(e+=f[49]),l.MD(u[37])&&(e+=[f[64],l.ME(f[65],l.MB,l.MN,null),f[66]].join("")),e+=f[49]}return l.MN("fe_can_split",0),l.MN("fe_count_loop",0),l.MN("fe_length",0),l.MN("fe_modifier_inline",0),l.MN("fe_modifier_split",0),l.MN("fe_reviews_number",0),l.MN("fe_score",0),l.MN("fe_show_adjective",0),l.MN("fe_show_breakfast",0),l.MN("fe_show_more",0),l.MN("fe_subscores",0),l.MN("fe_title",0),_r_(e)}function a(e){return _i_("269:17ff269f"),e+=f[142],l.MD(u[115])?(e+=[f[116],l.MB(u[115]),f[113]].join(""),l.MD(u[116])&&(e+=[f[117],l.MB(u[116]),f[113]].join(""))):e+=f[118],e+=[f[143],(_.unshift({review_score_number:l.MB(u[117])}),d=l.ME(f[29],l.MB,l.MN,null),_.shift(),d),f[144],l.F.entities(l.MB(u[117])),f[145]].join(""),l.MD(u[115])?e+=f[123]:e+=f[118],e+=f[146],_r_(e)}function o(e){return _i_("269:8dbd5a8c"),e+=f[142],l.MD(u[115])?(e+=[f[116],l.MB(u[115]),f[113]].join(""),l.MD(u[116])&&(e+=[f[117],l.MB(u[116]),f[113]].join(""))):e+=f[118],e+=[f[143],(_.unshift({review_score_number:l.MB(u[117])}),d=l.ME(f[29],l.MB,l.MN,null),_.shift(),d),f[144],l.F.entities(l.MB(u[117])),f[145]].join(""),l.MD(u[115])?e+=f[123]:e+=f[118],e+=f[146],_r_(e)}function s(e){return _i_("269:175abecc"),e+=f[26],l.MJ(l.MB(u[12]))&&(e+=f[26],l.MN("fe_width",l.MI(l.MB(u[12]))*l.MI(10)),e+=f[52],l.MD(u[43])&&(e+=[f[53],l.MC(u[43]),f[26]].join(""),l.MJ(l.MB(u[44]))&&(e+=f[26],l.MJ(l.MB(u[44])+""=="subscore_better")?e+=[f[54],(_.unshift({color:"#96D99D",name:f[55],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join(""):l.MJ(l.MB(u[44])+""=="subscore_worse")&&(e+=[f[54],(_.unshift({color:"#FF6C6C",name:f[57],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join("")),e+=f[26]),e+=f[58]),e+=[f[59],l.F.entities(l.format_review_score_new(l.MB(u[12]))),f[60],l.format_review_score_new(l.MB(u[12])),f[61],l.F.entities(l.MC(u[45])),f[62]].join("")),e+=f[26],l.MN("fe_title",0),e+=f[26],l.MN("fe_score",0),e+=f[26],l.MN("fe_width",0),e+=f[26],_r_(e)}function c(e){_i_("269:c7898e12"),e+=f[94],l.MJ(l.MC(u[72]))&&l.MJ(/,/.test(l.MB(u[51])))&&(e+=f[95]),e+=f[74],l.MJ(l.MB(u[73]))||l.MJ(/,/.test(l.MB(u[51])))?(e+=f[96],l.MN("fe_formatted_score",l.MB(u[51]))):(e+=f[96],l.MN("fe_formatted_score",l.format_review_score_plain(l.MI(0)+l.MI(l.MB(u[51]))))),e+=f[36],e+=f[76];var t="";t+=f[26],l.MJ(l.MB(u[75]))?t+=l.MB(u[75]):t+=f[97],t+=f[26],l.MN(u[74],t),e+=f[76];t="";t+=f[26],l.MJ(l.MB(u[77]))?(t+=f[26],l.MJ(l.MB(u[77])+""!="none")&&l.MJ(l.MB(u[74])+""=="none")?t+=f[98]:t+=[f[26],l.MB(u[77]),f[26]].join(""),t+=f[26]):t+=f[97],t+=f[26],l.MN(u[76],t),e+=f[74];var i;t="";t+=f[26],(l.MJ(l.MB(u[77]))&&l.MJ(l.MB(u[77])+""=="auto")||l.MK(l.MB(u[77])))&&l.MJ(l.MB(u[79]))?(t+=f[26],l.MN("fe_formatted_sample_size",l.format_number(l.MB(u[79]))),t+=[f[26],(_.unshift({num_reviews:l.MB(u[80])}),d=l.VP(f[99],l.MO(l.MI(l.MC(u[79]))+l.MI(0),null,f[99])),_.shift(),d),f[26]].join("")):l.MJ(l.MB(u[77])+""!="none")&&l.MJ(l.MB(u[77])+""!="auto")&&(t+=[f[26],l.MB(u[77]),f[26]].join("")),t+=f[26],l.MN(u[78],t),e+=f[74],l.MN("fe_is_alt_version",l.MJ(l.MB(u[81])+""=="right")),e+=f[74],_.unshift({low_score_adjectives:l.MB(u[62]),score:l.MI(0)+l.MI(l.MB(u[51]))}),i=e,_i_("269:349ee532"),i+=f[36],l.MN("fe_review_score",l.MI(l.MB(u[51]))+l.MI(0)),i+=f[74],l.MN("fe_review_score_word_tag",l.MB(u[52])||"p"),i+=f[74],l.MN("fe_review_score_word_class_list","review-score-word"),i+=f[74],l.MJ(7<=l.MB(u[54]))&&(i+=f[75],l.MN("fe_review_score_word_class_list",l.MB(u[53])+" review-score-word--highlighted"),i+=f[36]),i+=f[76],l.MD(u[55])&&(i+=f[75],l.MN("fe_review_score_word_class_list",l.MB(u[53])+" "+l.MB(u[55])),i+=f[36]),i+=f[77],l.MD(u[62])?(i+=f[75],l.MJ(0<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<3)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[56])),i+=f[79]),i+=f[75],l.MJ(3<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<4)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[57])),i+=f[80]),i+=f[75],l.MJ(4<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<5)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[58])),i+=f[81]),i+=f[75],l.MJ(5<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<5.6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[59])),i+=f[12]),i+=f[75],l.MJ(5.6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[60])),i+=f[82]),i+=f[75],l.MJ(6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<7)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[61])),i+=f[83])):(i+=f[75],l.MJ(0<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<7)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[63])),i+=f[12])),i+=f[36],i+=f[36],l.MJ(7<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<8)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[64])),i+=f[84]),i+=f[36],l.MJ(8<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<8.6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[65])),i+=f[12]),i+=f[36],l.MJ(8.6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<9)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[66])),i+=f[85]),i+=f[76],l.MJ(9<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<9.5)&&(i+=f[12],l.MN(u[67],l.ME(f[23],l.MB,l.MN,null)),i+=f[12]),i+=f[74],l.MJ(9.5<=l.MB(u[54]))&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[68])),i+=f[12]),i+=f[74],i+=f[36],e=_r_(i),_.shift(),e+=f[76];var n;t="";t+=f[26],l.MJ(l.MB(u[75]))&&l.MJ(l.MB(u[75])+""=="auto")||(l.MK(l.MB(u[75]))||l.MJ(l.MB(u[75])+""=="none"))&&l.MJ(l.MB(u[78])+""!="")?t+=[f[26],l.MB(u[67]),f[26]].join(""):l.MJ(l.MB(u[75]))&&l.MJ(l.MB(u[75])+""!="none")&&(t+=[f[26],l.MB(u[75]),f[26]].join("")),t+=f[26],l.MN(u[82],t),e+=f[76],l.MD(u[82])&&(e+=f[96],l.MN("fe_widget_text",l.MB(u[83])+""+l.MB(u[82])+l.MB(u[84])),e+=f[36]),e+=f[74],l.MN("score_only",l.MJ(l.MB(u[82])+""=="")&&l.MJ(l.MB(u[78])+""=="")),e+=f[94],_.unshift({prefix:f[103],score:l.MI(0)+l.MI(l.MB(u[51]))}),n=e,_i_("269:90804fea"),n+=f[77],l.MN("fe_score",l.MI(l.MB(u[51]))+l.MI(0)),n+=f[74],l.MN("fe_score_word_name",""),n+=f[36],l.MJ(0<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<3)&&(n+=f[96],l.MN("fe_score_word_name","very_poor"),n+=f[36]),n+=f[76],l.MJ(3<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<4)&&(n+=f[96],l.MN("fe_score_word_name","poor"),n+=f[36]),n+=f[76],l.MJ(4<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5)&&(n+=f[96],l.MN("fe_score_word_name","disappointing"),n+=f[36]),n+=f[76],l.MJ(5<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5.6)&&(n+=f[96],l.MN("fe_score_word_name","average_passable"),n+=f[36]),n+=f[76],l.MJ(5.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<6)&&(n+=f[96],l.MN("fe_score_word_name","average_okay"),n+=f[36]),n+=f[76],l.MJ(6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<7)&&(n+=f[96],l.MN("fe_score_word_name","pleasant"),n+=f[36]),n+=f[76],l.MJ(7<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8)&&(n+=f[96],l.MN("fe_score_word_name","good"),n+=f[36]),n+=f[76],l.MJ(8<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8.6)&&(n+=f[96],l.MN("fe_score_word_name","very_good"),n+=f[36]),n+=f[76],l.MJ(8.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9)&&(n+=f[96],l.MN("fe_score_word_name","fabulous"),n+=f[36]),n+=f[76],l.MJ(9<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9.5)&&(n+=f[96],l.MN("fe_score_word_name","superb"),n+=f[36]),n+=f[76],l.MJ(9.5<=l.MB(u[12]))&&(n+=f[96],l.MN("fe_score_word_name","exceptional"),n+=f[36]),n+=f[74],l.MN("fe_classname",""),n+=f[36],l.MJ(0<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<=10)&&(n+=f[100],l.MN("fe_classname",l.MB(u[85])+""+l.MB(u[86])+l.MB(u[87])),n+=f[101],l.MJ(l.MB(u[12])<7)&&(n+=f[102],l.MN("fe_classname",l.MB(u[88])+" "+l.MB(u[85])+"low"+l.MB(u[87])),n+=f[96]),n+=f[76]),n+=f[36],e=_r_(n),_.shift(),e+=f[36],l.MN("fe_widget_class",l.MB(u[88])),e+=f[76],l.MJ(l.MB(u[51])<1)&&(e+=f[96],l.MN("fe_widget_class","review-score-widget__empty"),e+=f[36]),e+=f[77];t="";l.MD(u[90])&&(t+=[f[103],l.F.entities(l.MB(u[90])),f[12]].join("")),l.MD(u[91])&&(t+=f[104]),l.MN(u[89],t),e+=f[77];t="";l.MJ(l.MB(u[93]))&&l.MK(l.MB(u[91]))&&(t+=[f[103],l.F.entities(l.MB(u[93])),f[12]].join("")),l.MN(u[92],t),e+=f[77];t="";l.MJ(l.MB(u[81])+""=="right")&&l.MK(l.MB(u[91]))&&(t+=[f[103],l.F.entities(l.MB(u[81])),f[12]].join("")),l.MN(u[94],t),e+=f[77];t="";l.MJ(l.MB(u[96])+""=="smaller")?t+=f[105]:l.MJ(l.MB(u[96])+""=="small")?t+=f[106]:l.MJ(l.MB(u[96])+""=="large")?t+=f[107]:l.MJ(l.MB(u[96])+""=="larger")&&(t+=f[108]),l.MN(u[95],t),e+=f[74];t="";(l.MJ(l.MB(u[90])+""=="outlined")||l.MJ(l.MB(u[90])+""=="text-only"))&&(t+=[l.F.entities(l.MB(u[90])),f[12]].join("")),l.MN(u[97],t),e+=f[74];t="";t+=[f[109],l.F.entities(l.MB(u[98])),f[12],l.F.entities(l.MB(u[89])),f[12],l.F.entities(l.MB(u[92])),f[12],l.F.entities(l.MB(u[94])),f[12],l.F.entities(l.MB(u[95])),f[12]].join(""),l.MK(l.MB(u[78]))&&(t+=f[110]),t+=f[12],l.MD(u[99])&&(t+=f[111]),t+=f[12],l.MD(u[100])&&(t+=[f[12],l.F.entities(l.MB(u[100]))].join("")),t+=f[12],l.MN(u[98],t),e+=f[74];var r;t="";l.MD(u[102])&&(t+=[f[112],l.MB(u[102]),f[113]].join("")),l.MN(u[101],t),e+=f[114],r=e,_i_("269:cf26b7b2"),l.MN("fe_rating",l.MI(l.MB(u[51]))+l.MI(0)),r+=f[74],l.MN("fe_rating_adj",""),r+=f[36],l.MJ(0<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<3)&&(r+=f[96],l.MN("fe_rating_adj","1"),r+=f[36]),r+=f[76],l.MJ(3<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<4)&&(r+=f[96],l.MN("fe_rating_adj","2"),r+=f[36]),r+=f[76],l.MJ(4<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<5)&&(r+=f[96],l.MN("fe_rating_adj","3"),r+=f[36]),r+=f[76],l.MJ(5<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<5.6)&&(r+=f[96],l.MN("fe_rating_adj","4"),r+=f[36]),r+=f[76],l.MJ(5.6<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<6)&&(r+=f[96],l.MN("fe_rating_adj","5"),r+=f[36]),r+=f[76],l.MJ(6<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<7)&&(r+=f[96],l.MN("fe_rating_adj","6"),r+=f[36]),r+=f[76],l.MJ(7<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<8)&&(r+=f[96],l.MN("fe_rating_adj","7"),r+=f[36]),r+=f[76],l.MJ(8<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<8.6)&&(r+=f[96],l.MN("fe_rating_adj","8"),r+=f[36]),r+=f[76],l.MJ(8.6<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<9)&&(r+=f[96],l.MN("fe_rating_adj","9"),r+=f[36]),r+=f[76],l.MJ(9<=l.MB(u[103]))&&l.MJ(l.MB(u[103])<9.5)&&(r+=f[96],l.MN("fe_rating_adj","10"),r+=f[36]),r+=f[76],l.MJ(9.5<=l.MB(u[103]))&&(r+=f[96],l.MN("fe_rating_adj","11"),r+=f[36]),e=_r_(r),e+=f[76],e+=f[76];t="";t+=f[96],l.MD(u[82])&&(t+=f[115],l.MD(u[105])?(t+=[f[116],l.MB(u[105]),f[113]].join(""),l.MD(u[106])&&(t+=[f[117],l.MB(u[106]),f[113]].join(""))):t+=f[118],t+=[f[119],(_.unshift({rating_adjective:l.MB(u[107])}),d=l.ME(f[120],l.MB,l.MN,null),_.shift(),d),f[121],l.MB(u[82]),f[122]].join(""),l.MD(u[105])?t+=f[123]:t+=f[118],t+=f[124]),t+=f[36],l.MN(u[104],t),e+=f[76];t="";t+=f[96],l.MD(u[78])&&(t+=f[115],l.MD(u[109])?(t+=[f[116],l.MB(u[109]),f[113]].join(""),l.MD(u[110])&&(t+=[f[117],l.MB(u[110]),f[113]].join(""))):t+=f[125],t+=[f[126],(_.unshift({num_reviews:l.MB(u[80])}),d=l.ME(f[127],l.MB,l.MN,null),_.shift(),d),f[128],l.F.entities(l.MB(u[78])),f[122]].join(""),l.MD(u[109])?t+=f[123]:t+=f[118],t+=f[124]),t+=f[36],l.MN(u[108],t),e+=f[129];t="";return t+=[f[130],l.MB(u[101]),f[131]].join(""),t+=l.F.entities(l.MB(u[98])),l.MJ(l.MC(u[72]))&&l.MJ(l.MC(u[22])+""=="www")&&l.MJ(!1)&&(t+=f[132]),t+=f[133],l.MD(u[112])&&(t+=[f[93],l.MB(u[112]),f[134]].join("")),t+=f[134],l.MD(u[113])&&(t+=[f[135],l.MC(u[113]),f[133]].join("")),t+=f[136],l.MJ(l.MB(u[51])<1)?t+=f[137]:(t+=f[138],l.MD(u[114])&&(t+=[f[134],l.MB(u[114]),f[102]].join("")),t+=f[139],l.MD(u[118])?(t+=f[140],l.MJ(l.MB(u[93])+""=="inline")?t=o(t+=[f[141],l.MB(u[108]),f[93],l.MB(u[104]),f[93]].join("")):(t+=f[93],l.MJ(l.MB(u[90])+""=="text-only")?(t=a(t+=[f[147],l.MB(u[104]),f[148]].join("")),t+=[f[148],l.MB(u[108]),f[93]].join("")):(t+=f[147],(l.MJ(l.MB(u[82]))||l.MJ(l.MB(u[78])))&&(t+=[f[149],l.MB(u[104]),f[150],l.MB(u[108]),f[151]].join("")),t=a(t+=f[148]),t+=f[93])),t+=f[134]):(t+=f[140],l.MJ(l.MB(u[90])+""=="text-only")||l.MJ(l.MB(u[93])+""=="inline")?(t=o(t+=f[141]),t+=[f[93],l.MB(u[104]),f[93],l.MB(u[108]),f[134]].join("")):(t=o(t+=f[141]),t+=f[93],(l.MJ(l.MB(u[82]))||l.MJ(l.MB(u[78])))&&(t+=[f[152],l.MB(u[104]),f[153],l.MB(u[108]),f[154]].join("")),t+=f[134])),t+=f[138],t+=f[138],l.MD(u[119])&&(t+=[f[134],l.MB(u[119]),f[102]].join("")),t+=f[138]),t+=f[155],l.MN(u[111],t),e+=f[156],l.MN(u[75],void 0),e+=f[36],l.MN(u[77],void 0),e+=f[36],l.MN(u[51],void 0),e+=f[36],l.MN(u[79],void 0),e+=f[36],l.MN(u[120],void 0),e+=f[36],l.MN(u[100],void 0),e+=f[36],l.MN(u[112],void 0),e+=f[36],l.MN(u[96],void 0),e+=f[36],l.MN(u[90],void 0),e+=f[36],l.MN(u[93],void 0),e+=f[36],l.MN(u[81],void 0),e+=f[36],l.MN(u[62],void 0),e+=f[36],l.MN(u[102],void 0),e+=f[129],l.MJ(l.MB(u[120])+""=="no")?e+=f[157]:e+=[f[101],l.MB(u[111]),f[36]].join(""),e+=f[36],_r_(e)}function h(e){if(_i_("269:ae68432a"),e+=["",f[12]].join(""),l.MJ(l.MB(u[12]))||l.MJ(l.MB(u[11]))){if(l.MN("fe_classes","bui-review-score c-score"),l.MJ(l.MB(u[4]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--outline"),l.MJ(l.MB(u[5]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--end"),l.MJ(l.MB(u[6]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inverse"),l.MJ(l.MB(u[7]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inline"),l.MJ(l.MB(u[8]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--text"),l.MJ(l.MB(u[9]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--small"),l.MJ(l.MB(u[10]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--smaller"),l.MJ(l.MB(u[11]))&&l.MN("fe_score_formatted",0),l.MJ(l.MB(u[12]))&&l.MN("fe_score_formatted",l.format_review_score_new(l.MB(u[12]))),l.MN("fe_can_show_adjective",l.MB(u[13])||l.MB(u[14])),l.MJ(l.MB(u[18]))){var t="";_.unshift({fe_hide_low_adjectives:l.MB(u[17]),fe_score:l.MB(u[12])}),t=function(e){if(_i_("269:cc9dc01a"),l.MD(u[12])){var t="";l.MJ(1<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<2)&&(t+=l.ME(f[13],l.MB,l.MN,null)),l.MJ(2<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<3)&&(t+=l.ME(f[14],l.MB,l.MN,null)),l.MJ(3<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<4)&&(t+=l.ME(f[15],l.MB,l.MN,null)),l.MJ(4<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5)&&(t+=l.ME(f[16],l.MB,l.MN,null)),l.MJ(5<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5.6)&&(t+=l.ME(f[17],l.MB,l.MN,null)),l.MJ(5.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<6)&&(t+=l.ME(f[18],l.MB,l.MN,null)),l.MJ(6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<7)&&(t+=l.ME(f[19],l.MB,l.MN,null)),l.MJ(7<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8)&&(t+=l.ME(f[20],l.MB,l.MN,null)),l.MJ(8<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8.6)&&(t+=l.ME(f[21],l.MB,l.MN,null)),l.MJ(8.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9)&&(t+=l.ME(f[22],l.MB,l.MN,null)),l.MJ(9<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9.5)&&(t+=l.ME(f[23],l.MB,l.MN,null)),l.MJ(9.5<=l.MB(u[12]))&&(t+=l.ME(f[24],l.MB,l.MN,null)),l.MN(u[16],t),l.MJ(l.MB(u[17]))&&l.MJ(l.MB(u[12])<7)&&l.MN(u[16],l.ME(f[25],l.MB,l.MN,null)),e+=[l.MC(u[16]),f[26]].join("")}return l.MN("fe_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_score",0),_r_(e)}(t),_.shift(),l.MN(u[15],t),l.MJ(l.MB(u[14]))&&l.MN("fe_adjective_text",l.MB(u[14]))}e+=[f[27],l.F.entities(l.MC(u[3])),f[28],(_.unshift({review_score_number:l.MB(u[19])}),d=l.ME(f[29],l.MB,l.MN,null),_.shift(),d),f[30],l.F.entities(l.MC(u[19])),f[31]].join(""),l.MD(u[15])&&(e+=[f[32],l.MC(u[15]),f[31]].join(""),l.MD(u[20])&&(e+=[f[33],(_.unshift({num_reviews:l.format_number(l.MB(u[20]))}),d=l.ME(f[34],l.MB,l.MN,l.MO(l.MI(l.MC(u[20]))+l.MI(0),null,f[34])),_.shift(),d),f[31]].join("")),e+=f[35]),e+=f[35]}return l.MN("fe_adjective_text",0),l.MN("fe_allow_zero",0),l.MN("fe_classes",0),l.MN("fe_custom_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_modifier_end",0),l.MN("fe_modifier_inline",0),l.MN("fe_modifier_inverse",0),l.MN("fe_modifier_outline",0),l.MN("fe_modifier_text",0),l.MN("fe_reviews_number",0),l.MN("fe_score",0),l.MN("fe_score_formatted",0),l.MN("fe_show_adjective",0),e+=["",f[12]].join(""),e+=f[36],_r_(e)}function n(e){if(_i_("269:c7ed4f79"),e+=["",f[12]].join(""),l.MJ(l.MB(u[12]))||l.MJ(l.MB(u[11]))){if(l.MN("fe_classes","bui-review-score c-score"),l.MJ(l.MB(u[4]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--outline"),l.MJ(l.MB(u[5]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--end"),l.MJ(l.MB(u[6]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inverse"),l.MJ(l.MB(u[7]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--inline"),l.MJ(l.MB(u[8]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--text"),l.MJ(l.MB(u[9]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--small"),l.MJ(l.MB(u[10]))&&l.MN("fe_classes",l.MB(u[3])+" bui-review-score--smaller"),l.MJ(l.MB(u[11]))&&l.MN("fe_score_formatted",0),l.MJ(l.MB(u[12]))&&l.MN("fe_score_formatted",l.format_review_score_new(l.MB(u[12]))),l.MN("fe_can_show_adjective",l.MB(u[13])||l.MB(u[14])),l.MJ(l.MB(u[18]))){var t="";_.unshift({fe_hide_low_adjectives:l.MB(u[17]),fe_score:l.MB(u[12])}),t=function(e){if(_i_("269:0d37f3cf"),l.MD(u[12])){var t="";l.MJ(1<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<2)&&(t+=l.ME(f[13],l.MB,l.MN,null)),l.MJ(2<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<3)&&(t+=l.ME(f[14],l.MB,l.MN,null)),l.MJ(3<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<4)&&(t+=l.ME(f[15],l.MB,l.MN,null)),l.MJ(4<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5)&&(t+=l.ME(f[16],l.MB,l.MN,null)),l.MJ(5<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<5.6)&&(t+=l.ME(f[17],l.MB,l.MN,null)),l.MJ(5.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<6)&&(t+=l.ME(f[18],l.MB,l.MN,null)),l.MJ(6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<7)&&(t+=l.ME(f[19],l.MB,l.MN,null)),l.MJ(7<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8)&&(t+=l.ME(f[20],l.MB,l.MN,null)),l.MJ(8<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<8.6)&&(t+=l.ME(f[21],l.MB,l.MN,null)),l.MJ(8.6<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9)&&(t+=l.ME(f[22],l.MB,l.MN,null)),l.MJ(9<=l.MB(u[12]))&&l.MJ(l.MB(u[12])<9.5)&&(t+=l.ME(f[23],l.MB,l.MN,null)),l.MJ(9.5<=l.MB(u[12]))&&(t+=l.ME(f[24],l.MB,l.MN,null)),l.MN(u[16],t),l.MJ(l.MB(u[17]))&&l.MJ(l.MB(u[12])<7)&&l.MN(u[16],l.ME(f[25],l.MB,l.MN,null)),e+=[l.MC(u[16]),f[26]].join("")}return l.MN("fe_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_score",0),_r_(e)}(t),_.shift(),l.MN(u[15],t),l.MJ(l.MB(u[14]))&&l.MN("fe_adjective_text",l.MB(u[14]))}e+=[f[27],l.F.entities(l.MC(u[3])),f[28],(_.unshift({review_score_number:l.MB(u[19])}),d=l.ME(f[29],l.MB,l.MN,null),_.shift(),d),f[30],l.F.entities(l.MC(u[19])),f[31]].join(""),l.MD(u[15])&&(e+=[f[32],l.MC(u[15]),f[31]].join(""),l.MD(u[20])&&(e+=[f[33],(_.unshift({num_reviews:l.format_number(l.MB(u[20]))}),d=l.ME(f[34],l.MB,l.MN,l.MO(l.MI(l.MC(u[20]))+l.MI(0),null,f[34])),_.shift(),d),f[31]].join("")),e+=f[35]),e+=f[35]}return l.MN("fe_adjective_text",0),l.MN("fe_allow_zero",0),l.MN("fe_classes",0),l.MN("fe_custom_adjective",0),l.MN("fe_hide_low_adjectives",0),l.MN("fe_modifier_end",0),l.MN("fe_modifier_inline",0),l.MN("fe_modifier_inverse",0),l.MN("fe_modifier_outline",0),l.MN("fe_modifier_text",0),l.MN("fe_reviews_number",0),l.MN("fe_score",0),l.MN("fe_score_formatted",0),l.MN("fe_show_adjective",0),e+=["",f[12]].join(""),e+=f[36],_r_(e)}function r(e){return _i_("269:226d9af5"),e+=["",f[43]].join(""),l.MN("fe__is_www",l.MJ(l.MC(u[22])+""=="www")),e+=f[0],l.MN("fe__is_tdot",l.MJ(l.MC(u[22])+""=="tdot")),e+=f[0],l.MN("fe__is_mdot",l.MJ(l.MC(u[22])+""=="mdot")),e+=f[44],l.MD(u[24])?(e+=f[45],l.MN("fe__score_total",l.MC(u[23]))):(e+=f[45],l.MN("fe__score_total",l.MG((l.MC(u[25])||[])[0]))),e+=f[0],e+=f[0],l.MN("fe__score_total_detailed",l.MG((((l.MC(u[26])||{}).b_questions||[])[0]||{}).b_score_detailed)),e+=f[0],l.MN("fe__score_reviews_nr",l.MG((((l.MC(u[26])||{}).b_questions||[])[0]||{}).b_review_nr)),e+=f[0],l.MN("fe__score",l.MB(u[27])?l.MB(u[27]):0),e+=f[0],l.MN("fe__reviews_number",l.MB(u[28])?l.MB(u[28]):0),e+=f[44],l.MN("fe__subscored",l.MG((l.MC(u[26])||{}).b_questions)),e+=f[44],l.MN("fe__breakfast_included",l.MC(u[29])),e+=f[0],l.MN("fe__meal_plan_breakfast",l.MC(u[30])&&l.MC(u[30]).b_decoded_mealplan_breakfast),e+=f[0],l.MN("fe__can_show_breakfast",l.MB(u[31])||l.MB(u[32])),e+=f[44],l.MN("fe__split_subscores",l.MB(u[33])||l.MB(u[34])),e+=f[0],l.MN("fe__show_more",l.MB(u[35])),e+=f[46],l.MJ(l.MB(u[24]))&&l.MJ(l.track_experiment("OOFHFfZHQFLFESFDMfQLEHSYO"))?(e+=f[45],_.unshift({fe_hide_low_adjectives:1,fe_modifier_inline:1,fe_modifier_split:0,fe_reviews_number:f[67],fe_score:f[67],fe_show_adjective:1,fe_show_breakfast:l.MB(u[46]),fe_show_more:l.MB(u[47]),fe_subscores:l.MB(u[48])}),e=i(e),_.shift(),e+=f[0]):(e+=f[45],l.MJ(l.MB(u[33]))?e=function(e){_i_("269:81a6e029"),e+=["",f[68]].join(""),l.MJ(4<l.MC(u[49]))&&l.MJ(l.track_experiment("adUAVYCCDOTOOVMeIJSGBEbUC"))&&(e+=f[69]);e+=f[70],l.MJ(l.MC(u[22])+""=="www")||l.MJ(l.MB(u[121]))||(e+=f[71],l.MJ(4<l.MC(u[49]))&&l.MJ(l.track_experiment("adUAVYCCDOTOOVMeIJSGBEbUC"))?(e=function(e){_i_("269:97e46e1e");var t="";t+=f[0],_.unshift({low_score_adjectives:l.MB(u[62]),score:l.MI(0)+l.MI(l.MC(u[69]))}),i=t,_i_("269:a83b6ce5"),i+=f[36],l.MN("fe_review_score",l.MI(l.MB(u[51]))+l.MI(0)),i+=f[74],l.MN("fe_review_score_word_tag",l.MB(u[52])||"p"),i+=f[74],l.MN("fe_review_score_word_class_list","review-score-word"),i+=f[74],l.MJ(7<=l.MB(u[54]))&&(i+=f[75],l.MN("fe_review_score_word_class_list",l.MB(u[53])+" review-score-word--highlighted"),i+=f[36]),i+=f[76],l.MD(u[55])&&(i+=f[75],l.MN("fe_review_score_word_class_list",l.MB(u[53])+" "+l.MB(u[55])),i+=f[36]),i+=f[77],l.MD(u[62])?(i+=f[75],l.MJ(0<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<3)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[56])),i+=f[79]),i+=f[75],l.MJ(3<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<4)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[57])),i+=f[80]),i+=f[75],l.MJ(4<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<5)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[58])),i+=f[81]),i+=f[75],l.MJ(5<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<5.6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[59])),i+=f[12]),i+=f[75],l.MJ(5.6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[60])),i+=f[82]),i+=f[75],l.MJ(6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<7)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[61])),i+=f[83])):(i+=f[75],l.MJ(0<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<7)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[63])),i+=f[12])),i+=f[36],i+=f[36],l.MJ(7<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<8)&&(i+=f[78],l.MN("fe_review_score_word_copy",l.MB(u[64])),i+=f[84]),i+=f[36],l.MJ(8<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<8.6)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[65])),i+=f[12]),i+=f[36],l.MJ(8.6<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<9)&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[66])),i+=f[85]),i+=f[76],l.MJ(9<=l.MB(u[54]))&&l.MJ(l.MB(u[54])<9.5)&&(i+=f[12],l.MN(u[67],l.ME(f[23],l.MB,l.MN,null)),i+=f[12]),i+=f[74],l.MJ(9.5<=l.MB(u[54]))&&(i+=f[12],l.MN("fe_review_score_word_copy",l.MB(u[68])),i+=f[12]),i+=f[74],i+=f[36],t=_r_(i),_.shift(),t+=[f[86],(_.unshift({num_reviews:l.MC(u[49])}),d=l.ME(f[87],l.MB,l.MN,null),_.shift(),d),f[36]].join(""),l.MN(u[50],t),e+=f[36],l.MN("fe_break_line_lim",45),e+=f[88],l.MJ(l.MB(u[50]).toString().length>=l.MB(u[70]))?(e+=f[45],l.MN("fe_modifier_inline_val",0)):(e+=f[45],l.MN("fe_modifier_inline_val",1)),e+=f[0];var i;return e+=f[0],_.unshift({fe_modifier_inline:l.MB(u[71]),fe_modifier_small:1,fe_reviews:0,fe_score:l.MC(u[69]),fe_show_adjective:1}),e=h(e),_.shift(),e+=[f[89],(_.unshift({num_reviews:l.MC(u[49])}),d=l.ME(f[90],l.MB,l.MN,null),_.shift(),d),f[91]].join(""),_r_(e)}(e+=[f[72],l.F.entities("adUAVYCCDOTMbHAcUALTLRVcUO"),f[73]].join("")),e+=f[92]):(e+=f[93],_.unshift({sample_size:l.MC(u[49]),score:l.MC(u[69]),size:f[158],text:f[98]}),e=c(e),_.shift(),e+=f[134]),e+=f[159]);e+=f[160],l.MN("fe_med_average_scores",l.fragment("ugc.display.ufi_sub_score_average","ufi",l.MC(u[122]),"localize_numbers",1,"question_types","hotel_staff,hotel_services,hotel_clean,hotel_comfort,hotel_value,hotel_location,breakfast,hotel_wifi")),e+=f[161];var t=l.MC(u[25])||[];_.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(_[0]=t[i-1],e+=f[134],l.MJ(l.MC(u[134])+""=="total")){e+=f[93],l.MN("fe_question_loop_count",1),e+=f[93];var r=i,a=t,o=n,t=l.MC(u[123])||[];_.unshift(null);for(var i=1,n=t.length;i<=n;i++){if(_[0]=t[i-1],e+=f[162],l.MJ(l.MC(u[124])+""=="total")||l.MJ(l.MC(u[124])+""=="hotel_paid_wifi")){e+=f[163];continue}if(e+=f[162],l.MJ(l.MC(u[124])+""=="breakfast")&&l.MK((l.MC(u[29])||l.MC(u[30])&&l.MC(u[30]).b_decoded_mealplan_breakfast)&&l.MJ(7<l.MC(u[125])))){e+=f[164];continue}e+=f[162],l.MN("fe_question",l.MC(u[124])),e+=f[165],l.MJ(5==l.MB(u[126]))&&(e+=f[166]),e+=f[167],l.MJ(l.MB(u[127]))&&l.MJ(l.MC(u[127])[l.MC(u[122])])&&l.MJ(l.MC(u[127])[l.MC(u[122])][l.MB(u[128])])&&l.MJ(l.MC(u[127])[l.MC(u[122])][l.MC(u[128])].ufi_score_avg)&&(e+=f[168],l.MN("fe_med_score",l.MC(u[127])[l.MC(u[122])][l.MC(u[128])].ufi_score_avg),e+=f[153],l.MN("fe_med_score_std_dev",l.MC(u[127])[l.MC(u[122])][l.MC(u[128])].ufi_score_std),e+=f[153],l.MN("fe_med_score_upper",l.MC(u[127])[l.MC(u[122])][l.MC(u[128])].ufi_score_higher_bound),e+=f[153],l.MN("fe_med_score_lower",l.MC(u[127])[l.MC(u[122])][l.MC(u[128])].ufi_score_lower_bound),e+=f[168],l.MJ(l.MC(u[125])<=l.MB(u[129]))&&l.MJ(l.MC(u[125])<7.5)&&(e+=f[169],l.MN("fe_score_color_class","subscore_worse"),e+=f[150],l.MN("fe_show_legend_worse",1),e+=f[153]),e+=f[170],l.MJ(l.MC(u[125])>=l.MB(u[130]))&&(e+=f[150],l.MN("fe_score_color_class","subscore_better"),e+=f[150],l.MN("fe_show_legend_better",1),e+=f[153]),e+=f[170],l.MJ(l.MB(u[44])+""=="subscore_worse")&&l.MJ(7.5<=l.MC(u[125]))&&(e+=f[150],l.MN("fe_score_color_class",""),e+=f[153]),e+=f[148]),e+=f[162],l.MN("fe_question_loop_count",l.MI(l.MB(u[126]))+l.MI(1)),e+=f[148],l.MN("fe_med_score_value",l.MJ(l.MC(u[22])+""=="www")?l.MB(u[131]):0),e+=[f[171],l.F.entities(l.MC(u[44])),f[172]].join(""),_.unshift({fe_score:l.MC(u[125]),fe_score_detailed:l.MB(u[132]),fe_subscore_tag:l.MC(u[124]),fe_title:l.MB(u[133])}),s=e,_i_("269:5fa966e4"),s+=f[26],l.MJ(l.MB(u[12]))&&(s+=f[26],l.MN("fe_width",l.MI(l.MB(u[12]))*l.MI(10)),s+=f[52],l.MD(u[43])&&(s+=[f[53],l.MC(u[43]),f[26]].join(""),l.MJ(l.MB(u[44]))&&(s+=f[26],l.MJ(l.MB(u[44])+""=="subscore_better")?s+=[f[54],(_.unshift({color:"#96D99D",name:f[55],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join(""):l.MJ(l.MB(u[44])+""=="subscore_worse")&&(s+=[f[54],(_.unshift({color:"#FF6C6C",name:f[57],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join("")),s+=f[26]),s+=f[58]),s+=[f[59],l.F.entities(l.format_review_score_new(l.MB(u[12]))),f[60],l.format_review_score_new(l.MB(u[12])),f[61],l.F.entities(l.MC(u[45])),f[62]].join("")),s+=f[26],l.MN("fe_title",0),s+=f[26],l.MN("fe_score",0),s+=f[26],l.MN("fe_width",0),s+=f[26],e=_r_(s),_.shift(),e+=f[173],l.MN("fe_score_color_class",""),e+=f[174]}_.shift(),i=r,t=a,n=o,e+=f[134]}e+=f[175]}var s;_.shift(),e+=f[176],(l.MJ(l.MB(u[135]))||l.MJ(l.MB(u[136])))&&(e+=f[177],l.MJ(l.MB(u[135]))&&(e+=[f[178],(_.unshift({color:"#96D99D",name:f[55],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[153],l.ME(f[179],l.MB,l.MN,null),f[154]].join("")),e+=f[93],l.MJ(l.MB(u[136]))&&(e+=[f[180],(_.unshift({color:"#FF6C6C",name:f[57],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[181],l.ME(f[182],l.MB,l.MN,null),f[154]].join("")),e+=f[183]);return e+=[f[184],"",f[36]].join(""),_r_(e)}(e+=f[7]):(e+=f[185],_.unshift({fe_hide_low_adjectives:1,fe_modifier_inline:1,fe_modifier_split:l.MB(u[137]),fe_reviews_number:l.MB(u[138]),fe_score:l.MB(u[139]),fe_show_adjective:1,fe_show_breakfast:l.MB(u[46]),fe_show_more:l.MB(u[47]),fe_subscores:l.MB(u[48])}),e=function(e){if(_i_("269:dd4d2f0c"),l.MJ(l.MB(u[38]))&&l.MJ(0<l.array_length(l.MB(u[38])))){l.MN("fe_can_split",l.MB(u[36])&&l.MK(l.MB(u[37]))),l.MN("fe_length",0),l.MN("fe_count_loop",0);var t,i=l.MC(u[38])||[];_.unshift({subscore:null});for(var n=1,r=i.length;n<=r;n++){if(_[0].subscore=t=i[n-1],l.MJ(t.b_question+""=="total"))continue;if(l.MJ(t.b_question+""=="breakfast")&&l.MK(l.MB(u[39]))&&l.MJ(t.b_score_detailed<7))continue;l.MN("fe_length",l.MI(l.MB(u[40]))+l.MI(1))}for(_.shift(),e+=f[47],l.MD(u[12])&&(e+=f[48],_.unshift({fe_modifier_inline:l.MB(u[7]),fe_reviews_number:l.MB(u[20]),fe_score:l.MB(u[12]),fe_show_adjective:l.MB(u[13])}),e=h(e),_.shift(),e+=f[49]),l.MD(u[41])&&(e+=f[50]),i=l.MC(u[38])||[],_.unshift({subscore:null}),n=1,r=i.length;n<=r;n++){if(_[0].subscore=t=i[n-1],l.MJ(t.b_question+""=="total"))continue;if(l.MJ(t.b_question+""=="breakfast")&&l.MK(l.MB(u[39]))&&l.MJ(t.b_score_detailed<7))continue;l.MN("fe_count_loop",l.MI(l.MB(u[42]))+l.MI(1)),l.MJ(l.MB(u[37]))&&l.MJ(3<l.MB(u[42]))&&(e+=f[51]),_.unshift({fe_score:l.MG((t||{}).b_score_detailed),fe_title:l.MG((t||{}).review_question_name)}),a=e,_i_("269:8cefb0db"),a+=f[26],l.MJ(l.MB(u[12]))&&(a+=f[26],l.MN("fe_width",l.MI(l.MB(u[12]))*l.MI(10)),a+=f[52],l.MD(u[43])&&(a+=[f[53],l.MC(u[43]),f[26]].join(""),l.MJ(l.MB(u[44]))&&(a+=f[26],l.MJ(l.MB(u[44])+""=="subscore_better")?a+=[f[54],(_.unshift({color:"#96D99D",name:f[55],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join(""):l.MJ(l.MB(u[44])+""=="subscore_worse")&&(a+=[f[54],(_.unshift({color:"#FF6C6C",name:f[57],size:f[56]}),d=l.HELPER("icon",_[0]),_.shift(),d),f[26]].join("")),a+=f[26]),a+=f[58]),a+=[f[59],l.F.entities(l.format_review_score_new(l.MB(u[12]))),f[60],l.format_review_score_new(l.MB(u[12])),f[61],l.F.entities(l.MC(u[45])),f[62]].join("")),a+=f[26],l.MN("fe_title",0),a+=f[26],l.MN("fe_score",0),a+=f[26],l.MN("fe_width",0),a+=f[26],e=_r_(a),_.shift(),l.MJ(l.MB(u[37]))&&l.MJ(3<l.MB(u[42]))&&(e+=f[49]),l.MJ(l.MB(u[41]))&&l.MJ(l.MB(u[42])==parseInt(l.MI(l.MI(l.MB(u[40]))/l.MI(2))+l.MI(.5)))&&(e+=f[63])}_.shift(),l.MD(u[41])&&(e+=f[49]),l.MD(u[37])&&(e+=[f[64],l.ME(f[65],l.MB,l.MN,null),f[66]].join("")),e+=f[49]}var a;return l.MN("fe_can_split",0),l.MN("fe_count_loop",0),l.MN("fe_length",0),l.MN("fe_modifier_inline",0),l.MN("fe_modifier_split",0),l.MN("fe_reviews_number",0),l.MN("fe_score",0),l.MN("fe_show_adjective",0),l.MN("fe_show_breakfast",0),l.MN("fe_show_more",0),l.MN("fe_subscores",0),l.MN("fe_title",0),_r_(e)}(e),_.shift()),e+=f[45],e+=f[186]),e+=f[187],l.MN("fe__is_www",0),e+=f[0],l.MN("fe__is_tdot",0),e+=f[0],l.MN("fe__is_mdot",0),e+=[f[76],"",f[36]].join(""),_r_(e)}return t+=f[0],e=t,_i_("269:439750cf"),e+=[f[1],l.F.entities(l.MC(u[0])),f[2],l.F.entities(l.MC(u[1])),f[3]].join(""),l.MJ(l.MB(u[142]))&&l.MJ(l.MB(u[21]))&&(e+=f[4],l.MJ(l.MB(u[2])+""=="apartment")?e+=[f[5],l.ME(f[6],l.MB,l.MN,null),f[7]].join(""):l.MJ(l.MB(u[2])+""=="hotel")?e+=[f[5],l.ME(f[8],l.MB,l.MN,null),f[7]].join(""):e+=[f[5],l.ME(f[9],l.MB,l.MN,null),f[7]].join(""),e+=[f[10],l.F.entities(l.MC(u[0])),f[11]].join(""),_.unshift({fe_modifier_outline:f[37],fe_modifier_small:f[37],fe_score:l.MG((((l.MC(u[21])||{}).b_questions||[])[0]||{}).b_score_detailed),fe_show_adjective:1}),e=n(e),_.shift(),e+=f[38],l.MJ(l.MB(u[140]))&&l.MJ(l.MB(u[141]))&&(e+=[f[39],l.F.entities(l.MC(u[0])),f[40],(_.unshift({unit_name:l.MB(u[1])}),d=l.ME(f[41],l.MB,l.MN,null),_.shift(),d),f[42]].join(""),_.unshift({b_unit_scores:l.MB(u[21]),is_unit_scores:f[37]}),e=r(e),_.shift(),e+=f[188]),e+=f[0]),e+=f[189],t=_r_(e),t+=f[36],_r_(t)})}()),B.define("component/hotel/new-rooms-table/unit-review-score",function(e,t,i){_i_("269:3b7520e3");var r=e("fragment"),a=e("server-data"),o=e("et"),s=e("events");i.exports=e("component/reactive").extend({template:"unit_review_score",initialize:function(){_i_("269:8e8a3af8");var e,t=this.$el.closest(".unit-reviews-wrapper").attr("data-room-id"),i=this.$el.closest(".unit-reviews-wrapper").attr("data-room-name"),n=this.$el.closest(".unit-reviews-wrapper").attr("data-breakdown-enabled");switch(this.setState({room_id:t}),this.setState({room_name:i}),this.setState({breakdown_enabled:n}),B.env.b_acc_type){case"201":e="apartment";break;case"204":case"205":case"206":case"218":e="hotel";break;case"219":e="apartment";break;default:e="other"}this.setState({room_type:e}),B.env.b_hotel_unit_reviews||(B.env.b_hotel_unit_reviews="running_query",r.call("ugc.display.user_ratings_for_property",{hotel_id:B.env.b_hotel_id,breakdowns:"room_id",reviewsng:1}).then(function(e){if(_i_("269:59f1c2c5"),!e)return _r_(!1);B.env.b_hotel_unit_reviews=e,s.trigger("unit_reviews/loaded",e),this._dataFetchedCallback(e),_r_()}.bind(this),function(e){})),"running_query"===B.env.b_hotel_unit_reviews&&s.on("unit_reviews/loaded",function(e){_i_("269:fc36f18c"),this._dataFetchedCallback(e),_r_()}.bind(this)),"object"==typeof B.env.b_hotel_unit_reviews&&null!==B.env.b_hotel_unit_reviews&&this._dataFetchedCallback(B.env.b_hotel_unit_reviews),_r_()},_dataFetchedCallback:function(e){_i_("269:a9bf0233");var t=this.getState().room_id,i=e&&e[t];if(!i)return _r_(!1);this.setState({data_fetched:!0}),this.setState({data:{b_questions:this._formatScores(i,B.env.b_hotel_id)}}),this.$el.closest('.unit-reviews-wrapper[data-room-id="'+t+'"]').removeClass("bui-u-hidden"),this._addEventListeners(),_r_()},_addEventListeners:function(){var t,i;_i_("269:93fdad51");var n=this;this.$el.on("mouseenter",function(e){_i_("269:7f868482"),n.setState({show_breakdown:!0}),clearTimeout(i),t=setTimeout(function(){_i_("269:cb9c66fc"),o.customGoal("OOFHFfZHQFLFESFDMfQLEHSYO",1),clearTimeout(t),_r_()},1500),_r_()}),this.$el.on("mouseleave",function(e){_i_("269:d31ca6b7"),i=setTimeout(function(){_i_("269:3230b5ff"),n.setState({show_breakdown:!1}),_r_()},500),clearTimeout(t),_r_()}),_r_()},_formatScores:function(i,n){_i_("269:a70a918b");var r=[];return["hotel_services","hotel_clean","hotel_comfort","hotel_value","hotel_wifi"].forEach(function(e){if(_i_("269:c93b635e"),i[e]){var t={b_score_detailed:i[e].b_review_score,b_question:e,b_review_nr:i[e].review_nr,b_review_score:i[e].rating,b_score_out_of_10:i[e].b_review_score,b_hotel_id:n,b_score_detailed_total:i[e].b_review_score,b_score_detailed_formatted:i[e].b_review_score_formatted,review_question_name:a.b_reviews_labels_translations[e]};r.push(t)}_r_()}),i.total&&r.unshift({b_score_detailed:i.total.b_review_score,b_question:"total",b_review_nr:i.total.review_nr,b_review_score:i.total.rating,b_score_out_of_10:i.total.b_review_score,b_hotel_id:n,b_score_detailed_total:i.total.b_review_score,b_score_detailed_formatted:i.total.b_review_score_formatted,review_question_name:a.b_reviews_labels_translations.total}),_r_(r)}}),_r_()}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.hotel.run=!0),B.when({events:"ready"}).run(function(e){_i_("269:689171f8");var r=e("jquery"),t=e("et"),i=e("search/searchbox/events"),a=e("searchresults/filters"),o=!1,s=null,n="OLGPZZSEISUacWCcfZVC";i.on(i.SEARCHBOX_DESTINATION_SELECTED,function(e){_i_("269:dd19e745"),o=e.destination.dest_id!==B.env.b_dest_id,_r_()}),r("body").on("submit",".js--sb-searchbox",function(e){_i_("269:f7df0509"),B.env.b_nflt_url&&(t.stage(n,1),o&&t.stage(n,2)),_r_()}),t.track(n)&&r("body").on("submit",".js--sb-searchbox",function(e){_i_("269:52b57357");var t=r(this),i=B.env.b_nflt_url;if(i){var n=r('input[name="nflt"]',t);o&&((s=a.parse(i)).removeFiltersByName("di"),s.removeFiltersByName("uf"),s.removeFiltersByName("popular_nearby_landmarks"),i=s.toString()),n.length?n.val(i):t.append('<input type="hidden" name="nflt" value="'+i+'" />')}_r_()}),_r_()});